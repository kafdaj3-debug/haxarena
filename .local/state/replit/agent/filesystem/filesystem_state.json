{"file_contents":{"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/pages/home-page.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ActiveRoomCard from \"@/components/ActiveRoomCard\";\nimport ForumPostCard from \"@/components/ForumPostCard\";\nimport LiveChat from \"@/components/LiveChat\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Link } from \"wouter\";\nimport { Trophy, BarChart3, MessageSquare, Shield } from \"lucide-react\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { tr } from \"date-fns/locale\";\n\nexport default function HomePage() {\n  const { user, logout } = useAuth();\n  const allRooms = [\n    {\n      matchName: \"BeÅŸiktaÅŸ vs Trabzonspor\",\n      link: \"https://www.haxball.com/play?c=S94fRiqX_MI\"\n    },\n    {\n      matchName: \"Kocaelispor vs Gaziantepspor\",\n      link: \"https://www.haxball.com/play?c=SQiZbOZdvCU\"\n    },\n    {\n      matchName: \"KarÅŸÄ±yaka vs GÃ¶ztepe\",\n      link: \"https://www.haxball.com/play?c=0nc3iNzdT78\"\n    },\n    {\n      matchName: \"Galatasaray vs FenerbahÃ§e\",\n      link: \"https://www.haxball.com/play?c=tIJcy9L3c0k\"\n    }\n  ];\n\n  const { data: forumPosts = [] } = useQuery<any[]>({\n    queryKey: [\"/api/forum-posts\"],\n  });\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1\">\n        <section className=\"relative bg-gradient-to-b from-card to-background py-12 md:py-20 border-b\">\n          <div className=\"container mx-auto px-4 text-center\">\n            <h1 className=\"text-3xl sm:text-4xl md:text-6xl font-heading font-bold mb-4 md:mb-6\" data-testid=\"text-hero-title\">\n              HaxArena V6 Real Soccer'e\n              <span className=\"block text-primary mt-2\">HoÅŸ Geldiniz</span>\n            </h1>\n            <p className=\"text-base sm:text-lg md:text-xl text-muted-foreground mb-6 md:mb-8 max-w-2xl mx-auto px-4\">\n              TÃ¼rkiye'nin en bÃ¼yÃ¼k HaxBall Real Soccer topluluÄŸu\n            </p>\n            <div className=\"flex flex-col sm:flex-row items-center justify-center gap-3 md:gap-4 px-4\">\n              <Link href=\"/aktif-odalar\" className=\"w-full sm:w-auto\">\n                <Button size=\"lg\" className=\"hover-elevate active-elevate-2 w-full sm:w-auto\" data-testid=\"button-hero-rooms\">\n                  Aktif Odalara KatÄ±l\n                </Button>\n              </Link>\n              <a href=\"https://discord.gg/haxarena\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"w-full sm:w-auto\">\n                <Button size=\"lg\" variant=\"outline\" className=\"hover-elevate active-elevate-2 w-full sm:w-auto\" data-testid=\"button-hero-discord\">\n                  Discord'a KatÄ±l\n                </Button>\n              </a>\n            </div>\n          </div>\n        </section>\n\n        <section className=\"py-8 md:py-16 bg-background\">\n          <div className=\"container mx-auto px-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12\">\n              <Link href=\"/lig\" data-testid=\"link-feature-league\">\n                <Card className=\"hover-elevate active-elevate-2 overflow-visible cursor-pointer\">\n                  <CardHeader>\n                    <Trophy className=\"w-10 h-10 text-primary mb-2\" />\n                    <CardTitle>Aktif Lig</CardTitle>\n                    <CardDescription>\n                      Profesyonel lig sistemi ve istatistikler\n                    </CardDescription>\n                  </CardHeader>\n                </Card>\n              </Link>\n\n              <Link href=\"/vip\" data-testid=\"link-feature-vip\">\n                <Card className=\"hover-elevate active-elevate-2 overflow-visible cursor-pointer\">\n                  <CardHeader>\n                    <Shield className=\"w-10 h-10 text-primary mb-2\" />\n                    <CardTitle>VIP Sistem</CardTitle>\n                    <CardDescription>\n                      Ã–zel Ã¶zellikler ve ayrÄ±calÄ±klar\n                    </CardDescription>\n                  </CardHeader>\n                </Card>\n              </Link>\n\n              <Link href=\"/forum\" data-testid=\"link-feature-forum\">\n                <Card className=\"hover-elevate active-elevate-2 overflow-visible cursor-pointer\">\n                  <CardHeader>\n                    <MessageSquare className=\"w-10 h-10 text-primary mb-2\" />\n                    <CardTitle>Forum</CardTitle>\n                    <CardDescription>\n                      Aktif tartÄ±ÅŸma ve paylaÅŸÄ±m platformu\n                    </CardDescription>\n                  </CardHeader>\n                </Card>\n              </Link>\n\n              <Link href=\"/istatistikler\" data-testid=\"link-feature-statistics\">\n                <Card className=\"hover-elevate active-elevate-2 overflow-visible cursor-pointer\">\n                  <CardHeader>\n                    <BarChart3 className=\"w-10 h-10 text-primary mb-2\" />\n                    <CardTitle>Ä°statistikler</CardTitle>\n                    <CardDescription>\n                      Oyuncu sÄ±ralamalarÄ±nÄ± ve performans istatistiklerini inceleyin\n                    </CardDescription>\n                  </CardHeader>\n                </Card>\n              </Link>\n            </div>\n\n            <div className=\"mb-8 md:mb-12 grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6\">\n              {forumPosts.length > 0 && (\n                <div className=\"lg:col-span-2\">\n                  <div className=\"flex items-center justify-between mb-4 md:mb-6\">\n                    <h2 className=\"text-2xl md:text-3xl font-heading font-bold\">Son Forum KonularÄ±</h2>\n                    <Link href=\"/forum\">\n                      <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2 text-sm md:text-base\" data-testid=\"button-view-forum\">\n                        Foruma Git\n                      </Button>\n                    </Link>\n                  </div>\n                  <div className=\"space-y-3 md:space-y-4\">\n                    {forumPosts.slice(0, 2).map((post: any) => (\n                      <ForumPostCard \n                        key={post.id} \n                        id={post.id}\n                        title={post.title}\n                        content={post.content}\n                        author={post.user?.username || 'Bilinmeyen'}\n                        authorProfilePicture={post.user?.profilePicture}\n                        authorRole={post.staffRole}\n                        authorPlayerRole={post.user?.playerRole}\n                        authorIsAdmin={post.user?.isAdmin}\n                        authorIsSuperAdmin={post.user?.isSuperAdmin}\n                        category={post.category}\n                        replyCount={post.replyCount}\n                        createdAt={formatDistanceToNow(new Date(post.createdAt), { addSuffix: true, locale: tr })}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n              <div className=\"lg:col-span-1\">\n                <LiveChat />\n              </div>\n            </div>\n\n            <div>\n              <h2 className=\"text-2xl md:text-3xl font-heading font-bold mb-4 md:mb-6\">Aktif Odalar</h2>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4\">\n                {allRooms.map((room, index) => (\n                  <ActiveRoomCard\n                    key={index}\n                    matchName={room.matchName}\n                    link={room.link}\n                    isActive={true}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n        </section>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":7781},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"server/auth.ts":{"content":"import type { Express } from \"express\";\nimport passport from \"passport\";\nimport { Strategy as LocalStrategy } from \"passport-local\";\nimport session from \"express-session\";\nimport connectPgSimple from \"connect-pg-simple\";\nimport MemoryStore from \"memorystore\";\nimport bcrypt from \"bcrypt\";\nimport { storage } from \"./storage\";\nimport type { User } from \"@shared/schema\";\nimport { db, pool } from \"./db\";\n\nconst PgSession = connectPgSimple(session);\nconst MemoryStoreSession = MemoryStore(session);\n\n// IP-based registration rate limiting (30 minutes)\nconst registrationAttempts = new Map<string, number>();\n\ndeclare global {\n  namespace Express {\n    interface User {\n      id: string;\n      username: string;\n      profilePicture?: string | null;\n      isAdmin: boolean;\n      isSuperAdmin: boolean;\n      isApproved: boolean;\n      role: string;\n      isBanned: boolean;\n      isChatMuted: boolean;\n    }\n  }\n}\n\nexport function setupAuth(app: Express) {\n  // Configure session store based on environment\n  let sessionStore;\n  \n  if (process.env.NODE_ENV === \"production\") {\n    // Production: Use PostgreSQL session store with existing pool\n    // This reuses the same connection pool as Drizzle (already has SSL configured)\n    sessionStore = new PgSession({\n      pool: pool as any, // Type assertion: Neon Pool is compatible with pg Pool\n      createTableIfMissing: true,\n      tableName: 'session'\n    });\n    \n    // Handle async connection errors\n    sessionStore.on?.('error', (err: Error) => {\n      console.error(\"âš ï¸  Session store error:\", err);\n      // Session store errors are logged but don't crash the app\n      // Users will need to re-authenticate if sessions are lost\n    });\n    \n    console.log(\"âœ“ Production session store: PostgreSQL (connect-pg-simple with Neon pool)\");\n  } else {\n    // Development: Use MemoryStore for simplicity\n    sessionStore = new MemoryStoreSession({\n      checkPeriod: 86400000 // Prune expired entries every 24h\n    });\n  }\n\n  app.use(\n    session({\n      store: sessionStore,\n      secret: process.env.SESSION_SECRET || \"haxarena-v6-secret-key\",\n      resave: false,\n      saveUninitialized: false,\n      cookie: {\n        maxAge: 30 * 24 * 60 * 60 * 1000, // 30 days\n        httpOnly: true, // Prevent XSS attacks\n        secure: process.env.NODE_ENV === \"production\", // HTTPS only in production (Replit auto-provides HTTPS)\n        sameSite: \"lax\", // CSRF protection - same-site requests allowed\n      },\n    })\n  );\n\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  passport.use(\n    new LocalStrategy(async (username, password, done) => {\n      try {\n        const user = await storage.getUserByUsername(username);\n        \n        if (!user) {\n          return done(null, false, { message: \"KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±\" });\n        }\n\n        const isValid = await bcrypt.compare(password, user.password);\n        \n        if (!isValid) {\n          return done(null, false, { message: \"KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±\" });\n        }\n\n        if (!user.isApproved) {\n          return done(null, false, { message: \"HesabÄ±nÄ±z henÃ¼z onaylanmadÄ±\" });\n        }\n\n        return done(null, {\n          id: user.id,\n          username: user.username,\n          profilePicture: user.profilePicture,\n          isAdmin: user.isAdmin,\n          isSuperAdmin: user.isSuperAdmin,\n          isApproved: user.isApproved,\n          role: user.role,\n          isBanned: user.isBanned,\n          isChatMuted: user.isChatMuted,\n        });\n      } catch (err) {\n        return done(err);\n      }\n    })\n  );\n\n  passport.serializeUser((user, done) => {\n    done(null, user.id);\n  });\n\n  passport.deserializeUser(async (id: string, done) => {\n    try {\n      const user = await storage.getUser(id);\n      if (!user) {\n        return done(null, false);\n      }\n      done(null, {\n        id: user.id,\n        username: user.username,\n        profilePicture: user.profilePicture,\n        isAdmin: user.isAdmin,\n        isSuperAdmin: user.isSuperAdmin,\n        isApproved: user.isApproved,\n        role: user.role,\n        isBanned: user.isBanned,\n        isChatMuted: user.isChatMuted,\n      });\n    } catch (err) {\n      done(err);\n    }\n  });\n\n  app.post(\"/api/auth/register\", async (req, res) => {\n    try {\n      const { username, password } = req.body;\n\n      console.log(\"ðŸ“ REGISTER attempt:\", { username, hasPassword: !!password });\n\n      if (!username || !password) {\n        console.log(\"âš ï¸  REGISTER validation failed: missing credentials\");\n        return res.status(400).json({ error: \"KullanÄ±cÄ± adÄ± ve ÅŸifre gereklidir\" });\n      }\n\n      const existingUser = await storage.getUserByUsername(username);\n      if (existingUser) {\n        console.log(\"âš ï¸  REGISTER failed: username already exists:\", username);\n        return res.status(400).json({ error: \"Bu kullanÄ±cÄ± adÄ± zaten kullanÄ±lÄ±yor\" });\n      }\n\n      const hashedPassword = await bcrypt.hash(password, 10);\n\n      const user = await storage.createUser({\n        username,\n        password: hashedPassword,\n      });\n\n      console.log(\"âœ… REGISTER success:\", user.username);\n      \n      // IP-based rate limiting: Sadece baÅŸarÄ±lÄ± kayÄ±ttan sonra IP'yi kaydet\n      let ip = req.ip || req.headers['x-forwarded-for'] || req.connection.remoteAddress;\n      if (Array.isArray(ip)) {\n        ip = ip[0];\n      }\n      if (typeof ip === 'string') {\n        ip = ip.split(',')[0].trim();\n        if (ip.startsWith('::ffff:')) {\n          ip = ip.substring(7);\n        }\n        registrationAttempts.set(ip, Date.now());\n      }\n      \n      return res.json({\n        id: user.id,\n        username: user.username,\n        isAdmin: user.isAdmin,\n        isSuperAdmin: user.isSuperAdmin,\n        isApproved: user.isApproved,\n        role: user.role,\n      });\n    } catch (error) {\n      console.error(\"âŒ REGISTER ERROR:\", error);\n      console.error(\"Error details:\", error instanceof Error ? error.message : String(error));\n      console.error(\"Error stack:\", error instanceof Error ? error.stack : \"No stack\");\n      return res.status(500).json({ error: \"KayÄ±t baÅŸarÄ±sÄ±z\" });\n    }\n  });\n\n  app.post(\"/api/auth/login\", (req, res, next) => {\n    passport.authenticate(\"local\", (err: any, user: Express.User | false, info: any) => {\n      if (err) {\n        console.error(\"âŒ LOGIN ERROR:\", err);\n        console.error(\"Error stack:\", err.stack);\n        return res.status(500).json({ error: \"Sunucu hatasÄ±\" });\n      }\n      if (!user) {\n        console.log(\"âš ï¸  LOGIN FAILED:\", info?.message);\n        return res.status(401).json({ error: info?.message || \"GiriÅŸ baÅŸarÄ±sÄ±z\" });\n      }\n      \n      // Ban kontrolÃ¼\n      const userWithBan = user as any;\n      if (userWithBan.isBanned) {\n        const banMessage = userWithBan.banReason \n          ? `HesabÄ±nÄ±z yasaklandÄ±. Sebep: ${userWithBan.banReason}` \n          : \"HesabÄ±nÄ±z yasaklandÄ±. Destek ekibi ile iletiÅŸime geÃ§in.\";\n        return res.status(403).json({ error: banMessage });\n      }\n      \n      req.login(user, async (err) => {\n        if (err) {\n          console.error(\"âŒ SESSION LOGIN ERROR:\", err);\n          return res.status(500).json({ error: \"GiriÅŸ yapÄ±lamadÄ±\" });\n        }\n        \n        let ip = req.ip || req.headers['x-forwarded-for'] || req.connection.remoteAddress;\n        if (Array.isArray(ip)) {\n          ip = ip[0];\n        }\n        if (typeof ip === 'string') {\n          ip = ip.split(',')[0].trim();\n          if (ip.startsWith('::ffff:')) {\n            ip = ip.substring(7);\n          }\n        }\n        \n        if (ip && typeof ip === 'string') {\n          await storage.updateUser(user.id, { lastIpAddress: ip });\n        }\n        \n        return res.json(user);\n      });\n    })(req, res, next);\n  });\n\n  app.post(\"/api/auth/logout\", (req, res) => {\n    req.logout((err) => {\n      if (err) {\n        return res.status(500).json({ error: \"Ã‡Ä±kÄ±ÅŸ yapÄ±lamadÄ±\" });\n      }\n      res.json({ message: \"BaÅŸarÄ±yla Ã§Ä±kÄ±ÅŸ yapÄ±ldÄ±\" });\n    });\n  });\n\n  app.get(\"/api/auth/me\", (req, res) => {\n    if (req.isAuthenticated()) {\n      return res.json(req.user);\n    }\n    res.status(401).json({ error: \"GiriÅŸ yapÄ±lmamÄ±ÅŸ\" });\n  });\n}\n","size_bytes":8234},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/pages/forum-post-detail-page.tsx":{"content":"import { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useParams, useLocation } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { ArrowLeft, Calendar, Archive, Lock as LockIcon, MessageSquare, Trash2, Quote, Image as ImageIcon, X, Edit } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAuth } from \"@/lib/auth\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { ForumPost, ForumReply, User } from \"@shared/schema\";\nimport { format } from \"date-fns\";\nimport { tr } from \"date-fns/locale\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\n\nconst roleColors: Record<string, string> = {\n  \"Founder\": \"bg-purple-500/20 text-purple-300 border-purple-500/30\",\n  \"Master Coordinator\": \"bg-red-500/20 text-red-300 border-red-500/30\",\n  \"Coordinator Admin\": \"bg-orange-500/20 text-orange-300 border-orange-500/30\",\n  \"Head Overseer Admin\": \"bg-yellow-500/20 text-yellow-300 border-yellow-500/30\",\n  \"Inspector Admin\": \"bg-green-500/20 text-green-300 border-green-500/30\",\n  \"Game Admin\": \"bg-blue-500/20 text-blue-300 border-blue-500/30\",\n  \"Arena Admin\": \"bg-cyan-500/20 text-cyan-300 border-cyan-500/30\",\n};\n\ntype PostWithUser = ForumPost & { user: User; staffRole?: string | null };\ntype ReplyWithUser = ForumReply & { user: User; staffRole?: string | null };\n\nexport default function ForumPostDetailPage() {\n  const { id } = useParams<{ id: string }>();\n  const [, navigate] = useLocation();\n  const { user, logout } = useAuth();\n  const { toast } = useToast();\n  const [replyContent, setReplyContent] = useState(\"\");\n  const [replyImageUrl, setReplyImageUrl] = useState<string | null>(null);\n  const [quotedReplyId, setQuotedReplyId] = useState<string | null>(null);\n  \n  const [editingPost, setEditingPost] = useState(false);\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editContent, setEditContent] = useState(\"\");\n  \n  const [editingReplyId, setEditingReplyId] = useState<string | null>(null);\n  const [editReplyContent, setEditReplyContent] = useState(\"\");\n\n  const { data: post, isLoading: postLoading } = useQuery<PostWithUser>({\n    queryKey: [\"/api/forum-posts\", id],\n    queryFn: async () => {\n      const response = await fetch(`/api/forum-posts/${id}`);\n      if (!response.ok) throw new Error(\"Konu yÃ¼klenemedi\");\n      return response.json();\n    },\n  });\n\n  const { data: replies, isLoading: repliesLoading } = useQuery<ReplyWithUser[]>({\n    queryKey: [\"/api/forum-posts\", id, \"replies\"],\n    queryFn: async () => {\n      const response = await fetch(`/api/forum-posts/${id}/replies`);\n      if (!response.ok) throw new Error(\"Cevaplar yÃ¼klenemedi\");\n      return response.json();\n    },\n  });\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    if (file.size > 5 * 1024 * 1024) {\n      toast({\n        title: \"Hata\",\n        description: \"GÃ¶rsel boyutu 5MB'dan kÃ¼Ã§Ã¼k olmalÄ±dÄ±r\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64String = reader.result as string;\n      setReplyImageUrl(base64String);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const removeImage = () => {\n    setReplyImageUrl(null);\n  };\n\n  const createReplyMutation = useMutation({\n    mutationFn: async (data: { content: string; imageUrl?: string; quotedReplyId?: string }) => {\n      return await apiRequest(\"POST\", `/api/forum-posts/${id}/replies`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\", id, \"replies\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"CevabÄ±nÄ±z eklendi\",\n      });\n      setReplyContent(\"\");\n      setReplyImageUrl(null);\n      setQuotedReplyId(null);\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Cevap eklenemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deletePostMutation = useMutation({\n    mutationFn: async () => {\n      return await apiRequest(\"DELETE\", `/api/forum-posts/${id}`, {});\n    },\n    onSuccess: () => {\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Konu silindi\",\n      });\n      navigate(\"/forum\");\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Konu silinemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteReplyMutation = useMutation({\n    mutationFn: async (replyId: string) => {\n      return await apiRequest(\"DELETE\", `/api/forum-replies/${replyId}`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\", id, \"replies\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Cevap silindi\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Cevap silinemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const archivePostMutation = useMutation({\n    mutationFn: async (archived: boolean) => {\n      return await apiRequest(\"PATCH\", `/api/forum-posts/${id}`, { isArchived: archived });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\", id] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: post?.isArchived ? \"ArÅŸivden Ã§Ä±karÄ±ldÄ±\" : \"ArÅŸivlendi\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const editPostMutation = useMutation({\n    mutationFn: async (data: { title: string; content: string }) => {\n      return await apiRequest(\"PATCH\", `/api/forum-posts/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\", id] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Konu gÃ¼ncellendi\",\n      });\n      setEditingPost(false);\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Konu gÃ¼ncellenemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const editReplyMutation = useMutation({\n    mutationFn: async ({ replyId, content }: { replyId: string; content: string }) => {\n      return await apiRequest(\"PATCH\", `/api/forum-replies/${replyId}`, { content });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\", id, \"replies\"] });\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Cevap gÃ¼ncellendi\",\n      });\n      setEditingReplyId(null);\n      setEditReplyContent(\"\");\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Cevap gÃ¼ncellenemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleReplySubmit = () => {\n    if (!replyContent.trim()) {\n      toast({\n        title: \"Hata\",\n        description: \"Cevap iÃ§eriÄŸi boÅŸ olamaz\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    createReplyMutation.mutate({\n      content: replyContent,\n      imageUrl: replyImageUrl || undefined,\n      quotedReplyId: quotedReplyId || undefined,\n    });\n  };\n\n  if (postLoading) {\n    return (\n      <div className=\"flex flex-col min-h-screen\">\n        <Header user={user} onLogout={logout} />\n        <main className=\"flex-1 py-12\">\n          <div className=\"container mx-auto px-4\">\n            <p className=\"text-center text-muted-foreground\">YÃ¼kleniyor...</p>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (!post) {\n    return (\n      <div className=\"flex flex-col min-h-screen\">\n        <Header user={user} onLogout={logout} />\n        <main className=\"flex-1 py-12\">\n          <div className=\"container mx-auto px-4\">\n            <p className=\"text-center text-muted-foreground\">Konu bulunamadÄ±</p>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4 max-w-4xl\">\n          <Button \n            variant=\"ghost\" \n            onClick={() => navigate(\"/forum\")}\n            className=\"mb-6\"\n            data-testid=\"button-back-to-forum\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Foruma DÃ¶n\n          </Button>\n\n          <Card className=\"mb-6\" data-testid=\"card-post-detail\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between gap-2 mb-3 flex-wrap\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                    {post.category}\n                  </span>\n                  {post.isLocked && (\n                    <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium flex items-center gap-1\">\n                      <LockIcon className=\"w-3 h-3\" />\n                      Kilitli\n                    </span>\n                  )}\n                  {post.isArchived && (\n                    <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium flex items-center gap-1\">\n                      <Archive className=\"w-3 h-3\" />\n                      ArÅŸivlendi\n                    </span>\n                  )}\n                </div>\n                {user && post.userId === user.id && (\n                  <div className=\"flex items-center gap-2\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => {\n                        setEditingPost(true);\n                        setEditTitle(post.title);\n                        setEditContent(post.content);\n                      }}\n                      data-testid=\"button-edit-post\"\n                    >\n                      <Edit className=\"w-4 h-4 mr-1\" />\n                      DÃ¼zenle\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => archivePostMutation.mutate(!post.isArchived)}\n                      disabled={archivePostMutation.isPending}\n                      data-testid=\"button-archive-post\"\n                    >\n                      <Archive className=\"w-4 h-4 mr-1\" />\n                      {post.isArchived ? \"ArÅŸivden Ã‡Ä±kar\" : \"ArÅŸivle\"}\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => deletePostMutation.mutate()}\n                      disabled={deletePostMutation.isPending}\n                      className=\"text-destructive\"\n                      data-testid=\"button-delete-post\"\n                    >\n                      <Trash2 className=\"w-4 h-4 mr-1\" />\n                      Sil\n                    </Button>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex items-start gap-4 mb-4\">\n                <Avatar className=\"w-16 h-16 flex-shrink-0 border-2 border-primary/20\">\n                  <AvatarImage src={post.user.profilePicture || undefined} alt={post.user.username} />\n                  <AvatarFallback className=\"text-xl\">{post.user.username.slice(0, 2).toUpperCase()}</AvatarFallback>\n                </Avatar>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-2 flex-wrap mb-2\">\n                    <span className=\"text-xl font-bold text-foreground\" data-testid=\"text-post-author\">{post.user.username}</span>\n                    \n                    {/* YÃ¶netim etiketi (en Ã¶ncelikli) */}\n                    {post.user.isSuperAdmin && (\n                      <Badge \n                        variant=\"outline\" \n                        className=\"bg-red-500/20 text-red-300 border-red-500/30 text-xs font-bold\"\n                      >\n                        YÃ–NETÄ°M\n                      </Badge>\n                    )}\n                    \n                    {/* Admin/Staff rolÃ¼ */}\n                    {post.staffRole && (\n                      <Badge \n                        variant=\"outline\" \n                        className={`${roleColors[post.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                      >\n                        {post.staffRole}\n                      </Badge>\n                    )}\n                    \n                    {/* Oyuncu rolÃ¼ */}\n                    {post.user.playerRole && (\n                      <Badge \n                        variant=\"outline\" \n                        className=\"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 text-xs\"\n                      >\n                        {post.user.playerRole}\n                      </Badge>\n                    )}\n                  </div>\n                  \n                  {editingPost ? (\n                    <div className=\"space-y-3\">\n                      <Input\n                        value={editTitle}\n                        onChange={(e) => setEditTitle(e.target.value)}\n                        placeholder=\"BaÅŸlÄ±k\"\n                        className=\"text-2xl font-heading font-bold\"\n                        data-testid=\"input-edit-title\"\n                      />\n                    </div>\n                  ) : (\n                    <h1 className=\"text-2xl font-heading font-bold mb-2\" data-testid=\"text-post-title\">\n                      {post.title}\n                    </h1>\n                  )}\n                  \n                  <div className=\"flex items-center gap-2 flex-wrap text-sm text-muted-foreground\">\n                    <span className=\"flex items-center gap-1\">\n                      <Calendar className=\"w-4 h-4\" />\n                      {format(new Date(post.createdAt), \"d MMMM yyyy, HH:mm\", { locale: tr })}\n                    </span>\n                    {post.editedAt && (\n                      <>\n                        <span>â€¢</span>\n                        <span className=\"text-xs italic\" data-testid=\"text-post-edited\">\n                          (dÃ¼zenlendi)\n                        </span>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {editingPost ? (\n                <div className=\"space-y-3\">\n                  <Textarea\n                    value={editContent}\n                    onChange={(e) => setEditContent(e.target.value)}\n                    placeholder=\"Ä°Ã§erik\"\n                    rows={8}\n                    data-testid=\"textarea-edit-content\"\n                  />\n                  <div className=\"flex gap-2\">\n                    <Button\n                      onClick={() => {\n                        if (!editTitle.trim() || !editContent.trim()) {\n                          toast({\n                            title: \"Hata\",\n                            description: \"BaÅŸlÄ±k ve iÃ§erik boÅŸ olamaz\",\n                            variant: \"destructive\",\n                          });\n                          return;\n                        }\n                        editPostMutation.mutate({ title: editTitle, content: editContent });\n                      }}\n                      disabled={editPostMutation.isPending}\n                      data-testid=\"button-save-post\"\n                    >\n                      Kaydet\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => setEditingPost(false)}\n                      data-testid=\"button-cancel-edit-post\"\n                    >\n                      Ä°ptal\n                    </Button>\n                  </div>\n                </div>\n              ) : (\n                <>\n                  <p className=\"whitespace-pre-wrap text-muted-foreground\" data-testid=\"text-post-content\">\n                    {post.content}\n                  </p>\n                  {post.imageUrl && (\n                    <div className=\"mt-4\">\n                      <img \n                        src={post.imageUrl} \n                        alt=\"Post image\" \n                        className=\"max-w-full h-auto rounded-md\"\n                        data-testid=\"img-post-image\"\n                      />\n                    </div>\n                  )}\n                </>\n              )}\n            </CardContent>\n          </Card>\n\n          {post.isLocked || post.isArchived ? (\n            <Card className=\"mb-6\">\n              <CardContent className=\"pt-6\">\n                <div className=\"text-center text-muted-foreground\">\n                  <LockIcon className=\"w-8 h-8 mx-auto mb-2\" />\n                  <p>{post.isArchived ? \"Bu konu arÅŸivlenmiÅŸtir. Yeni cevap eklenemez.\" : \"Bu konu kilitlenmiÅŸtir. Yeni cevap eklenemez.\"}</p>\n                </div>\n              </CardContent>\n            </Card>\n          ) : user ? (\n            <Card className=\"mb-6\">\n              <CardHeader>\n                <h3 className=\"text-lg font-semibold\">Cevap Yaz</h3>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {quotedReplyId && (\n                  <div className=\"bg-muted p-3 rounded-md relative\">\n                    <div className=\"flex items-start gap-2\">\n                      <Quote className=\"w-4 h-4 mt-1 text-muted-foreground\" />\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm text-muted-foreground\">\n                          AlÄ±ntÄ± yapÄ±lÄ±yor...\n                        </p>\n                      </div>\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-6 w-6\"\n                        onClick={() => setQuotedReplyId(null)}\n                        data-testid=\"button-remove-quote\"\n                      >\n                        <X className=\"w-3 h-3\" />\n                      </Button>\n                    </div>\n                  </div>\n                )}\n                <Textarea \n                  placeholder=\"CevabÄ±nÄ±zÄ± yazÄ±n...\"\n                  rows={4}\n                  value={replyContent}\n                  onChange={(e) => setReplyContent(e.target.value)}\n                  data-testid=\"textarea-reply-content\"\n                />\n                {replyImageUrl ? (\n                  <div className=\"relative inline-block\">\n                    <img \n                      src={replyImageUrl} \n                      alt=\"Preview\" \n                      className=\"max-w-full h-auto max-h-48 rounded-md\"\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"destructive\"\n                      size=\"icon\"\n                      className=\"absolute top-2 right-2\"\n                      onClick={removeImage}\n                      data-testid=\"button-remove-reply-image\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-2\">\n                    <Input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleImageUpload}\n                      className=\"hidden\"\n                      id=\"reply-image-upload\"\n                      data-testid=\"input-reply-image\"\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => document.getElementById('reply-image-upload')?.click()}\n                      data-testid=\"button-upload-reply-image\"\n                    >\n                      <ImageIcon className=\"w-4 h-4 mr-2\" />\n                      GÃ¶rsel Ekle\n                    </Button>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Maksimum 5MB\n                    </p>\n                  </div>\n                )}\n                <div className=\"flex justify-end\">\n                  <Button \n                    onClick={handleReplySubmit}\n                    disabled={createReplyMutation.isPending || !replyContent.trim()}\n                    data-testid=\"button-submit-reply\"\n                  >\n                    {createReplyMutation.isPending ? \"GÃ¶nderiliyor...\" : \"Cevap GÃ¶nder\"}\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ) : (\n            <Card className=\"mb-6\">\n              <CardContent className=\"pt-6\">\n                <div className=\"text-center text-muted-foreground\">\n                  <p>Cevap yazmak iÃ§in giriÅŸ yapmanÄ±z gerekmektedir.</p>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          <div className=\"space-y-4\">\n            <h3 className=\"text-xl font-semibold flex items-center gap-2\">\n              <MessageSquare className=\"w-5 h-5\" />\n              Cevaplar ({replies?.length || 0})\n            </h3>\n\n            {repliesLoading ? (\n              <p className=\"text-center text-muted-foreground\">YÃ¼kleniyor...</p>\n            ) : replies && replies.length > 0 ? (\n              replies.map((reply) => (\n                <Card key={reply.id} data-testid={`card-reply-${reply.id}`}>\n                  <CardHeader className=\"pb-3\">\n                    <div className=\"flex items-start gap-3\">\n                      <Avatar className=\"w-10 h-10 flex-shrink-0 border-2 border-primary/20\">\n                        <AvatarImage src={reply.user.profilePicture || undefined} alt={reply.user.username} />\n                        <AvatarFallback className=\"text-sm\">{reply.user.username.slice(0, 2).toUpperCase()}</AvatarFallback>\n                      </Avatar>\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 flex-wrap text-sm mb-1\">\n                          <span className=\"font-bold text-foreground\" data-testid={`text-reply-author-${reply.id}`}>\n                            {reply.user.username}\n                          </span>\n                          \n                          {/* YÃ¶netim etiketi (en Ã¶ncelikli) */}\n                          {reply.user.isSuperAdmin && (\n                            <Badge \n                              variant=\"outline\" \n                              className=\"bg-red-500/20 text-red-300 border-red-500/30 text-xs font-bold\"\n                            >\n                              YÃ–NETÄ°M\n                            </Badge>\n                          )}\n                          \n                          {/* Admin/Staff rolÃ¼ */}\n                          {reply.staffRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[reply.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {reply.staffRole}\n                            </Badge>\n                          )}\n                          \n                          {/* Oyuncu rolÃ¼ */}\n                          {reply.user.playerRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className=\"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 text-xs\"\n                            >\n                              {reply.user.playerRole}\n                            </Badge>\n                          )}\n                          \n                          <span>â€¢</span>\n                          <span className=\"text-muted-foreground flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {format(new Date(reply.createdAt), \"d MMMM yyyy, HH:mm\", { locale: tr })}\n                          </span>\n                          {reply.editedAt && (\n                            <>\n                              <span>â€¢</span>\n                              <span className=\"text-xs italic\" data-testid={`text-reply-edited-${reply.id}`}>\n                                (dÃ¼zenlendi)\n                              </span>\n                            </>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent>\n                    {reply.quotedReplyId && (\n                      <div className=\"bg-muted/50 border-l-4 border-primary/30 pl-4 py-2 mb-3 rounded\">\n                        <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                          <Quote className=\"w-3 h-3\" />\n                          Bir mesaja yanÄ±t veriyor\n                        </p>\n                      </div>\n                    )}\n                    {editingReplyId === reply.id ? (\n                      <div className=\"space-y-3\">\n                        <Textarea\n                          value={editReplyContent}\n                          onChange={(e) => setEditReplyContent(e.target.value)}\n                          placeholder=\"Cevap\"\n                          rows={4}\n                          data-testid={`textarea-edit-reply-${reply.id}`}\n                        />\n                        <div className=\"flex gap-2\">\n                          <Button\n                            size=\"sm\"\n                            onClick={() => {\n                              if (!editReplyContent.trim()) {\n                                toast({\n                                  title: \"Hata\",\n                                  description: \"Cevap boÅŸ olamaz\",\n                                  variant: \"destructive\",\n                                });\n                                return;\n                              }\n                              editReplyMutation.mutate({ replyId: reply.id, content: editReplyContent });\n                            }}\n                            disabled={editReplyMutation.isPending}\n                            data-testid={`button-save-reply-${reply.id}`}\n                          >\n                            Kaydet\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => {\n                              setEditingReplyId(null);\n                              setEditReplyContent(\"\");\n                            }}\n                            data-testid={`button-cancel-edit-reply-${reply.id}`}\n                          >\n                            Ä°ptal\n                          </Button>\n                        </div>\n                      </div>\n                    ) : (\n                      <p className=\"whitespace-pre-wrap text-muted-foreground\" data-testid={`text-reply-content-${reply.id}`}>\n                        {reply.content}\n                      </p>\n                    )}\n                    {reply.imageUrl && (\n                      <div className=\"mt-4\">\n                        <img \n                          src={reply.imageUrl} \n                          alt=\"Reply image\" \n                          className=\"max-w-full h-auto rounded-md\"\n                          data-testid={`img-reply-image-${reply.id}`}\n                        />\n                      </div>\n                    )}\n                    {user && !post.isLocked && editingReplyId !== reply.id && (\n                      <div className=\"mt-3 pt-3 border-t flex items-center gap-2\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => {\n                            setQuotedReplyId(reply.id);\n                            document.querySelector<HTMLTextAreaElement>('[data-testid=\"textarea-reply-content\"]')?.focus();\n                          }}\n                          data-testid={`button-quote-reply-${reply.id}`}\n                        >\n                          <Quote className=\"w-4 h-4 mr-2\" />\n                          AlÄ±ntÄ±la\n                        </Button>\n                        {reply.userId === user.id && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => {\n                              setEditingReplyId(reply.id);\n                              setEditReplyContent(reply.content);\n                            }}\n                            data-testid={`button-edit-reply-${reply.id}`}\n                          >\n                            <Edit className=\"w-4 h-4 mr-2\" />\n                            DÃ¼zenle\n                          </Button>\n                        )}\n                        {(reply.userId === user.id || user.isAdmin || user.isSuperAdmin) && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => deleteReplyMutation.mutate(reply.id)}\n                            disabled={deleteReplyMutation.isPending}\n                            className=\"text-destructive\"\n                            data-testid={`button-delete-reply-${reply.id}`}\n                          >\n                            <Trash2 className=\"w-4 h-4 mr-2\" />\n                            Sil\n                          </Button>\n                        )}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              ))\n            ) : (\n              <Card>\n                <CardContent className=\"pt-6\">\n                  <p className=\"text-center text-muted-foreground\" data-testid=\"text-no-replies\">\n                    HenÃ¼z cevap bulunmamaktadÄ±r. Ä°lk cevabÄ± siz yazÄ±n!\n                  </p>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":31156},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AuthProvider } from \"./lib/auth\";\nimport HomePage from \"@/pages/home-page\";\nimport ActiveRoomsPage from \"@/pages/active-rooms-page\";\nimport VIPPage from \"@/pages/vip-page\";\nimport LeaguePage from \"@/pages/league-page\";\nimport ForumPage from \"@/pages/forum-page\";\nimport ForumPostDetailPage from \"@/pages/forum-post-detail-page\";\nimport AdminStaffPage from \"@/pages/admin-staff-page\";\nimport LoginPage from \"@/pages/login-page\";\nimport RegisterPage from \"@/pages/register-page\";\nimport ProfileSettingsPage from \"@/pages/profile-settings-page\";\nimport AdminApplicationPage from \"@/pages/admin-application-page\";\nimport TeamApplicationPage from \"@/pages/team-application-page\";\nimport ManagementPanelPage from \"@/pages/management-panel-page\";\nimport PasswordResetPage from \"@/pages/password-reset-page\";\nimport MessagesPage from \"@/pages/messages-page\";\nimport StatisticsPage from \"@/pages/statistics-page\";\nimport PlayerDetailPage from \"@/pages/player-detail-page\";\nimport ManagementLoginPage from \"@/pages/management-login-page\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={HomePage} />\n      <Route path=\"/aktif-odalar\" component={ActiveRoomsPage} />\n      <Route path=\"/vip\" component={VIPPage} />\n      <Route path=\"/lig\" component={LeaguePage} />\n      <Route path=\"/forum\" component={ForumPage} />\n      <Route path=\"/forum/:id\" component={ForumPostDetailPage} />\n      <Route path=\"/admin-kadrosu\" component={AdminStaffPage} />\n      <Route path=\"/giris\" component={LoginPage} />\n      <Route path=\"/login\" component={LoginPage} />\n      <Route path=\"/kayit\" component={RegisterPage} />\n      <Route path=\"/register\" component={RegisterPage} />\n      <Route path=\"/sifre-sifirlama\" component={PasswordResetPage} />\n      <Route path=\"/profil\" component={ProfileSettingsPage} />\n      <Route path=\"/profile-settings\" component={ProfileSettingsPage} />\n      <Route path=\"/admin-basvuru\" component={AdminApplicationPage} />\n      <Route path=\"/takim-basvuru\" component={TeamApplicationPage} />\n      <Route path=\"/yonetim-giris\" component={ManagementLoginPage} />\n      <Route path=\"/yonetim\" component={ManagementPanelPage} />\n      <Route path=\"/mesajlar\" component={MessagesPage} />\n      <Route path=\"/messages\" component={MessagesPage} />\n      <Route path=\"/istatistikler\" component={StatisticsPage} />\n      <Route path=\"/stats\" component={StatisticsPage} />\n      <Route path=\"/oyuncu/:username\" component={PlayerDetailPage} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":3112},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/pages/login-page.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Link } from \"wouter\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function LoginPage() {\n  const [loginData, setLoginData] = useState({ username: \"\", password: \"\" });\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        body: JSON.stringify(loginData),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"GiriÅŸ BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      await response.json();\n      toast({\n        title: \"GiriÅŸ BaÅŸarÄ±lÄ±\",\n        description: \"HoÅŸ geldiniz!\",\n      });\n      window.location.href = \"/\";\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center p-8\">\n      <div className=\"w-full max-w-md\">\n        <Link href=\"/\" className=\"flex items-center justify-center mb-8\">\n          <div className=\"text-3xl font-heading font-bold text-primary\">\n            HaxArena V6\n          </div>\n        </Link>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>GiriÅŸ Yap</CardTitle>\n            <CardDescription>\n              HesabÄ±nÄ±za giriÅŸ yaparak devam edin\n            </CardDescription>\n          </CardHeader>\n          <form onSubmit={handleLogin}>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"login-username\">KullanÄ±cÄ± AdÄ±</Label>\n                <Input\n                  id=\"login-username\"\n                  type=\"text\"\n                  placeholder=\"KullanÄ±cÄ± adÄ±nÄ±zÄ± girin\"\n                  value={loginData.username}\n                  onChange={(e) => setLoginData({ ...loginData, username: e.target.value })}\n                  required\n                  data-testid=\"input-login-username\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"login-password\">Åžifre</Label>\n                  <Link href=\"/sifre-sifirlama\" className=\"text-xs text-primary hover:underline\">\n                    Åžifremi Unuttum\n                  </Link>\n                </div>\n                <Input\n                  id=\"login-password\"\n                  type=\"password\"\n                  placeholder=\"Åžifrenizi girin\"\n                  value={loginData.password}\n                  onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\n                  required\n                  data-testid=\"input-login-password\"\n                />\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex flex-col space-y-4\">\n              <Button \n                type=\"submit\" \n                className=\"w-full\" \n                data-testid=\"button-login\"\n                disabled={isLoading}\n              >\n                {isLoading ? \"GiriÅŸ yapÄ±lÄ±yor...\" : \"GiriÅŸ Yap\"}\n              </Button>\n              <div className=\"text-sm text-center text-muted-foreground\">\n                HesabÄ±nÄ±z yok mu?{\" \"}\n                <Link href=\"/kayit\" className=\"text-primary hover:underline\">\n                  KayÄ±t Ol\n                </Link>\n              </div>\n            </CardFooter>\n          </form>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4208},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ActiveRoomCard.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { ExternalLink, Pencil } from \"lucide-react\";\n\ninterface ActiveRoomCardProps {\n  matchName: string;\n  link: string;\n  isActive?: boolean;\n  onEdit?: () => void;\n  showEditButton?: boolean;\n}\n\nexport default function ActiveRoomCard({ \n  matchName, \n  link, \n  isActive = true, \n  onEdit,\n  showEditButton = false \n}: ActiveRoomCardProps) {\n  return (\n    <Card className=\"border-l-4 border-l-primary relative hover-elevate overflow-visible\">\n      {showEditButton && (\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"absolute top-2 right-2 w-8 h-8 hover-elevate active-elevate-2\"\n          onClick={onEdit}\n          data-testid=\"button-edit-room\"\n        >\n          <Pencil className=\"w-4 h-4\" />\n        </Button>\n      )}\n      \n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-lg flex items-center gap-2\">\n          {isActive && (\n            <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" data-testid=\"indicator-room-active\" />\n          )}\n          <span data-testid=\"text-room-name\">{matchName}</span>\n        </CardTitle>\n      </CardHeader>\n      \n      <CardContent>\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n          <Button className=\"w-full hover-elevate active-elevate-2\" data-testid=\"button-join-room\">\n            <ExternalLink className=\"w-4 h-4 mr-2\" />\n            Odaya KatÄ±l\n          </Button>\n        </a>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":1610},"client/src/lib/auth.tsx":{"content":"import { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient } from \"./queryClient\";\n\ninterface User {\n  id: string;\n  username: string;\n  email: string | null;\n  profilePicture: string | null;\n  isAdmin: boolean;\n  isSuperAdmin: boolean;\n  isApproved: boolean;\n  role: string;\n}\n\ninterface AuthContextType {\n  user: User | null | undefined;\n  isLoading: boolean;\n  logout: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const { data: user, isLoading } = useQuery<User | null>({\n    queryKey: [\"/api/auth/me\"],\n    retry: false,\n    refetchOnWindowFocus: false,\n  });\n\n  const logoutMutation = useMutation({\n    mutationFn: async () => {\n      const response = await fetch(\"/api/auth/logout\", {\n        method: \"POST\",\n        credentials: \"include\",\n      });\n      if (!response.ok) throw new Error(\"Logout failed\");\n    },\n    onSuccess: () => {\n      queryClient.setQueryData([\"/api/auth/me\"], null);\n      window.location.href = \"/\";\n    },\n  });\n\n  const logout = async () => {\n    await logoutMutation.mutateAsync();\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, isLoading, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n","size_bytes":1582},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/pages/register-page.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Link } from \"wouter\";\nimport { AlertCircle } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function RegisterPage() {\n  const [registerData, setRegisterData] = useState({ username: \"\", password: \"\" });\n  const [registerSuccess, setRegisterSuccess] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/auth/register\", {\n        method: \"POST\",\n        body: JSON.stringify(registerData),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        const errorMessage = error.error || \"KayÄ±t iÅŸlemi baÅŸarÄ±sÄ±z oldu\";\n        \n        setRegisterSuccess(false);\n        toast({\n          title: \"KayÄ±t BaÅŸarÄ±sÄ±z\",\n          description: errorMessage,\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      setRegisterSuccess(true);\n      setRegisterData({ username: \"\", password: \"\" });\n      toast({\n        title: \"KayÄ±t BaÅŸarÄ±lÄ±\",\n        description: \"HesabÄ±nÄ±z oluÅŸturuldu. YÃ¶neticiler tarafÄ±ndan onaylandÄ±ktan sonra giriÅŸ yapabilirsiniz.\",\n      });\n    } catch (error) {\n      setRegisterSuccess(false);\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center p-8\">\n      <div className=\"w-full max-w-md\">\n        <Link href=\"/\" className=\"flex items-center justify-center mb-8\">\n          <div className=\"text-3xl font-heading font-bold text-primary\">\n            HaxArena V6\n          </div>\n        </Link>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>KayÄ±t Ol</CardTitle>\n            <CardDescription>\n              Yeni hesap oluÅŸturun\n            </CardDescription>\n          </CardHeader>\n          <form onSubmit={handleRegister}>\n            <CardContent className=\"space-y-4\">\n              {registerSuccess && (\n                <Alert>\n                  <AlertCircle className=\"w-4 h-4\" />\n                  <AlertDescription data-testid=\"text-register-success\">\n                    KaydÄ±nÄ±z yetkililere iletilmiÅŸtir. Onay sÃ¼recinin tamamlanmasÄ±nÄ±n ardÄ±ndan giriÅŸ yapabilirsiniz.\n                  </AlertDescription>\n                </Alert>\n              )}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"register-username\">KullanÄ±cÄ± AdÄ±</Label>\n                <Input\n                  id=\"register-username\"\n                  type=\"text\"\n                  placeholder=\"KullanÄ±cÄ± adÄ± seÃ§in\"\n                  value={registerData.username}\n                  onChange={(e) => setRegisterData({ ...registerData, username: e.target.value })}\n                  required\n                  data-testid=\"input-register-username\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"register-password\">Åžifre</Label>\n                <Input\n                  id=\"register-password\"\n                  type=\"password\"\n                  placeholder=\"GÃ¼Ã§lÃ¼ bir ÅŸifre oluÅŸturun\"\n                  value={registerData.password}\n                  onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\n                  required\n                  data-testid=\"input-register-password\"\n                />\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex flex-col space-y-4\">\n              <Button \n                type=\"submit\" \n                className=\"w-full\" \n                data-testid=\"button-register\"\n                disabled={isLoading}\n              >\n                {isLoading ? \"KayÄ±t olunuyor...\" : \"KayÄ±t Ol\"}\n              </Button>\n              <div className=\"text-sm text-center text-muted-foreground\">\n                Zaten hesabÄ±nÄ±z var mÄ±?{\" \"}\n                <Link href=\"/giris\" className=\"text-primary hover:underline\">\n                  GiriÅŸ Yap\n                </Link>\n              </div>\n            </CardFooter>\n          </form>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4795},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 98%;\n\n  --foreground: 0 0% 12%;\n\n  --border: 0 0% 88%;\n\n  --card: 0 0% 96%;\n\n  --card-foreground: 0 0% 12%;\n\n  --card-border: 0 0% 90%;\n\n  --sidebar: 0 0% 94%;\n\n  --sidebar-foreground: 0 0% 12%;\n\n  --sidebar-border: 0 0% 88%;\n\n  --sidebar-primary: 192 66% 57%;\n\n  --sidebar-primary-foreground: 0 0% 98%;\n\n  --sidebar-accent: 192 15% 85%;\n\n  --sidebar-accent-foreground: 0 0% 12%;\n\n  --sidebar-ring: 192 66% 57%;\n\n  --popover: 0 0% 92%;\n\n  --popover-foreground: 0 0% 12%;\n\n  --popover-border: 0 0% 86%;\n\n  --primary: 192 66% 45%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 0 0% 88%;\n\n  --secondary-foreground: 0 0% 12%;\n\n  --muted: 192 8% 86%;\n\n  --muted-foreground: 0 0% 35%;\n\n  --accent: 192 12% 88%;\n\n  --accent-foreground: 0 0% 12%;\n\n  --destructive: 0 72% 51%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 70%;\n  --ring: 192 66% 57%;\n  --chart-1: 192 66% 45%;\n  --chart-2: 142 71% 35%;\n  --chart-3: 38 92% 42%;\n  --chart-4: 193 82% 55%;\n  --chart-5: 45 93% 48%;\n\n  --font-sans: 'Inter', 'Segoe UI', system-ui, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: 'JetBrains Mono', 'Consolas', monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.1);\n  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.06), 0px 1px 2px -1px hsl(0 0% 0% / 0.06);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.1), 0px 2px 4px -1px hsl(0 0% 0% / 0.06);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.12), 0px 3px 7px -3px hsl(0 0% 0% / 0.08);\n  --shadow-lg: 0px 10px 20px -3px hsl(0 0% 0% / 0.15), 0px 4px 6px -2px hsl(0 0% 0% / 0.05);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.15), 0px 10px 10px -5px hsl(0 0% 0% / 0.04);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.25);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 0 0% 8%;\n\n  --foreground: 0 0% 95%;\n\n  --border: 0 0% 20%;\n\n  --card: 0 0% 12%;\n\n  --card-foreground: 0 0% 95%;\n\n  --card-border: 0 0% 16%;\n\n  --sidebar: 0 0% 10%;\n\n  --sidebar-foreground: 0 0% 95%;\n\n  --sidebar-border: 0 0% 14%;\n\n  --sidebar-primary: 192 66% 57%;\n\n  --sidebar-primary-foreground: 0 0% 8%;\n\n  --sidebar-accent: 0 0% 16%;\n\n  --sidebar-accent-foreground: 0 0% 95%;\n\n  --sidebar-ring: 192 66% 57%;\n\n  --popover: 0 0% 14%;\n\n  --popover-foreground: 0 0% 95%;\n\n  --popover-border: 0 0% 18%;\n\n  --primary: 192 66% 47%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 0 0% 18%;\n\n  --secondary-foreground: 0 0% 95%;\n\n  --muted: 0 0% 16%;\n\n  --muted-foreground: 0 0% 70%;\n\n  --accent: 192 10% 20%;\n\n  --accent-foreground: 0 0% 95%;\n\n  --destructive: 0 72% 51%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  /* Used as the border around inputs. Dark mode: Should be a border that is light enough to have high contrast when rendered on a --card background. More contrast than standard --border */\n  --input: 0 0% 30%;\n  --ring: 192 66% 57%;\n  --chart-1: 192 66% 65%;\n  --chart-2: 142 71% 55%;\n  --chart-3: 38 92% 60%;\n  --chart-4: 193 82% 75%;\n  --chart-5: 45 93% 68%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.3);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.4);\n  --shadow-sm: 0px 2px 4px -1px hsl(0 0% 0% / 0.3), 0px 1px 2px -1px hsl(0 0% 0% / 0.3);\n  --shadow: 0px 4px 6px -1px hsl(0 0% 0% / 0.4), 0px 2px 4px -1px hsl(0 0% 0% / 0.3);\n  --shadow-md: 0px 6px 12px -2px hsl(0 0% 0% / 0.5), 0px 3px 7px -3px hsl(0 0% 0% / 0.4);\n  --shadow-lg: 0px 10px 20px -3px hsl(0 0% 0% / 0.6), 0px 4px 6px -2px hsl(0 0% 0% / 0.3);\n  --shadow-xl: 0px 20px 25px -5px hsl(0 0% 0% / 0.6), 0px 10px 10px -5px hsl(0 0% 0% / 0.2);\n  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.7);\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":9885},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, boolean, timestamp, integer } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  profilePicture: text(\"profile_picture\"), // base64 image or gif\n  isAdmin: boolean(\"is_admin\").notNull().default(false),\n  isSuperAdmin: boolean(\"is_super_admin\").notNull().default(false),\n  isApproved: boolean(\"is_approved\").notNull().default(false),\n  role: text(\"role\").notNull().default(\"HaxArena Ãœye\"),\n  playerRole: text(\"player_role\"),\n  isBanned: boolean(\"is_banned\").notNull().default(false),\n  banReason: text(\"ban_reason\"),\n  isChatMuted: boolean(\"is_chat_muted\").notNull().default(false),\n  lastIpAddress: text(\"last_ip_address\"),\n  lastUsernameChange: timestamp(\"last_username_change\"),\n  // Player statistics\n  goals: integer(\"goals\").notNull().default(0),\n  assists: integer(\"assists\").notNull().default(0),\n  saves: integer(\"saves\").notNull().default(0),\n  matchTime: integer(\"match_time\").notNull().default(0), // seconds\n  rank: text(\"rank\").notNull().default(\"Bronz\"),\n  wins: integer(\"wins\").notNull().default(0),\n  losses: integer(\"losses\").notNull().default(0),\n  draws: integer(\"draws\").notNull().default(0),\n  matchesPlayed: integer(\"matches_played\").notNull().default(0),\n  points: integer(\"points\").notNull().default(0),\n});\n\nexport const adminApplications = pgTable(\"admin_applications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  name: text(\"name\").notNull(),\n  age: text(\"age\").notNull(),\n  gameNick: text(\"game_nick\").notNull(),\n  discordNick: text(\"discord_nick\").notNull(),\n  playDuration: text(\"play_duration\").notNull(),\n  activeServers: text(\"active_servers\").notNull(),\n  previousExperience: text(\"previous_experience\").notNull(),\n  dailyHours: text(\"daily_hours\").notNull(),\n  activeTimeZones: text(\"active_time_zones\").notNull(),\n  aboutYourself: text(\"about_yourself\").notNull(),\n  status: text(\"status\").notNull().default(\"pending\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const teamApplications = pgTable(\"team_applications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  teamName: text(\"team_name\").notNull(),\n  teamLogo: text(\"team_logo\"),\n  description: text(\"description\").notNull(),\n  captain1: text(\"captain_1\"),\n  captain2: text(\"captain_2\"),\n  viceCaptain: text(\"vice_captain\"),\n  players: text(\"players\").array(),\n  status: text(\"status\").notNull().default(\"pending\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const settings = pgTable(\"settings\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  adminApplicationsOpen: boolean(\"admin_applications_open\").notNull().default(false),\n  teamApplicationsOpen: boolean(\"team_applications_open\").notNull().default(false),\n});\n\nexport const staffRoles = pgTable(\"staff_roles\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  role: text(\"role\").notNull(),\n  managementAccess: boolean(\"management_access\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const notifications = pgTable(\"notifications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  message: text(\"message\").notNull(),\n  read: boolean(\"read\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const forumPosts = pgTable(\"forum_posts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  category: text(\"category\").notNull(),\n  imageUrl: text(\"image_url\"),\n  isLocked: boolean(\"is_locked\").notNull().default(false),\n  isArchived: boolean(\"is_archived\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  editedAt: timestamp(\"edited_at\"),\n});\n\nexport const forumReplies = pgTable(\"forum_replies\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  postId: varchar(\"post_id\").notNull().references(() => forumPosts.id, { onDelete: \"cascade\" }),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  content: text(\"content\").notNull(),\n  imageUrl: text(\"image_url\"),\n  quotedReplyId: varchar(\"quoted_reply_id\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  editedAt: timestamp(\"edited_at\"),\n});\n\nexport const chatMessages = pgTable(\"chat_messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  message: text(\"message\").notNull(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const bannedIps = pgTable(\"banned_ips\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  ipAddress: text(\"ip_address\").notNull().unique(),\n  reason: text(\"reason\"),\n  bannedBy: varchar(\"banned_by\").notNull().references(() => users.id),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const passwordResetTokens = pgTable(\"password_reset_tokens\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  userId: varchar(\"user_id\").notNull().references(() => users.id),\n  token: text(\"token\").notNull().unique(),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const privateMessages = pgTable(\"private_messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  senderId: varchar(\"sender_id\").notNull().references(() => users.id),\n  receiverId: varchar(\"receiver_id\").notNull().references(() => users.id),\n  message: text(\"message\").notNull(),\n  imageUrl: text(\"image_url\"), // base64 image, max 5MB\n  isRead: boolean(\"is_read\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({\n  id: true,\n  isAdmin: true,\n  isSuperAdmin: true,\n  isApproved: true,\n  role: true,\n});\n\nexport const insertAdminApplicationSchema = createInsertSchema(adminApplications).omit({\n  id: true,\n  status: true,\n  createdAt: true,\n});\n\nexport const insertTeamApplicationSchema = createInsertSchema(teamApplications).omit({\n  id: true,\n  status: true,\n  createdAt: true,\n});\n\nexport const updateSettingsSchema = createInsertSchema(settings).omit({\n  id: true,\n});\n\nexport const insertStaffRoleSchema = createInsertSchema(staffRoles).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertNotificationSchema = createInsertSchema(notifications).omit({\n  id: true,\n  read: true,\n  createdAt: true,\n});\n\nexport const insertForumPostSchema = createInsertSchema(forumPosts).omit({\n  id: true,\n  isLocked: true,\n  isArchived: true,\n  createdAt: true,\n});\n\nexport const insertForumReplySchema = createInsertSchema(forumReplies).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertChatMessageSchema = createInsertSchema(chatMessages).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertBannedIpSchema = createInsertSchema(bannedIps).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertPasswordResetTokenSchema = createInsertSchema(passwordResetTokens).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertPrivateMessageSchema = createInsertSchema(privateMessages).omit({\n  id: true,\n  isRead: true,\n  createdAt: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\nexport type AdminApplication = typeof adminApplications.$inferSelect;\nexport type InsertAdminApplication = z.infer<typeof insertAdminApplicationSchema>;\nexport type TeamApplication = typeof teamApplications.$inferSelect;\nexport type InsertTeamApplication = z.infer<typeof insertTeamApplicationSchema>;\nexport type Settings = typeof settings.$inferSelect;\nexport type UpdateSettings = z.infer<typeof updateSettingsSchema>;\nexport type StaffRole = typeof staffRoles.$inferSelect;\nexport type InsertStaffRole = z.infer<typeof insertStaffRoleSchema>;\nexport type Notification = typeof notifications.$inferSelect;\nexport type InsertNotification = z.infer<typeof insertNotificationSchema>;\nexport type ForumPost = typeof forumPosts.$inferSelect;\nexport type InsertForumPost = z.infer<typeof insertForumPostSchema>;\nexport type ForumReply = typeof forumReplies.$inferSelect;\nexport type InsertForumReply = z.infer<typeof insertForumReplySchema>;\nexport type ChatMessage = typeof chatMessages.$inferSelect;\nexport type InsertChatMessage = z.infer<typeof insertChatMessageSchema>;\nexport type BannedIp = typeof bannedIps.$inferSelect;\nexport type InsertBannedIp = z.infer<typeof insertBannedIpSchema>;\nexport type PasswordResetToken = typeof passwordResetTokens.$inferSelect;\nexport type InsertPasswordResetToken = z.infer<typeof insertPasswordResetTokenSchema>;\nexport type PrivateMessage = typeof privateMessages.$inferSelect;\nexport type InsertPrivateMessage = z.infer<typeof insertPrivateMessageSchema>;\n","size_bytes":9501},"client/src/components/LiveChat.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Send, Trash2, Smile } from \"lucide-react\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { tr } from \"date-fns/locale\";\nimport data from '@emoji-mart/data'\nimport Picker from '@emoji-mart/react'\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\n\nconst roleColors: Record<string, string> = {\n  \"Founder\": \"bg-purple-500/20 text-purple-300 border-purple-500/30\",\n  \"Master Coordinator\": \"bg-red-500/20 text-red-300 border-red-500/30\",\n  \"Coordinator Admin\": \"bg-orange-500/20 text-orange-300 border-orange-500/30\",\n  \"Head Overseer Admin\": \"bg-yellow-500/20 text-yellow-300 border-yellow-500/30\",\n  \"Inspector Admin\": \"bg-green-500/20 text-green-300 border-green-500/30\",\n  \"Game Admin\": \"bg-blue-500/20 text-blue-300 border-blue-500/30\",\n  \"Arena Admin\": \"bg-cyan-500/20 text-cyan-300 border-cyan-500/30\",\n};\n\nexport default function LiveChat() {\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [message, setMessage] = useState(\"\");\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const chatContainerRef = useRef<HTMLDivElement>(null);\n\n  const { data: messages, refetch } = useQuery<any[]>({\n    queryKey: [\"/api/chat/messages\"],\n  });\n\n  const sendMessageMutation = useMutation({\n    mutationFn: async (msg: string) => {\n      return await apiRequest(\"POST\", \"/api/chat/messages\", { message: msg });\n    },\n    onSuccess: () => {\n      setMessage(\"\");\n      queryClient.invalidateQueries({ queryKey: [\"/api/chat/messages\"] });\n      refetch();\n    },\n    onError: (error: any) => {\n      const errorMessage = error.message || \"Mesaj gÃ¶nderilemedi\";\n      const match = errorMessage.match(/LÃ¼tfen (\\d+) saniye bekleyin/);\n      if (match) {\n        toast({\n          title: \"YavaÅŸ ol!\",\n          description: errorMessage.split(': ')[1],\n        });\n      } else {\n        toast({\n          title: \"UyarÄ±\",\n          description: \"Mesaj gÃ¶nderilemedi\",\n        });\n      }\n    },\n  });\n\n  const deleteMessageMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/chat/messages/${id}`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/chat/messages\"] });\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Mesaj silinemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSendMessage = () => {\n    if (!message.trim()) return;\n    sendMessageMutation.mutate(message);\n  };\n\n  const handleEmojiSelect = (emoji: any) => {\n    setMessage(message + emoji.native);\n    setShowEmojiPicker(false);\n  };\n\n  // Scroll sadece chat container iÃ§inde olsun, tÃ¼m sayfayÄ± kaydÄ±rmasÄ±n\n  useEffect(() => {\n    if (chatContainerRef.current && messagesEndRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      refetch();\n    }, 3000); // Refresh every 3 seconds\n\n    return () => clearInterval(interval);\n  }, [refetch]);\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          AnlÄ±k Sohbet\n          <Badge variant=\"secondary\" className=\"ml-auto\">{messages?.length || 0}</Badge>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          <div \n            ref={chatContainerRef}\n            className=\"h-64 md:h-80 overflow-y-auto space-y-3 p-3 md:p-4 bg-muted/30 rounded-lg\"\n          >\n            {messages?.map((msg: any) => (\n              <div key={msg.id} className=\"space-y-1\">\n                <div className=\"flex items-center gap-2 flex-wrap\">\n                  <span className=\"font-medium text-sm\">{msg.user.username}</span>\n                  \n                  {msg.user.isSuperAdmin && (\n                    <Badge \n                      variant=\"outline\" \n                      className=\"bg-red-500/20 text-red-300 border-red-500/30 text-xs font-bold\"\n                    >\n                      YÃ–NETÄ°M\n                    </Badge>\n                  )}\n                  \n                  {msg.staffRole && (\n                    <Badge \n                      variant=\"outline\" \n                      className={`${roleColors[msg.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                    >\n                      {msg.staffRole}\n                    </Badge>\n                  )}\n                  \n                  {msg.user.playerRole && (\n                    <Badge \n                      variant=\"outline\" \n                      className=\"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 text-xs\"\n                    >\n                      {msg.user.playerRole}\n                    </Badge>\n                  )}\n                  \n                  <span className=\"text-xs text-muted-foreground\">\n                    {formatDistanceToNow(new Date(msg.createdAt), { addSuffix: true, locale: tr })}\n                  </span>\n                  \n                  {(user?.isAdmin || user?.isSuperAdmin) && (\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-6 w-6 p-0 ml-auto\"\n                      onClick={() => deleteMessageMutation.mutate(msg.id)}\n                      data-testid={`button-delete-message-${msg.id}`}\n                    >\n                      <Trash2 className=\"w-3 h-3 text-destructive\" />\n                    </Button>\n                  )}\n                </div>\n                <p className=\"text-sm text-foreground/90\">{msg.message}</p>\n              </div>\n            ))}\n            {(!messages || messages.length === 0) && (\n              <p className=\"text-center text-muted-foreground text-sm py-8\">\n                HenÃ¼z mesaj yok. Ä°lk mesajÄ± sen yaz!\n              </p>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {user ? (\n            <div className=\"flex gap-2\">\n              <Input\n                placeholder=\"MesajÄ±nÄ±zÄ± yazÄ±n...\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                disabled={sendMessageMutation.isPending}\n                data-testid=\"input-chat-message\"\n              />\n              <Popover open={showEmojiPicker} onOpenChange={setShowEmojiPicker}>\n                <PopoverTrigger asChild>\n                  <Button\n                    variant=\"outline\"\n                    size=\"icon\"\n                    data-testid=\"button-emoji-picker\"\n                  >\n                    <Smile className=\"w-4 h-4\" />\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\" align=\"end\">\n                  <Picker\n                    data={data}\n                    onEmojiSelect={handleEmojiSelect}\n                    theme=\"dark\"\n                    locale=\"tr\"\n                  />\n                </PopoverContent>\n              </Popover>\n              <Button\n                onClick={handleSendMessage}\n                disabled={sendMessageMutation.isPending || !message.trim()}\n                data-testid=\"button-send-message\"\n              >\n                <Send className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          ) : (\n            <p className=\"text-center text-muted-foreground text-sm\">\n              Mesaj gÃ¶ndermek iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z\n            </p>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":8234},"client/src/pages/vip-page.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport VIPPackageCard from \"@/components/VIPPackageCard\";\nimport { useAuth } from \"@/lib/auth\";\n\nexport default function VIPPage() {\n  const { user, logout } = useAuth();\n  const silverFeatures = [\n    \"Pub odalarÄ±nda VIP TAGI ve VIP emojisi\",\n    \"Mesajlar kalÄ±n yazÄ± ile gÃ¶rÃ¼nÃ¼r\",\n    \"60+ karakter mesajlarda uyarÄ± yemez\",\n    \"Gol/asist sonrasÄ± bÃ¼yÃ¼me efekti\",\n    \"MaÃ§ sonu istatistiklerde yazÄ± yazabilir\",\n    \"6 saniyelik yazÄ± engelinden etkilenmez\",\n    \"VIP Ã¼yelere Ã¶zel Ã§ekiliÅŸlere katÄ±labilir\",\n    \"EÄŸlence turnuvalarÄ± ve odalarÄ±na katÄ±labilir\"\n  ];\n\n  const goldFeatures = [\n    \"Discord'a 5 Ã¶zel emoji ekletebilir\",\n    \"YavaÅŸ mod daha az etkiler\",\n    \"Erken '!vote' kullanabilir\",\n    \"3 maÃ§ AFK kalma hakkÄ±\",\n    \"'!vipstil' ile yazÄ± stilini deÄŸiÅŸtirebilir\",\n    \"Dolu odalara (16/17 kiÅŸi) girebilir\",\n    \"Makul ek Ã¼cret ile yazÄ± renklerini deÄŸiÅŸtirebilirler\"\n  ];\n\n  const diamondFeatures = [\n    \"'!avatar' ile hareketli avatar + hÄ±z ayarÄ±\",\n    \"Dizilim baÅŸlamadan '!deÄŸiÅŸ' komutu\",\n    \"'!afk' ile spec'e geÃ§me hakkÄ±\",\n    \"'!adminvip' ile admin olabilir (admin yokken)\",\n    \"'!p' komutu ile 10 saniye oyunu durdurabilir\",\n    \"TÃ¼m VIP Ã¶zelliklerine eriÅŸim hakkÄ±\"\n  ];\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"mb-12 text-center max-w-3xl mx-auto\">\n            <h1 className=\"text-4xl font-heading font-bold mb-4\" data-testid=\"text-page-title\">\n              VIP Ãœyelik Paketleri\n            </h1>\n            <p className=\"text-muted-foreground text-lg\">\n              Ã–zel Ã¶zellikler ve ayrÄ±calÄ±klarla oyun deneyiminizi bir Ã¼st seviyeye taÅŸÄ±yÄ±n\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n            <VIPPackageCard\n              tier=\"silver\"\n              price={90}\n              features={silverFeatures}\n              purchaseLink=\"https://www.shopier.com/40044747\"\n              showDiscordWarning={true}\n            />\n            <VIPPackageCard\n              tier=\"gold\"\n              price={120}\n              features={goldFeatures}\n              purchaseLink=\"https://www.shopier.com/40044867\"\n              showDiscordWarning={true}\n            />\n            <VIPPackageCard\n              tier=\"diamond\"\n              price={150}\n              features={diamondFeatures}\n              purchaseLink=\"https://www.shopier.com/40051776\"\n              showDiscordWarning={true}\n            />\n          </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":2809},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/examples/ForumPostCard.tsx":{"content":"import ForumPostCard from '../ForumPostCard'\n\nexport default function ForumPostCardExample() {\n  return (\n    <div className=\"space-y-4 max-w-3xl\">\n      <ForumPostCard\n        id={1}\n        title=\"Yeni sezon baÅŸlÄ±yor! KatÄ±lmak isteyen var mÄ±?\"\n        content=\"Merhaba arkadaÅŸlar, yeni sezon iÃ§in takÄ±m arÄ±yorum. Ä°yi bir savunma oyuncusuyum ve aktif olarak oynuyorum.\"\n        author=\"futbolsever42\"\n        category=\"Genel Sohbet\"\n        replyCount={12}\n        createdAt=\"2 saat Ã¶nce\"\n      />\n      <ForumPostCard\n        id={2}\n        title=\"TakÄ±m baÅŸvurusu - BeÅŸiktaÅŸ Espor\"\n        content=\"TakÄ±mÄ±mÄ±zÄ±n logosu ve kadrosu hazÄ±r. Lig iÃ§in baÅŸvurmak istiyoruz.\"\n        author=\"bjk_admin\"\n        category=\"TakÄ±m BaÅŸvurularÄ±\"\n        replyCount={3}\n        createdAt=\"5 saat Ã¶nce\"\n        isLocked={true}\n        showAdminActions={true}\n        onDelete={() => console.log('Delete clicked')}\n        onToggleLock={() => console.log('Toggle lock clicked')}\n      />\n      <ForumPostCard\n        id={3}\n        title=\"GeÃ§en sezonun en iyi maÃ§Ä±\"\n        content=\"Galatasaray - FenerbahÃ§e final maÃ§Ä± gerÃ§ekten harikaydÄ±. Son dakika golÃ¼...\"\n        author=\"eskioyuncu\"\n        category=\"SÃ¶zlÃ¼k\"\n        replyCount={45}\n        createdAt=\"1 gÃ¼n Ã¶nce\"\n        isArchived={true}\n      />\n    </div>\n  )\n}\n","size_bytes":1343},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"server/storage.ts":{"content":"import { \n  type User, \n  type InsertUser, \n  type AdminApplication,\n  type InsertAdminApplication,\n  type TeamApplication,\n  type InsertTeamApplication,\n  type Settings,\n  type UpdateSettings,\n  type StaffRole,\n  type InsertStaffRole,\n  type Notification,\n  type InsertNotification,\n  type ForumPost,\n  type InsertForumPost,\n  type ForumReply,\n  type InsertForumReply,\n  type ChatMessage,\n  type InsertChatMessage,\n  type BannedIp,\n  type InsertBannedIp,\n  type PasswordResetToken,\n  type InsertPasswordResetToken,\n  type PrivateMessage,\n  type InsertPrivateMessage,\n  users,\n  adminApplications,\n  teamApplications,\n  settings,\n  staffRoles,\n  notifications,\n  forumPosts,\n  forumReplies,\n  chatMessages,\n  bannedIps,\n  passwordResetTokens,\n  privateMessages\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  searchUsersByUsername(query: string): Promise<User[]>;\n  createUser(user: InsertUser): Promise<User>;\n  updateUser(id: string, updates: Partial<User>): Promise<User | undefined>;\n  deleteUser(id: string): Promise<void>;\n  getAllUsers(): Promise<User[]>;\n  \n  // Admin application operations\n  createAdminApplication(app: InsertAdminApplication): Promise<AdminApplication>;\n  getAdminApplications(): Promise<AdminApplication[]>;\n  getUserAdminApplications(userId: string): Promise<AdminApplication[]>;\n  updateAdminApplication(id: string, status: string): Promise<AdminApplication | undefined>;\n  deleteAdminApplication(id: string): Promise<void>;\n  \n  // Team application operations\n  createTeamApplication(app: InsertTeamApplication): Promise<TeamApplication>;\n  getTeamApplications(): Promise<TeamApplication[]>;\n  getUserTeamApplications(userId: string): Promise<TeamApplication[]>;\n  updateTeamApplication(id: string, status: string): Promise<TeamApplication | undefined>;\n  deleteTeamApplication(id: string): Promise<void>;\n  \n  // Settings operations\n  getSettings(): Promise<Settings>;\n  updateSettings(updates: UpdateSettings): Promise<Settings>;\n  \n  // Staff role operations\n  createStaffRole(role: InsertStaffRole): Promise<StaffRole>;\n  getStaffRoles(): Promise<StaffRole[]>;\n  updateStaffRole(id: string, updates: Partial<InsertStaffRole>): Promise<StaffRole | undefined>;\n  deleteStaffRole(id: string): Promise<void>;\n  \n  // Notification operations\n  createNotification(notification: InsertNotification): Promise<Notification>;\n  getUserNotifications(userId: string): Promise<Notification[]>;\n  markNotificationAsRead(id: string): Promise<void>;\n  deleteNotification(id: string): Promise<void>;\n  \n  // Forum post operations\n  createForumPost(post: InsertForumPost): Promise<ForumPost>;\n  getForumPosts(category?: string, includeArchived?: boolean): Promise<(ForumPost & { user: User; replyCount: number })[]>;\n  getForumPost(id: string): Promise<(ForumPost & { user: User }) | undefined>;\n  updateForumPost(id: string, updates: Partial<ForumPost>): Promise<ForumPost | undefined>;\n  deleteForumPost(id: string): Promise<void>;\n  \n  // Forum reply operations\n  createForumReply(reply: InsertForumReply): Promise<ForumReply>;\n  getForumReplies(postId: string): Promise<(ForumReply & { user: User })[]>;\n  getForumReply(id: string): Promise<(ForumReply & { user: User }) | undefined>;\n  updateForumReply(id: string, updates: Partial<ForumReply>): Promise<ForumReply | undefined>;\n  deleteForumReply(id: string): Promise<void>;\n  \n  // Chat message operations\n  createChatMessage(message: InsertChatMessage): Promise<ChatMessage>;\n  getChatMessages(limit?: number): Promise<(ChatMessage & { user: User })[]>;\n  deleteChatMessage(id: string): Promise<void>;\n  \n  // IP ban operations\n  createBannedIp(bannedIp: InsertBannedIp): Promise<BannedIp>;\n  getBannedIps(): Promise<(BannedIp & { bannedByUser: User })[]>;\n  getBannedIpByAddress(ipAddress: string): Promise<BannedIp | undefined>;\n  deleteBannedIp(id: string): Promise<void>;\n  \n  // Password reset operations\n  createPasswordResetToken(token: InsertPasswordResetToken): Promise<PasswordResetToken>;\n  getPasswordResetToken(token: string): Promise<PasswordResetToken | undefined>;\n  deletePasswordResetToken(id: string): Promise<void>;\n  deleteUserPasswordResetTokens(userId: string): Promise<void>;\n  \n  // Private message operations\n  sendPrivateMessage(message: InsertPrivateMessage): Promise<PrivateMessage>;\n  getConversations(userId: string): Promise<Array<{ otherUser: User; lastMessage: PrivateMessage; unreadCount: number }>>;\n  getConversationMessages(userId: string, otherUserId: string): Promise<(PrivateMessage & { sender: User; receiver: User })[]>;\n  markMessageAsRead(messageId: string): Promise<void>;\n  getUnreadMessageCount(userId: string): Promise<number>;\n  \n  // Player statistics operations\n  getPlayerStats(): Promise<User[]>;\n  getPlayerByUsername(username: string): Promise<User | undefined>;\n  getPlayersRanking(): Promise<User[]>;\n  updatePlayerStats(userId: string, stats: { goals?: number; assists?: number; saves?: number; matchTime?: number; rank?: string }): Promise<User | undefined>;\n}\n\nexport class DBStorage implements IStorage {\n  // User operations\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id)).limit(1);\n    return user;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username)).limit(1);\n    return user;\n  }\n\n  async searchUsersByUsername(query: string): Promise<User[]> {\n    const { ilike } = await import(\"drizzle-orm\");\n    return await db.select().from(users)\n      .where(ilike(users.username, `%${query}%`))\n      .limit(10);\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db.insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  async updateUser(id: string, updates: Partial<User>): Promise<User | undefined> {\n    const [user] = await db.update(users).set(updates).where(eq(users.id, id)).returning();\n    return user;\n  }\n\n  async deleteUser(id: string): Promise<void> {\n    const { or } = await import(\"drizzle-orm\");\n    \n    // Ä°lk Ã¶nce kullanÄ±cÄ±ya ait tÃ¼m baÄŸlÄ± kayÄ±tlarÄ± sil\n    await db.delete(forumReplies).where(eq(forumReplies.userId, id));\n    await db.delete(forumPosts).where(eq(forumPosts.userId, id));\n    await db.delete(adminApplications).where(eq(adminApplications.userId, id));\n    await db.delete(teamApplications).where(eq(teamApplications.userId, id));\n    await db.delete(notifications).where(eq(notifications.userId, id));\n    await db.delete(chatMessages).where(eq(chatMessages.userId, id));\n    await db.delete(passwordResetTokens).where(eq(passwordResetTokens.userId, id));\n    \n    // Private message'larÄ± sil (gÃ¶nderen veya alÄ±cÄ± olarak)\n    await db.delete(privateMessages).where(\n      or(\n        eq(privateMessages.senderId, id),\n        eq(privateMessages.receiverId, id)\n      )\n    );\n    \n    // Son olarak kullanÄ±cÄ±yÄ± sil\n    await db.delete(users).where(eq(users.id, id));\n  }\n\n  async getAllUsers(): Promise<User[]> {\n    return await db.select().from(users);\n  }\n\n  // Admin application operations\n  async createAdminApplication(app: InsertAdminApplication): Promise<AdminApplication> {\n    const [application] = await db.insert(adminApplications).values(app).returning();\n    return application;\n  }\n\n  async getAdminApplications(): Promise<AdminApplication[]> {\n    return await db.select().from(adminApplications).orderBy(desc(adminApplications.createdAt));\n  }\n\n  async getUserAdminApplications(userId: string): Promise<AdminApplication[]> {\n    return await db.select().from(adminApplications)\n      .where(eq(adminApplications.userId, userId))\n      .orderBy(desc(adminApplications.createdAt));\n  }\n\n  async updateAdminApplication(id: string, status: string): Promise<AdminApplication | undefined> {\n    const [app] = await db.update(adminApplications)\n      .set({ status })\n      .where(eq(adminApplications.id, id))\n      .returning();\n    return app;\n  }\n\n  async deleteAdminApplication(id: string): Promise<void> {\n    await db.delete(adminApplications).where(eq(adminApplications.id, id));\n  }\n\n  // Team application operations\n  async createTeamApplication(app: InsertTeamApplication): Promise<TeamApplication> {\n    const [application] = await db.insert(teamApplications).values(app).returning();\n    return application;\n  }\n\n  async getTeamApplications(): Promise<TeamApplication[]> {\n    return await db.select().from(teamApplications).orderBy(desc(teamApplications.createdAt));\n  }\n\n  async getUserTeamApplications(userId: string): Promise<TeamApplication[]> {\n    return await db.select().from(teamApplications)\n      .where(eq(teamApplications.userId, userId))\n      .orderBy(desc(teamApplications.createdAt));\n  }\n\n  async updateTeamApplication(id: string, status: string): Promise<TeamApplication | undefined> {\n    const [app] = await db.update(teamApplications)\n      .set({ status })\n      .where(eq(teamApplications.id, id))\n      .returning();\n    return app;\n  }\n\n  async deleteTeamApplication(id: string): Promise<void> {\n    await db.delete(teamApplications).where(eq(teamApplications.id, id));\n  }\n\n  // Settings operations\n  async getSettings(): Promise<Settings> {\n    const [setting] = await db.select().from(settings).limit(1);\n    if (!setting) {\n      // VarsayÄ±lan olarak baÅŸvurular aÃ§Ä±k\n      return {\n        id: \"\",\n        adminApplicationsOpen: true,\n        teamApplicationsOpen: true,\n      };\n    }\n    return setting;\n  }\n\n  async updateSettings(updates: UpdateSettings): Promise<Settings> {\n    const [setting] = await db.select().from(settings).limit(1);\n    \n    if (!setting) {\n      // Ä°lk ayarÄ± oluÅŸtur\n      const [created] = await db.insert(settings)\n        .values(updates)\n        .returning();\n      return created;\n    }\n    \n    const [updated] = await db.update(settings)\n      .set(updates)\n      .where(eq(settings.id, setting.id))\n      .returning();\n    return updated;\n  }\n\n  // Staff role operations\n  async createStaffRole(role: InsertStaffRole): Promise<StaffRole> {\n    const [staffRole] = await db.insert(staffRoles).values(role).returning();\n    return staffRole;\n  }\n\n  async getStaffRoles(): Promise<StaffRole[]> {\n    return await db.select().from(staffRoles).orderBy(desc(staffRoles.createdAt));\n  }\n\n  async updateStaffRole(id: string, updates: Partial<InsertStaffRole>): Promise<StaffRole | undefined> {\n    const [updated] = await db.update(staffRoles)\n      .set(updates)\n      .where(eq(staffRoles.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteStaffRole(id: string): Promise<void> {\n    await db.delete(staffRoles).where(eq(staffRoles.id, id));\n  }\n\n  // Notification operations\n  async createNotification(notification: InsertNotification): Promise<Notification> {\n    const [notif] = await db.insert(notifications).values(notification).returning();\n    return notif;\n  }\n\n  async getUserNotifications(userId: string): Promise<Notification[]> {\n    return await db.select().from(notifications)\n      .where(eq(notifications.userId, userId))\n      .orderBy(desc(notifications.createdAt));\n  }\n\n  async markNotificationAsRead(id: string): Promise<void> {\n    await db.update(notifications)\n      .set({ read: true })\n      .where(eq(notifications.id, id));\n  }\n\n  async deleteNotification(id: string): Promise<void> {\n    await db.delete(notifications).where(eq(notifications.id, id));\n  }\n\n  // Forum post operations\n  async createForumPost(post: InsertForumPost): Promise<ForumPost> {\n    const [forumPost] = await db.insert(forumPosts).values(post).returning();\n    return forumPost;\n  }\n\n  async getForumPosts(category?: string, includeArchived: boolean = false): Promise<(ForumPost & { user: User; replyCount: number })[]> {\n    let posts;\n    \n    if (category) {\n      posts = includeArchived\n        ? await db.select().from(forumPosts)\n            .where(eq(forumPosts.category, category))\n            .orderBy(desc(forumPosts.createdAt))\n        : await db.select().from(forumPosts)\n            .where(eq(forumPosts.category, category))\n            .orderBy(desc(forumPosts.createdAt));\n    } else {\n      posts = includeArchived\n        ? await db.select().from(forumPosts)\n            .orderBy(desc(forumPosts.createdAt))\n        : await db.select().from(forumPosts)\n            .orderBy(desc(forumPosts.createdAt));\n    }\n    \n    if (!includeArchived) {\n      posts = posts.filter(p => !p.isArchived);\n    }\n\n    const postsWithUserAndCount = await Promise.all(\n      posts.map(async (post) => {\n        const [user] = await db.select().from(users).where(eq(users.id, post.userId)).limit(1);\n        const replies = await db.select().from(forumReplies).where(eq(forumReplies.postId, post.id));\n        return { ...post, user, replyCount: replies.length };\n      })\n    );\n\n    return postsWithUserAndCount;\n  }\n\n  async getForumPost(id: string): Promise<(ForumPost & { user: User }) | undefined> {\n    const [post] = await db.select().from(forumPosts).where(eq(forumPosts.id, id)).limit(1);\n    if (!post) return undefined;\n\n    const [user] = await db.select().from(users).where(eq(users.id, post.userId)).limit(1);\n    return { ...post, user };\n  }\n\n  async updateForumPost(id: string, updates: Partial<ForumPost>): Promise<ForumPost | undefined> {\n    const [updated] = await db.update(forumPosts)\n      .set(updates)\n      .where(eq(forumPosts.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteForumPost(id: string): Promise<void> {\n    await db.delete(forumPosts).where(eq(forumPosts.id, id));\n  }\n\n  // Forum reply operations\n  async createForumReply(reply: InsertForumReply): Promise<ForumReply> {\n    const [forumReply] = await db.insert(forumReplies).values(reply).returning();\n    return forumReply;\n  }\n\n  async getForumReplies(postId: string): Promise<(ForumReply & { user: User })[]> {\n    const replies = await db.select().from(forumReplies)\n      .where(eq(forumReplies.postId, postId))\n      .orderBy(desc(forumReplies.createdAt));\n\n    const repliesWithUser = await Promise.all(\n      replies.map(async (reply) => {\n        const [user] = await db.select().from(users).where(eq(users.id, reply.userId)).limit(1);\n        return { ...reply, user };\n      })\n    );\n\n    return repliesWithUser;\n  }\n\n  async getForumReply(id: string): Promise<(ForumReply & { user: User }) | undefined> {\n    const [reply] = await db.select().from(forumReplies).where(eq(forumReplies.id, id)).limit(1);\n    if (!reply) return undefined;\n\n    const [user] = await db.select().from(users).where(eq(users.id, reply.userId)).limit(1);\n    return { ...reply, user };\n  }\n\n  async updateForumReply(id: string, updates: Partial<ForumReply>): Promise<ForumReply | undefined> {\n    const [reply] = await db.update(forumReplies).set(updates).where(eq(forumReplies.id, id)).returning();\n    return reply;\n  }\n\n  async deleteForumReply(id: string): Promise<void> {\n    await db.delete(forumReplies).where(eq(forumReplies.id, id));\n  }\n\n  // Chat message operations\n  async createChatMessage(message: InsertChatMessage): Promise<ChatMessage> {\n    const [chatMessage] = await db.insert(chatMessages).values(message).returning();\n    return chatMessage;\n  }\n\n  async getChatMessages(limit: number = 50): Promise<(ChatMessage & { user: User })[]> {\n    const messages = await db.select().from(chatMessages)\n      .orderBy(desc(chatMessages.createdAt))\n      .limit(limit);\n\n    const messagesWithUser = await Promise.all(\n      messages.map(async (message) => {\n        const [user] = await db.select().from(users).where(eq(users.id, message.userId)).limit(1);\n        return { ...message, user };\n      })\n    );\n\n    return messagesWithUser.reverse(); // Reverse to show oldest first\n  }\n\n  async deleteChatMessage(id: string): Promise<void> {\n    await db.delete(chatMessages).where(eq(chatMessages.id, id));\n  }\n\n  // IP ban operations\n  async createBannedIp(bannedIp: InsertBannedIp): Promise<BannedIp> {\n    const [banned] = await db.insert(bannedIps).values(bannedIp).returning();\n    return banned;\n  }\n\n  async getBannedIps(): Promise<(BannedIp & { bannedByUser: User })[]> {\n    const banned = await db.select().from(bannedIps).orderBy(desc(bannedIps.createdAt));\n    \n    const bannedWithUser = await Promise.all(\n      banned.map(async (ban) => {\n        const [user] = await db.select().from(users).where(eq(users.id, ban.bannedBy)).limit(1);\n        return { ...ban, bannedByUser: user };\n      })\n    );\n\n    return bannedWithUser;\n  }\n\n  async getBannedIpByAddress(ipAddress: string): Promise<BannedIp | undefined> {\n    const [banned] = await db.select().from(bannedIps).where(eq(bannedIps.ipAddress, ipAddress)).limit(1);\n    return banned;\n  }\n\n  async deleteBannedIp(id: string): Promise<void> {\n    await db.delete(bannedIps).where(eq(bannedIps.id, id));\n  }\n\n  // Password reset operations\n  async createPasswordResetToken(token: InsertPasswordResetToken): Promise<PasswordResetToken> {\n    const [resetToken] = await db.insert(passwordResetTokens).values(token).returning();\n    return resetToken;\n  }\n\n  async getPasswordResetToken(token: string): Promise<PasswordResetToken | undefined> {\n    const [resetToken] = await db.select().from(passwordResetTokens).where(eq(passwordResetTokens.token, token)).limit(1);\n    return resetToken;\n  }\n\n  async deletePasswordResetToken(id: string): Promise<void> {\n    await db.delete(passwordResetTokens).where(eq(passwordResetTokens.id, id));\n  }\n\n  async deleteUserPasswordResetTokens(userId: string): Promise<void> {\n    await db.delete(passwordResetTokens).where(eq(passwordResetTokens.userId, userId));\n  }\n\n  // Private message operations\n  async sendPrivateMessage(message: InsertPrivateMessage): Promise<PrivateMessage> {\n    const [pm] = await db.insert(privateMessages).values(message).returning();\n    return pm;\n  }\n\n  async getConversations(userId: string): Promise<Array<{ otherUser: User; lastMessage: PrivateMessage; unreadCount: number }>>  {\n    const { or, and, sql } = await import(\"drizzle-orm\");\n    \n    // Get all messages where user is sender or receiver\n    const messages = await db\n      .select()\n      .from(privateMessages)\n      .where(\n        or(\n          eq(privateMessages.senderId, userId),\n          eq(privateMessages.receiverId, userId)\n        )\n      )\n      .orderBy(desc(privateMessages.createdAt));\n\n    // Group by other user\n    const conversationMap = new Map<string, { lastMessage: PrivateMessage; messages: PrivateMessage[] }>();\n    \n    for (const msg of messages) {\n      const otherUserId = msg.senderId === userId ? msg.receiverId : msg.senderId;\n      \n      if (!conversationMap.has(otherUserId)) {\n        conversationMap.set(otherUserId, { lastMessage: msg, messages: [msg] });\n      } else {\n        conversationMap.get(otherUserId)!.messages.push(msg);\n      }\n    }\n\n    // Build conversation list with other user info and unread count\n    const conversations = await Promise.all(\n      Array.from(conversationMap.entries()).map(async ([otherUserId, data]) => {\n        const [otherUser] = await db.select().from(users).where(eq(users.id, otherUserId)).limit(1);\n        \n        // Count unread messages from other user to current user\n        const unreadCount = data.messages.filter(\n          m => m.senderId === otherUserId && m.receiverId === userId && !m.isRead\n        ).length;\n\n        return {\n          otherUser,\n          lastMessage: data.lastMessage,\n          unreadCount,\n        };\n      })\n    );\n\n    return conversations;\n  }\n\n  async getConversationMessages(userId: string, otherUserId: string): Promise<(PrivateMessage & { sender: User; receiver: User })[]> {\n    const { or, and } = await import(\"drizzle-orm\");\n    \n    const messages = await db\n      .select()\n      .from(privateMessages)\n      .where(\n        or(\n          and(\n            eq(privateMessages.senderId, userId),\n            eq(privateMessages.receiverId, otherUserId)\n          ),\n          and(\n            eq(privateMessages.senderId, otherUserId),\n            eq(privateMessages.receiverId, userId)\n          )\n        )\n      )\n      .orderBy(privateMessages.createdAt);\n\n    const messagesWithUsers = await Promise.all(\n      messages.map(async (msg) => {\n        const [sender] = await db.select().from(users).where(eq(users.id, msg.senderId)).limit(1);\n        const [receiver] = await db.select().from(users).where(eq(users.id, msg.receiverId)).limit(1);\n        return { ...msg, sender, receiver };\n      })\n    );\n\n    return messagesWithUsers;\n  }\n\n  async markMessageAsRead(messageId: string): Promise<void> {\n    await db.update(privateMessages).set({ isRead: true }).where(eq(privateMessages.id, messageId));\n  }\n\n  async getUnreadMessageCount(userId: string): Promise<number> {\n    const { and } = await import(\"drizzle-orm\");\n    \n    const unreadMessages = await db\n      .select()\n      .from(privateMessages)\n      .where(\n        and(\n          eq(privateMessages.receiverId, userId),\n          eq(privateMessages.isRead, false)\n        )\n      );\n\n    return unreadMessages.length;\n  }\n\n  // Player statistics operations\n  async getPlayerStats(): Promise<User[]> {\n    const allUsers = await db\n      .select()\n      .from(users)\n      .where(eq(users.isApproved, true))\n      .orderBy(desc(users.goals));\n    \n    return allUsers;\n  }\n\n  async getPlayerByUsername(username: string): Promise<User | undefined> {\n    const [player] = await db\n      .select()\n      .from(users)\n      .where(eq(users.username, username))\n      .limit(1);\n    \n    return player;\n  }\n\n  async getPlayersRanking(): Promise<User[]> {\n    const allPlayers = await db\n      .select()\n      .from(users)\n      .where(eq(users.isApproved, true))\n      .orderBy(desc(users.points));\n    \n    return allPlayers;\n  }\n\n  async updatePlayerStats(\n    userId: string, \n    stats: { goals?: number; assists?: number; saves?: number; matchTime?: number; rank?: string }\n  ): Promise<User | undefined> {\n    await db.update(users).set(stats).where(eq(users.id, userId));\n    const [updatedUser] = await db.select().from(users).where(eq(users.id, userId)).limit(1);\n    return updatedUser;\n  }\n}\n\nexport const storage = new DBStorage();\n","size_bytes":22412},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ForumPostCard.tsx":{"content":"import { Card, CardContent, CardFooter, CardHeader } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { MessageSquare, Lock, Trash2 } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface ForumPostCardProps {\n  id: number;\n  title: string;\n  content: string;\n  author: string;\n  authorProfilePicture?: string | null;\n  authorRole?: string;\n  authorPlayerRole?: string;\n  authorIsAdmin?: boolean;\n  authorIsSuperAdmin?: boolean;\n  category: string;\n  replyCount: number;\n  createdAt: string;\n  isLocked?: boolean;\n  isArchived?: boolean;\n  showAdminActions?: boolean;\n  onDelete?: () => void;\n  onToggleLock?: () => void;\n}\n\nconst roleColors: Record<string, string> = {\n  \"Founder\": \"bg-purple-500/20 text-purple-300 border-purple-500/30\",\n  \"Master Coordinator\": \"bg-red-500/20 text-red-300 border-red-500/30\",\n  \"Coordinator Admin\": \"bg-orange-500/20 text-orange-300 border-orange-500/30\",\n  \"Head Overseer Admin\": \"bg-yellow-500/20 text-yellow-300 border-yellow-500/30\",\n  \"Inspector Admin\": \"bg-green-500/20 text-green-300 border-green-500/30\",\n  \"Game Admin\": \"bg-blue-500/20 text-blue-300 border-blue-500/30\",\n  \"Arena Admin\": \"bg-cyan-500/20 text-cyan-300 border-cyan-500/30\",\n  \"HaxArena Ãœye\": \"bg-slate-500/20 text-slate-300 border-slate-500/30\",\n};\n\nexport default function ForumPostCard({\n  id,\n  title,\n  content,\n  author,\n  authorProfilePicture,\n  authorRole,\n  authorPlayerRole,\n  authorIsAdmin,\n  authorIsSuperAdmin,\n  category,\n  replyCount,\n  createdAt,\n  isLocked = false,\n  isArchived = false,\n  showAdminActions = false,\n  onDelete,\n  onToggleLock,\n}: ForumPostCardProps) {\n  const getInitials = (name: string) => {\n    return name\n      .split(\" \")\n      .map((n) => n[0])\n      .join(\"\")\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  // Admin rolleri (Ã¶ncelikli)\n  const adminRoles = [\"Founder\", \"Master Coordinator\", \"Coordinator Admin\", \"Head Overseer Admin\", \"Inspector Admin\", \"Game Admin\", \"Arena Admin\"];\n  const isAdminRole = authorRole && adminRoles.includes(authorRole);\n\n  return (\n    <Card className={`hover-elevate overflow-visible ${isArchived ? 'opacity-60' : ''}`}>\n      <CardHeader>\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex items-start gap-3 flex-1 min-w-0\">\n            <Avatar className=\"w-12 h-12 flex-shrink-0 border-2 border-primary/20\">\n              <AvatarImage src={authorProfilePicture || undefined} alt={author} />\n              <AvatarFallback data-testid={`avatar-${author}`}>{getInitials(author)}</AvatarFallback>\n            </Avatar>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-2 flex-wrap mb-2\">\n                <span className=\"text-base font-bold text-foreground\" data-testid=\"text-author\">{author}</span>\n                \n                {/* YÃ¶netim etiketi (en Ã¶ncelikli) */}\n                {authorIsSuperAdmin && (\n                  <Badge \n                    variant=\"outline\" \n                    className=\"bg-red-500/20 text-red-300 border-red-500/30 text-xs font-bold\"\n                    data-testid=\"badge-management\"\n                  >\n                    YÃ–NETÄ°M\n                  </Badge>\n                )}\n                \n                {/* Admin/Staff rolÃ¼ */}\n                {authorRole && isAdminRole && (\n                  <Badge \n                    variant=\"outline\" \n                    className={`${roleColors[authorRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                    data-testid=\"badge-author-role\"\n                  >\n                    {authorRole}\n                  </Badge>\n                )}\n                \n                {/* Oyuncu rolÃ¼ (admin rolÃ¼nden sonra) */}\n                {authorPlayerRole && (\n                  <Badge \n                    variant=\"outline\" \n                    className=\"bg-emerald-500/20 text-emerald-300 border-emerald-500/30 text-xs\"\n                    data-testid=\"badge-author-player-role\"\n                  >\n                    {authorPlayerRole}\n                  </Badge>\n                )}\n                \n                {/* Normal Ã¼ye rolÃ¼ (eÄŸer admin rolÃ¼ yoksa) */}\n                {authorRole && !isAdminRole && (\n                  <Badge \n                    variant=\"outline\" \n                    className={`${roleColors[authorRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                    data-testid=\"badge-author-role\"\n                  >\n                    {authorRole}\n                  </Badge>\n                )}\n              </div>\n              \n              <div className=\"flex items-center gap-2 flex-wrap mb-1\">\n                <Link href={`/forum/${id}`} className=\"font-semibold text-lg hover:text-primary transition-colors\" data-testid={`link-post-${id}`}>\n                  {title}\n                </Link>\n                {isLocked && (\n                  <Badge variant=\"secondary\" className=\"gap-1\" data-testid=\"badge-locked\">\n                    <Lock className=\"w-3 h-3\" />\n                    Kilitli\n                  </Badge>\n                )}\n                {isArchived && (\n                  <Badge variant=\"secondary\" data-testid=\"badge-archived\">\n                    ArÅŸivlendi\n                  </Badge>\n                )}\n              </div>\n              <div className=\"flex items-center gap-2 flex-wrap text-sm text-muted-foreground\">\n                <span>{createdAt}</span>\n                <span>â€¢</span>\n                <span data-testid=\"text-category\">{category}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent>\n        <p className=\"text-sm text-muted-foreground line-clamp-2\" data-testid=\"text-content\">\n          {content}\n        </p>\n      </CardContent>\n\n      <CardFooter className=\"flex items-center justify-between gap-4\">\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <MessageSquare className=\"w-4 h-4\" />\n          <span data-testid=\"text-reply-count\">{replyCount} yanÄ±t</span>\n        </div>\n\n        {showAdminActions && (\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onToggleLock}\n              className=\"hover-elevate active-elevate-2\"\n              data-testid=\"button-toggle-lock\"\n            >\n              <Lock className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onDelete}\n              className=\"hover-elevate active-elevate-2 text-destructive\"\n              data-testid=\"button-delete-post\"\n            >\n              <Trash2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        )}\n      </CardFooter>\n    </Card>\n  );\n}\n","size_bytes":7033},"client/src/components/examples/LeagueStandingsTable.tsx":{"content":"import LeagueStandingsTable from '../LeagueStandingsTable'\n\nexport default function LeagueStandingsTableExample() {\n  const mockStandings = [\n    {\n      rank: 1,\n      teamName: \"Galatasaray Espor\",\n      played: 10,\n      won: 8,\n      drawn: 1,\n      lost: 1,\n      goalsFor: 32,\n      goalsAgainst: 12,\n      goalDifference: 20,\n      points: 25\n    },\n    {\n      rank: 2,\n      teamName: \"FenerbahÃ§e SK\",\n      played: 10,\n      won: 7,\n      drawn: 2,\n      lost: 1,\n      goalsFor: 28,\n      goalsAgainst: 14,\n      goalDifference: 14,\n      points: 23\n    },\n    {\n      rank: 3,\n      teamName: \"BeÅŸiktaÅŸ JK\",\n      played: 10,\n      won: 6,\n      drawn: 2,\n      lost: 2,\n      goalsFor: 24,\n      goalsAgainst: 16,\n      goalDifference: 8,\n      points: 20\n    },\n    {\n      rank: 4,\n      teamName: \"Trabzonspor\",\n      played: 10,\n      won: 4,\n      drawn: 3,\n      lost: 3,\n      goalsFor: 18,\n      goalsAgainst: 18,\n      goalDifference: 0,\n      points: 15\n    }\n  ];\n\n  return <LeagueStandingsTable standings={mockStandings} />\n}\n","size_bytes":1054},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/pages/team-application-page.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { AlertCircle } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\n\nexport default function TeamApplicationPage() {\n  const { user, logout } = useAuth();\n  const { toast } = useToast();\n  const [teamName, setTeamName] = useState(\"\");\n  const [teamLogo, setTeamLogo] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [captain1, setCaptain1] = useState(\"\");\n  const [captain2, setCaptain2] = useState(\"\");\n  const [viceCaptain, setViceCaptain] = useState(\"\");\n  const [players, setPlayers] = useState(\"\");\n\n  const { data: settings } = useQuery<any>({\n    queryKey: [\"/api/settings\"],\n  });\n\n  const { data: applications } = useQuery<any[]>({\n    queryKey: [\"/api/applications/team\"],\n  });\n\n  const applyMutation = useMutation({\n    mutationFn: async (data: { teamName: string; teamLogo: string; description: string; captain1: string; captain2: string; viceCaptain: string; players: string[] }) => {\n      return await apiRequest(\"POST\", \"/api/applications/team\", data);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"BaÅŸvuru GÃ¶nderildi\",\n        description: \"TakÄ±m baÅŸvurunuz gÃ¶nderildi\",\n      });\n      setTeamName(\"\");\n      setTeamLogo(\"\");\n      setDescription(\"\");\n      setCaptain1(\"\");\n      setCaptain2(\"\");\n      setViceCaptain(\"\");\n      setPlayers(\"\");\n      queryClient.invalidateQueries({ queryKey: [\"/api/applications/team\"] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Hata\",\n        description: error.message || \"BaÅŸvuru gÃ¶nderilemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const playersList = players.split('\\n').filter(p => p.trim());\n    applyMutation.mutate({ \n      teamName, \n      teamLogo, \n      description, \n      captain1, \n      captain2, \n      viceCaptain, \n      players: playersList \n    });\n  };\n\n  const applicationsOpen = settings?.teamApplicationsOpen;\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4 max-w-4xl\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-heading font-bold mb-2\">TakÄ±m BaÅŸvurusu</h1>\n            <p className=\"text-muted-foreground\">Lige katÄ±lmak iÃ§in takÄ±m baÅŸvurusu yapÄ±n</p>\n          </div>\n\n          <div className=\"grid gap-6\">\n            {user && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>Yeni TakÄ±m BaÅŸvurusu</CardTitle>\n                  <CardDescription>TakÄ±m bilgilerinizi girin</CardDescription>\n                </CardHeader>\n                <form onSubmit={handleSubmit}>\n                  <CardContent className=\"space-y-4\">\n                    {!applicationsOpen && (\n                      <Alert variant=\"destructive\">\n                        <AlertCircle className=\"w-4 h-4\" />\n                        <AlertDescription>\n                          TakÄ±m baÅŸvurularÄ± ÅŸu anda kapalÄ±\n                        </AlertDescription>\n                      </Alert>\n                    )}\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"team-name\">TakÄ±m AdÄ±</Label>\n                      <Input\n                        id=\"team-name\"\n                        type=\"text\"\n                        placeholder=\"TakÄ±m adÄ±nÄ±z\"\n                        value={teamName}\n                        onChange={(e) => setTeamName(e.target.value)}\n                        required\n                        disabled={!applicationsOpen}\n                        data-testid=\"input-team-name\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"team-logo\">TakÄ±m Logosu URL (Opsiyonel)</Label>\n                      <Input\n                        id=\"team-logo\"\n                        type=\"url\"\n                        placeholder=\"https://example.com/logo.png\"\n                        value={teamLogo}\n                        onChange={(e) => setTeamLogo(e.target.value)}\n                        disabled={!applicationsOpen}\n                        data-testid=\"input-team-logo\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"description\">AÃ§Ä±klama</Label>\n                      <Textarea\n                        id=\"description\"\n                        placeholder=\"TakÄ±mÄ±nÄ±z hakkÄ±nda bilgi verin\"\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                        required\n                        rows={5}\n                        disabled={!applicationsOpen}\n                        data-testid=\"textarea-description\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"captain1\">1. Kaptan</Label>\n                      <Input\n                        id=\"captain1\"\n                        type=\"text\"\n                        placeholder=\"Ä°lk kaptan adÄ±\"\n                        value={captain1}\n                        onChange={(e) => setCaptain1(e.target.value)}\n                        disabled={!applicationsOpen}\n                        data-testid=\"input-captain1\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"captain2\">2. Kaptan</Label>\n                      <Input\n                        id=\"captain2\"\n                        type=\"text\"\n                        placeholder=\"Ä°kinci kaptan adÄ±\"\n                        value={captain2}\n                        onChange={(e) => setCaptain2(e.target.value)}\n                        disabled={!applicationsOpen}\n                        data-testid=\"input-captain2\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"viceCaptain\">Kaptan YardÄ±mcÄ±sÄ±</Label>\n                      <Input\n                        id=\"viceCaptain\"\n                        type=\"text\"\n                        placeholder=\"Kaptan yardÄ±mcÄ±sÄ± adÄ±\"\n                        value={viceCaptain}\n                        onChange={(e) => setViceCaptain(e.target.value)}\n                        disabled={!applicationsOpen}\n                        data-testid=\"input-vice-captain\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"players\">Oyuncular (Her satÄ±ra bir oyuncu)</Label>\n                      <Textarea\n                        id=\"players\"\n                        placeholder=\"Oyuncu 1&#10;Oyuncu 2&#10;Oyuncu 3\"\n                        value={players}\n                        onChange={(e) => setPlayers(e.target.value)}\n                        rows={5}\n                        disabled={!applicationsOpen}\n                        data-testid=\"textarea-players\"\n                      />\n                    </div>\n                  </CardContent>\n                  <CardFooter>\n                    <Button \n                      type=\"submit\" \n                      disabled={applyMutation.isPending || !applicationsOpen}\n                      data-testid=\"button-submit\"\n                    >\n                      {applyMutation.isPending ? \"GÃ¶nderiliyor...\" : \"BaÅŸvur\"}\n                    </Button>\n                  </CardFooter>\n                </form>\n              </Card>\n            )}\n\n            {!user && (\n              <Alert>\n                <AlertCircle className=\"w-4 h-4\" />\n                <AlertDescription>\n                  BaÅŸvuru yapmak iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z\n                </AlertDescription>\n              </Alert>\n            )}\n\n            <div>\n              <h2 className=\"text-2xl font-heading font-bold mb-4\">TÃ¼m BaÅŸvurular</h2>\n              <div className=\"space-y-4\">\n                {applications?.map((app) => (\n                  <Card key={app.id}>\n                    <CardHeader>\n                      <div className=\"flex items-center justify-between gap-2\">\n                        <CardTitle className=\"text-lg\">{app.teamName}</CardTitle>\n                        <Badge variant={\n                          app.status === \"pending\" ? \"secondary\" :\n                          app.status === \"approved\" ? \"default\" : \"destructive\"\n                        }>\n                          {app.status === \"pending\" ? \"Beklemede\" :\n                           app.status === \"approved\" ? \"OnaylandÄ±\" : \"Reddedildi\"}\n                        </Badge>\n                      </div>\n                      <CardDescription>\n                        {app.user?.username} â€¢ {new Date(app.createdAt).toLocaleDateString(\"tr-TR\")}\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      {app.teamLogo && (\n                        <div>\n                          <img \n                            src={app.teamLogo} \n                            alt={app.teamName} \n                            className=\"w-16 h-16 object-contain rounded\"\n                          />\n                        </div>\n                      )}\n                      <div>\n                        <p className=\"font-semibold text-sm\">AÃ§Ä±klama:</p>\n                        <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{app.description}</p>\n                      </div>\n                      {app.captain1 && (\n                        <div>\n                          <p className=\"font-semibold text-sm\">1. Kaptan:</p>\n                          <p className=\"text-sm text-muted-foreground\">{app.captain1}</p>\n                        </div>\n                      )}\n                      {app.captain2 && (\n                        <div>\n                          <p className=\"font-semibold text-sm\">2. Kaptan:</p>\n                          <p className=\"text-sm text-muted-foreground\">{app.captain2}</p>\n                        </div>\n                      )}\n                      {app.viceCaptain && (\n                        <div>\n                          <p className=\"font-semibold text-sm\">Kaptan YardÄ±mcÄ±sÄ±:</p>\n                          <p className=\"text-sm text-muted-foreground\">{app.viceCaptain}</p>\n                        </div>\n                      )}\n                      {app.players && app.players.length > 0 && (\n                        <div>\n                          <p className=\"font-semibold text-sm\">Oyuncular:</p>\n                          <ul className=\"text-sm text-muted-foreground list-disc list-inside\">\n                            {app.players.map((player: string, idx: number) => (\n                              <li key={idx}>{player}</li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                ))}\n                {applications?.length === 0 && (\n                  <p className=\"text-center text-muted-foreground py-8\">HenÃ¼z baÅŸvuru yok</p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}\n","size_bytes":12182},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"returnNull\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1388},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/Header.tsx":{"content":"import { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport { SiDiscord } from \"react-icons/si\";\nimport { UserCircle, LogOut, Shield, Bell, Trash2, Menu } from \"lucide-react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { useState } from \"react\";\n\ninterface HeaderProps {\n  user?: { \n    username: string; \n    isAdmin?: boolean;\n    isSuperAdmin?: boolean;\n    role?: string;\n  } | null;\n  onLogout?: () => void;\n}\n\nexport default function Header({ user, onLogout }: HeaderProps) {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  \n  const { data: notifications } = useQuery<any[]>({\n    queryKey: [\"/api/notifications\"],\n    enabled: !!user,\n    refetchInterval: 30000, // Her 30 saniyede bir yenile\n  });\n\n  const deleteNotificationMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/notifications/${id}`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/notifications\"] });\n    },\n  });\n\n  const unreadCount = notifications?.filter(n => !n.read).length || 0;\n\n  return (\n    <header className=\"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80\">\n      <div className=\"container mx-auto flex h-16 items-center justify-between px-4\">\n        <Link href=\"/\">\n          <div className=\"flex items-center gap-2 hover-elevate rounded-lg px-3 py-2 active-elevate-2 cursor-pointer\" data-testid=\"link-home\">\n            <div className=\"text-2xl font-heading font-bold text-primary\">\n              HaxArena V6\n            </div>\n          </div>\n        </Link>\n\n        <nav className=\"hidden lg:flex items-center gap-1\">\n          <Link href=\"/\" data-testid=\"link-nav-home\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Ana Sayfa\n            </Button>\n          </Link>\n          <Link href=\"/aktif-odalar\" data-testid=\"link-nav-rooms\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Aktif Odalar\n            </Button>\n          </Link>\n          <Link href=\"/vip\" data-testid=\"link-nav-vip\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              VIP\n            </Button>\n          </Link>\n          <Link href=\"/lig\" data-testid=\"link-nav-league\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Lig\n            </Button>\n          </Link>\n          <Link href=\"/forum\" data-testid=\"link-nav-forum\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Forum\n            </Button>\n          </Link>\n          {user && (\n            <Link href=\"/mesajlar\" data-testid=\"link-nav-messages\">\n              <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n                Mesajlar\n              </Button>\n            </Link>\n          )}\n          <Link href=\"/admin-kadrosu\" data-testid=\"link-nav-staff\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Admin Kadrosu\n            </Button>\n          </Link>\n          <Link href=\"/admin-basvuru\" data-testid=\"link-nav-admin-application\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Admin BaÅŸvurusu\n            </Button>\n          </Link>\n          <Link href=\"/takim-basvuru\" data-testid=\"link-nav-team-application\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              TakÄ±m BaÅŸvurusu\n            </Button>\n          </Link>\n          <Link href=\"/istatistikler\" data-testid=\"link-nav-stats\">\n            <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n              Ä°statistikler\n            </Button>\n          </Link>\n        </nav>\n\n        <div className=\"flex items-center gap-2\">\n          {/* Mobil MenÃ¼ Butonu */}\n          <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>\n            <SheetTrigger asChild className=\"lg:hidden\">\n              <Button variant=\"ghost\" size=\"icon\" className=\"hover-elevate active-elevate-2\" data-testid=\"button-mobile-menu\">\n                <Menu className=\"w-5 h-5\" />\n              </Button>\n            </SheetTrigger>\n            <SheetContent side=\"left\" className=\"w-72\">\n              <div className=\"flex flex-col gap-4 mt-8\">\n                <Link href=\"/\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-home\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Ana Sayfa\n                  </Button>\n                </Link>\n                <Link href=\"/aktif-odalar\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-rooms\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Aktif Odalar\n                  </Button>\n                </Link>\n                <Link href=\"/vip\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-vip\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    VIP\n                  </Button>\n                </Link>\n                <Link href=\"/lig\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-league\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Lig\n                  </Button>\n                </Link>\n                <Link href=\"/forum\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-forum\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Forum\n                  </Button>\n                </Link>\n                {user && (\n                  <Link href=\"/mesajlar\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-messages\">\n                    <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                      Mesajlar\n                    </Button>\n                  </Link>\n                )}\n                <Link href=\"/admin-kadrosu\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-staff\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Admin Kadrosu\n                  </Button>\n                </Link>\n                <Link href=\"/admin-basvuru\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-admin-application\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Admin BaÅŸvurusu\n                  </Button>\n                </Link>\n                <Link href=\"/takim-basvuru\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-team-application\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    TakÄ±m BaÅŸvurusu\n                  </Button>\n                </Link>\n                <Link href=\"/istatistikler\" onClick={() => setMobileMenuOpen(false)} data-testid=\"link-mobile-stats\">\n                  <Button variant=\"ghost\" className=\"w-full justify-start hover-elevate active-elevate-2\">\n                    Ä°statistikler\n                  </Button>\n                </Link>\n              </div>\n            </SheetContent>\n          </Sheet>\n\n          <a\n            href=\"https://discord.gg/haxarena\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            data-testid=\"link-discord\"\n          >\n            <Button variant=\"ghost\" size=\"icon\" className=\"hover-elevate active-elevate-2\">\n              <SiDiscord className=\"w-5 h-5\" />\n            </Button>\n          </a>\n          \n          {user ? (\n            <>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"icon\" \n                    className=\"hover-elevate active-elevate-2 relative\"\n                    data-testid=\"button-notifications\"\n                  >\n                    <Bell className=\"w-5 h-5\" />\n                    {unreadCount > 0 && (\n                      <Badge \n                        variant=\"destructive\" \n                        className=\"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs\"\n                      >\n                        {unreadCount}\n                      </Badge>\n                    )}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-80 p-0\" align=\"end\">\n                  <div className=\"p-4 border-b\">\n                    <h3 className=\"font-semibold\">Bildirimler</h3>\n                  </div>\n                  <div className=\"max-h-96 overflow-y-auto\">\n                    {notifications && notifications.length > 0 ? (\n                      <div className=\"divide-y\">\n                        {notifications.map((notif) => (\n                          <div \n                            key={notif.id} \n                            className={`p-3 flex items-start justify-between gap-2 ${!notif.read ? 'bg-muted/50' : ''}`}\n                          >\n                            <p className=\"text-sm flex-1\">{notif.message}</p>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => deleteNotificationMutation.mutate(notif.id)}\n                              disabled={deleteNotificationMutation.isPending}\n                              data-testid={`button-delete-notification-${notif.id}`}\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"p-4 text-center text-sm text-muted-foreground\">\n                        Bildirim yok\n                      </div>\n                    )}\n                  </div>\n                </PopoverContent>\n              </Popover>\n              <Link href=\"/profil\" data-testid=\"link-profile\">\n                <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2 flex items-center gap-2\">\n                  <UserCircle className=\"w-5 h-5\" />\n                  <span className=\"hidden md:inline\">{user.username}</span>\n                  {user.role && (\n                    <Badge variant=\"secondary\" className=\"hidden md:inline-flex\">\n                      {user.role}\n                    </Badge>\n                  )}\n                </Button>\n              </Link>\n              {user.isSuperAdmin && (\n                <Link href=\"/yonetim\" data-testid=\"link-management\">\n                  <Button variant=\"default\" size=\"sm\" className=\"hover-elevate active-elevate-2\">\n                    <Shield className=\"w-4 h-4 mr-1\" />\n                    YÃ¶netim\n                  </Button>\n                </Link>\n              )}\n              <Button \n                variant=\"ghost\" \n                size=\"icon\" \n                onClick={onLogout}\n                className=\"hover-elevate active-elevate-2\"\n                data-testid=\"button-logout\"\n              >\n                <LogOut className=\"w-5 h-5\" />\n              </Button>\n            </>\n          ) : (\n            <>\n              <Link href=\"/kayit\" data-testid=\"link-register\">\n                <Button variant=\"ghost\" className=\"hover-elevate active-elevate-2\">\n                  KayÄ±t Ol\n                </Button>\n              </Link>\n              <Link href=\"/giris\" data-testid=\"link-login\">\n                <Button variant=\"default\" className=\"hover-elevate active-elevate-2\">\n                  GiriÅŸ Yap\n                </Button>\n              </Link>\n            </>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n","size_bytes":12486},"client/src/pages/forum-page.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Plus, Lock, MessageSquare, Calendar, Archive, Lock as LockIcon, Image as ImageIcon, X } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useAuth } from \"@/lib/auth\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport type { ForumPost, User } from \"@shared/schema\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { tr } from \"date-fns/locale\";\nimport { Badge } from \"@/components/ui/badge\";\n\nconst roleColors: Record<string, string> = {\n  \"Founder\": \"bg-purple-500/20 text-purple-300 border-purple-500/30\",\n  \"Master Coordinator\": \"bg-red-500/20 text-red-300 border-red-500/30\",\n  \"Coordinator Admin\": \"bg-orange-500/20 text-orange-300 border-orange-500/30\",\n  \"Head Overseer Admin\": \"bg-yellow-500/20 text-yellow-300 border-yellow-500/30\",\n  \"Inspector Admin\": \"bg-green-500/20 text-green-300 border-green-500/30\",\n  \"Game Admin\": \"bg-blue-500/20 text-blue-300 border-blue-500/30\",\n  \"Arena Admin\": \"bg-cyan-500/20 text-cyan-300 border-cyan-500/30\",\n};\n\nconst categories = [\n  { value: \"Genel Sohbet\", label: \"Genel Sohbet\" },\n  { value: \"Ã–neriler\", label: \"Ã–neriler\" },\n  { value: \"SÃ¶zlÃ¼k\", label: \"SÃ¶zlÃ¼k\" },\n];\n\nconst postSchema = z.object({\n  title: z.string().min(5, \"BaÅŸlÄ±k en az 5 karakter olmalÄ±dÄ±r\"),\n  content: z.string().min(10, \"Ä°Ã§erik en az 10 karakter olmalÄ±dÄ±r\"),\n  category: z.string().min(1, \"Kategori seÃ§iniz\"),\n  imageUrl: z.string().optional(),\n});\n\ntype PostFormData = z.infer<typeof postSchema>;\n\ntype PostWithUser = ForumPost & { user: User; replyCount: number; staffRole?: string | null };\n\nexport default function ForumPage() {\n  const { user, logout } = useAuth();\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState<string | undefined>(undefined);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n\n  const form = useForm<PostFormData>({\n    resolver: zodResolver(postSchema),\n    defaultValues: {\n      title: \"\",\n      content: \"\",\n      category: \"\",\n      imageUrl: \"\",\n    },\n  });\n\n  const { data: posts, isLoading } = useQuery<PostWithUser[]>({\n    queryKey: [\"/api/forum-posts\", selectedCategory],\n    queryFn: async () => {\n      const url = selectedCategory \n        ? `/api/forum-posts?category=${encodeURIComponent(selectedCategory)}`\n        : \"/api/forum-posts\";\n      const response = await fetch(url);\n      if (!response.ok) throw new Error(\"Konular yÃ¼klenemedi\");\n      return response.json();\n    },\n  });\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    if (file.size > 5 * 1024 * 1024) {\n      toast({\n        title: \"Hata\",\n        description: \"GÃ¶rsel boyutu 5MB'dan kÃ¼Ã§Ã¼k olmalÄ±dÄ±r\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64String = reader.result as string;\n      setImagePreview(base64String);\n      form.setValue(\"imageUrl\", base64String);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const removeImage = () => {\n    setImagePreview(null);\n    form.setValue(\"imageUrl\", \"\");\n  };\n\n  const createPostMutation = useMutation({\n    mutationFn: async (data: PostFormData) => {\n      return await apiRequest(\"POST\", \"/api/forum-posts\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Konu baÅŸarÄ±yla oluÅŸturuldu\",\n      });\n      setDialogOpen(false);\n      setImagePreview(null);\n      form.reset();\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Konu oluÅŸturulamadÄ±\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: PostFormData) => {\n    createPostMutation.mutate(data);\n  };\n\n  const filterPostsByTab = (tab: string) => {\n    if (tab === \"all\") {\n      setSelectedCategory(undefined);\n    } else if (tab === \"suggestions\") {\n      setSelectedCategory(\"Ã–neriler\");\n    } else if (tab === \"general\") {\n      setSelectedCategory(\"Genel Sohbet\");\n    } else if (tab === \"dictionary\") {\n      setSelectedCategory(\"SÃ¶zlÃ¼k\");\n    }\n  };\n\n  const filteredPosts = posts || [];\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"mb-8 flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-4xl font-heading font-bold mb-2\" data-testid=\"text-page-title\">\n                Forum\n              </h1>\n              <p className=\"text-muted-foreground\">\n                Toplulukla etkileÅŸime geÃ§in, sorularÄ±nÄ±zÄ± sorun ve deneyimlerinizi paylaÅŸÄ±n\n              </p>\n            </div>\n            \n            <Dialog open={dialogOpen} onOpenChange={setDialogOpen}>\n              <DialogTrigger asChild>\n                <Button \n                  className=\"hover-elevate active-elevate-2\" \n                  data-testid=\"button-create-post\"\n                  disabled={!user}\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Yeni Konu AÃ§\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl\">\n                <DialogHeader>\n                  <DialogTitle>Yeni Konu OluÅŸtur</DialogTitle>\n                </DialogHeader>\n                <Form {...form}>\n                  <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"title\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>BaÅŸlÄ±k</FormLabel>\n                          <FormControl>\n                            <Input \n                              placeholder=\"Konu baÅŸlÄ±ÄŸÄ±nÄ± girin\" \n                              {...field} \n                              data-testid=\"input-post-title\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <FormField\n                      control={form.control}\n                      name=\"category\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Kategori</FormLabel>\n                          <Select onValueChange={field.onChange} value={field.value}>\n                            <FormControl>\n                              <SelectTrigger data-testid=\"select-post-category\">\n                                <SelectValue placeholder=\"Kategori seÃ§in\" />\n                              </SelectTrigger>\n                            </FormControl>\n                            <SelectContent>\n                              {categories.map((cat) => (\n                                <SelectItem key={cat.value} value={cat.value}>\n                                  {cat.label}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <FormField\n                      control={form.control}\n                      name=\"content\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Ä°Ã§erik</FormLabel>\n                          <FormControl>\n                            <Textarea \n                              placeholder=\"Konu iÃ§eriÄŸini yazÄ±n...\" \n                              rows={6}\n                              {...field} \n                              data-testid=\"textarea-post-content\"\n                            />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <div className=\"space-y-4\">\n                      <div>\n                        <FormLabel>GÃ¶rsel (Opsiyonel)</FormLabel>\n                        <div className=\"mt-2\">\n                          {imagePreview ? (\n                            <div className=\"relative inline-block\">\n                              <img \n                                src={imagePreview} \n                                alt=\"Preview\" \n                                className=\"max-w-full h-auto max-h-64 rounded-md\"\n                              />\n                              <Button\n                                type=\"button\"\n                                variant=\"destructive\"\n                                size=\"icon\"\n                                className=\"absolute top-2 right-2\"\n                                onClick={removeImage}\n                                data-testid=\"button-remove-image\"\n                              >\n                                <X className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                          ) : (\n                            <div className=\"flex items-center gap-2\">\n                              <Input\n                                type=\"file\"\n                                accept=\"image/*\"\n                                onChange={handleImageUpload}\n                                className=\"max-w-xs\"\n                                data-testid=\"input-post-image\"\n                              />\n                              <Button\n                                type=\"button\"\n                                variant=\"outline\"\n                                size=\"icon\"\n                                onClick={() => document.querySelector<HTMLInputElement>('[data-testid=\"input-post-image\"]')?.click()}\n                                data-testid=\"button-upload-image\"\n                              >\n                                <ImageIcon className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                          )}\n                        </div>\n                        <p className=\"text-xs text-muted-foreground mt-2\">\n                          Maksimum 5MB boyutunda gÃ¶rsel yÃ¼kleyebilirsiniz\n                        </p>\n                      </div>\n                    </div>\n\n                    <div className=\"flex justify-end gap-2\">\n                      <Button \n                        type=\"button\" \n                        variant=\"outline\" \n                        onClick={() => setDialogOpen(false)}\n                        data-testid=\"button-cancel-post\"\n                      >\n                        Ä°ptal\n                      </Button>\n                      <Button \n                        type=\"submit\" \n                        disabled={createPostMutation.isPending}\n                        data-testid=\"button-submit-post\"\n                      >\n                        {createPostMutation.isPending ? \"OluÅŸturuluyor...\" : \"Konu OluÅŸtur\"}\n                      </Button>\n                    </div>\n                  </form>\n                </Form>\n              </DialogContent>\n            </Dialog>\n          </div>\n\n          {!user && (\n            <Alert className=\"mb-6\">\n              <Lock className=\"w-4 h-4\" />\n              <AlertDescription data-testid=\"text-login-required\">\n                Konu aÃ§mak ve yorum yapmak iÃ§in giriÅŸ yapmanÄ±z gerekmektedir. KayÄ±tsÄ±z kullanÄ±cÄ±lar sadece okuyabilir.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <Tabs defaultValue=\"all\" className=\"space-y-6\" onValueChange={filterPostsByTab}>\n            <TabsList>\n              <TabsTrigger value=\"all\" data-testid=\"tab-all\">TÃ¼mÃ¼</TabsTrigger>\n              <TabsTrigger value=\"suggestions\" data-testid=\"tab-suggestions\">Ã–neriler</TabsTrigger>\n              <TabsTrigger value=\"general\" data-testid=\"tab-general\">Genel Sohbet</TabsTrigger>\n              <TabsTrigger value=\"dictionary\" data-testid=\"tab-dictionary\">SÃ¶zlÃ¼k</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"all\" className=\"space-y-4\">\n              {isLoading ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">YÃ¼kleniyor...</p>\n                </div>\n              ) : filteredPosts.length > 0 ? (\n                filteredPosts.map((post) => (\n                  <Card \n                    key={post.id} \n                    className=\"hover-elevate cursor-pointer\"\n                    onClick={() => navigate(`/forum/${post.id}`)}\n                    data-testid={`card-post-${post.id}`}\n                  >\n                    <CardHeader className=\"flex flex-row items-start justify-between gap-4 space-y-0 pb-3\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                            {post.category}\n                          </span>\n                          {post.isLocked && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium flex items-center gap-1\">\n                              <LockIcon className=\"w-3 h-3\" />\n                              Kilitli\n                            </span>\n                          )}\n                          {post.isArchived && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium flex items-center gap-1\">\n                              <Archive className=\"w-3 h-3\" />\n                              ArÅŸivlendi\n                            </span>\n                          )}\n                        </div>\n                        <h3 className=\"text-lg font-semibold mb-1 truncate\" data-testid={`text-post-title-${post.id}`}>\n                          {post.title}\n                        </h3>\n                        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-2\">\n                          {post.content}\n                        </p>\n                        <div className=\"flex items-center gap-2 flex-wrap text-xs text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true, locale: tr })}\n                          </span>\n                          <span>â€¢</span>\n                          <span>{post.user.username}</span>\n                          {post.staffRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.staffRole}\n                            </Badge>\n                          )}\n                          {!post.staffRole && post.user.role && post.user.role !== \"HaxArena Ãœye\" && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.user.role] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.user.role}\n                            </Badge>\n                          )}\n                          <span>â€¢</span>\n                          <span className=\"flex items-center gap-1\">\n                            <MessageSquare className=\"w-3 h-3\" />\n                            {post.replyCount} cevap\n                          </span>\n                        </div>\n                      </div>\n                    </CardHeader>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\" data-testid=\"text-no-posts\">\n                    Bu kategoride henÃ¼z konu bulunmamaktadÄ±r.\n                  </p>\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"team-applications\" className=\"space-y-4\">\n              {isLoading ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">YÃ¼kleniyor...</p>\n                </div>\n              ) : filteredPosts.length > 0 ? (\n                filteredPosts.map((post) => (\n                  <Card \n                    key={post.id} \n                    className=\"hover-elevate cursor-pointer\"\n                    onClick={() => navigate(`/forum/${post.id}`)}\n                    data-testid={`card-post-${post.id}`}\n                  >\n                    <CardHeader className=\"flex flex-row items-start justify-between gap-4 space-y-0 pb-3\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                            {post.category}\n                          </span>\n                          {post.isLocked && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium flex items-center gap-1\">\n                              <LockIcon className=\"w-3 h-3\" />\n                              Kilitli\n                            </span>\n                          )}\n                          {post.isArchived && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium flex items-center gap-1\">\n                              <Archive className=\"w-3 h-3\" />\n                              ArÅŸivlendi\n                            </span>\n                          )}\n                        </div>\n                        <h3 className=\"text-lg font-semibold mb-1 truncate\" data-testid={`text-post-title-${post.id}`}>\n                          {post.title}\n                        </h3>\n                        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-2\">\n                          {post.content}\n                        </p>\n                        <div className=\"flex items-center gap-2 flex-wrap text-xs text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true, locale: tr })}\n                          </span>\n                          <span>â€¢</span>\n                          <span>{post.user.username}</span>\n                          {post.staffRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.staffRole}\n                            </Badge>\n                          )}\n                          {!post.staffRole && post.user.role && post.user.role !== \"HaxArena Ãœye\" && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.user.role] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.user.role}\n                            </Badge>\n                          )}\n                          <span>â€¢</span>\n                          <span className=\"flex items-center gap-1\">\n                            <MessageSquare className=\"w-3 h-3\" />\n                            {post.replyCount} cevap\n                          </span>\n                        </div>\n                      </div>\n                    </CardHeader>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\" data-testid=\"text-no-posts\">\n                    Bu kategoride henÃ¼z konu bulunmamaktadÄ±r.\n                  </p>\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"suggestions\" className=\"space-y-4\">\n              {isLoading ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">YÃ¼kleniyor...</p>\n                </div>\n              ) : filteredPosts.length > 0 ? (\n                filteredPosts.map((post) => (\n                  <Card \n                    key={post.id} \n                    className=\"hover-elevate cursor-pointer\"\n                    onClick={() => navigate(`/forum/${post.id}`)}\n                    data-testid={`card-post-${post.id}`}\n                  >\n                    <CardHeader className=\"flex flex-row items-start justify-between gap-4 space-y-0 pb-3\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                            {post.category}\n                          </span>\n                          {post.isLocked && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium flex items-center gap-1\">\n                              <LockIcon className=\"w-3 h-3\" />\n                              Kilitli\n                            </span>\n                          )}\n                          {post.isArchived && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium flex items-center gap-1\">\n                              <Archive className=\"w-3 h-3\" />\n                              ArÅŸivlendi\n                            </span>\n                          )}\n                        </div>\n                        <h3 className=\"text-lg font-semibold mb-1 truncate\" data-testid={`text-post-title-${post.id}`}>\n                          {post.title}\n                        </h3>\n                        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-2\">\n                          {post.content}\n                        </p>\n                        <div className=\"flex items-center gap-2 flex-wrap text-xs text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true, locale: tr })}\n                          </span>\n                          <span>â€¢</span>\n                          <span>{post.user.username}</span>\n                          {post.staffRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.staffRole}\n                            </Badge>\n                          )}\n                          {!post.staffRole && post.user.role && post.user.role !== \"HaxArena Ãœye\" && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.user.role] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.user.role}\n                            </Badge>\n                          )}\n                          <span>â€¢</span>\n                          <span className=\"flex items-center gap-1\">\n                            <MessageSquare className=\"w-3 h-3\" />\n                            {post.replyCount} cevap\n                          </span>\n                        </div>\n                      </div>\n                    </CardHeader>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\" data-testid=\"text-no-posts\">\n                    Bu kategoride henÃ¼z konu bulunmamaktadÄ±r.\n                  </p>\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"general\" className=\"space-y-4\">\n              {isLoading ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">YÃ¼kleniyor...</p>\n                </div>\n              ) : filteredPosts.length > 0 ? (\n                filteredPosts.map((post) => (\n                  <Card \n                    key={post.id} \n                    className=\"hover-elevate cursor-pointer\"\n                    onClick={() => navigate(`/forum/${post.id}`)}\n                    data-testid={`card-post-${post.id}`}\n                  >\n                    <CardHeader className=\"flex flex-row items-start justify-between gap-4 space-y-0 pb-3\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                            {post.category}\n                          </span>\n                          {post.isLocked && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium flex items-center gap-1\">\n                              <LockIcon className=\"w-3 h-3\" />\n                              Kilitli\n                            </span>\n                          )}\n                          {post.isArchived && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium flex items-center gap-1\">\n                              <Archive className=\"w-3 h-3\" />\n                              ArÅŸivlendi\n                            </span>\n                          )}\n                        </div>\n                        <h3 className=\"text-lg font-semibold mb-1 truncate\" data-testid={`text-post-title-${post.id}`}>\n                          {post.title}\n                        </h3>\n                        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-2\">\n                          {post.content}\n                        </p>\n                        <div className=\"flex items-center gap-2 flex-wrap text-xs text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true, locale: tr })}\n                          </span>\n                          <span>â€¢</span>\n                          <span>{post.user.username}</span>\n                          {post.staffRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.staffRole}\n                            </Badge>\n                          )}\n                          {!post.staffRole && post.user.role && post.user.role !== \"HaxArena Ãœye\" && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.user.role] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.user.role}\n                            </Badge>\n                          )}\n                          <span>â€¢</span>\n                          <span className=\"flex items-center gap-1\">\n                            <MessageSquare className=\"w-3 h-3\" />\n                            {post.replyCount} cevap\n                          </span>\n                        </div>\n                      </div>\n                    </CardHeader>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\" data-testid=\"text-no-posts\">\n                    Bu kategoride henÃ¼z konu bulunmamaktadÄ±r.\n                  </p>\n                </div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"dictionary\" className=\"space-y-4\">\n              {isLoading ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\">YÃ¼kleniyor...</p>\n                </div>\n              ) : filteredPosts.length > 0 ? (\n                filteredPosts.map((post) => (\n                  <Card \n                    key={post.id} \n                    className=\"hover-elevate cursor-pointer\"\n                    onClick={() => navigate(`/forum/${post.id}`)}\n                    data-testid={`card-post-${post.id}`}\n                  >\n                    <CardHeader className=\"flex flex-row items-start justify-between gap-4 space-y-0 pb-3\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                            {post.category}\n                          </span>\n                          {post.isLocked && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium flex items-center gap-1\">\n                              <LockIcon className=\"w-3 h-3\" />\n                              Kilitli\n                            </span>\n                          )}\n                          {post.isArchived && (\n                            <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium flex items-center gap-1\">\n                              <Archive className=\"w-3 h-3\" />\n                              ArÅŸivlendi\n                            </span>\n                          )}\n                        </div>\n                        <h3 className=\"text-lg font-semibold mb-1 truncate\" data-testid={`text-post-title-${post.id}`}>\n                          {post.title}\n                        </h3>\n                        <p className=\"text-sm text-muted-foreground line-clamp-2 mb-2\">\n                          {post.content}\n                        </p>\n                        <div className=\"flex items-center gap-2 flex-wrap text-xs text-muted-foreground\">\n                          <span className=\"flex items-center gap-1\">\n                            <Calendar className=\"w-3 h-3\" />\n                            {formatDistanceToNow(new Date(post.createdAt), { addSuffix: true, locale: tr })}\n                          </span>\n                          <span>â€¢</span>\n                          <span>{post.user.username}</span>\n                          {post.staffRole && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.staffRole] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.staffRole}\n                            </Badge>\n                          )}\n                          {!post.staffRole && post.user.role && post.user.role !== \"HaxArena Ãœye\" && (\n                            <Badge \n                              variant=\"outline\" \n                              className={`${roleColors[post.user.role] || 'bg-slate-500/20 text-slate-300 border-slate-500/30'} text-xs`}\n                            >\n                              {post.user.role}\n                            </Badge>\n                          )}\n                          <span>â€¢</span>\n                          <span className=\"flex items-center gap-1\">\n                            <MessageSquare className=\"w-3 h-3\" />\n                            {post.replyCount} cevap\n                          </span>\n                        </div>\n                      </div>\n                    </CardHeader>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-muted-foreground\" data-testid=\"text-no-posts\">\n                    Bu kategoride henÃ¼z konu bulunmamaktadÄ±r.\n                  </p>\n                </div>\n              )}\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":34600},"client/src/pages/profile-settings-page.tsx":{"content":"import { useState, useRef } from \"react\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Camera, X } from \"lucide-react\";\n\nexport default function ProfileSettingsPage() {\n  const { user, logout } = useAuth();\n  const { toast } = useToast();\n  const [username, setUsername] = useState(\"\");\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [isLoadingUsername, setIsLoadingUsername] = useState(false);\n  const [isLoadingPassword, setIsLoadingPassword] = useState(false);\n  const [isLoadingPicture, setIsLoadingPicture] = useState(false);\n  const [previewPicture, setPreviewPicture] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleUsernameUpdate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoadingUsername(true);\n    try {\n      const response = await fetch(\"/api/profile/username\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ username }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"GÃ¼ncelleme BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"KullanÄ±cÄ± adÄ± gÃ¼ncellenemedi\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"KullanÄ±cÄ± adÄ±nÄ±z gÃ¼ncellendi\",\n      });\n      setUsername(\"\");\n      window.location.reload();\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoadingUsername(false);\n    }\n  };\n\n  const handlePasswordUpdate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoadingPassword(true);\n    try {\n      const response = await fetch(\"/api/profile/password\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ currentPassword, newPassword }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"GÃ¼ncelleme BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"Åžifre gÃ¼ncellenemedi\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Åžifreniz gÃ¼ncellendi\",\n      });\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoadingPassword(false);\n    }\n  };\n\n  const handlePictureChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Check file size (5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      toast({\n        title: \"Dosya Ã‡ok BÃ¼yÃ¼k\",\n        description: \"Maksimum dosya boyutu 5MB\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Check file type\n    if (!file.type.startsWith('image/')) {\n      toast({\n        title: \"GeÃ§ersiz Dosya\",\n        description: \"LÃ¼tfen bir resim dosyasÄ± seÃ§in\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setPreviewPicture(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handlePictureUpload = async () => {\n    if (!previewPicture) return;\n\n    setIsLoadingPicture(true);\n    try {\n      const response = await fetch(\"/api/profile/picture\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ profilePicture: previewPicture }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"YÃ¼kleme BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"Profil fotoÄŸrafÄ± yÃ¼klenemedi\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Profil fotoÄŸrafÄ±nÄ±z gÃ¼ncellendi\",\n      });\n      setPreviewPicture(null);\n      window.location.reload();\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoadingPicture(false);\n    }\n  };\n\n  const handleRemovePicture = async () => {\n    setIsLoadingPicture(true);\n    try {\n      const response = await fetch(\"/api/profile/picture\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ profilePicture: null }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"Silme BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"Profil fotoÄŸrafÄ± silinemedi\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Profil fotoÄŸrafÄ±nÄ±z silindi\",\n      });\n      window.location.reload();\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoadingPicture(false);\n    }\n  };\n\n  if (!user) {\n    return (\n      <div className=\"flex flex-col min-h-screen\">\n        <Header user={user} onLogout={logout} />\n        <main className=\"flex-1 py-12\">\n          <div className=\"container mx-auto px-4 text-center\">\n            <p>GiriÅŸ yapmalÄ±sÄ±nÄ±z</p>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4 max-w-2xl\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-heading font-bold mb-2\">Profil AyarlarÄ±</h1>\n            <p className=\"text-muted-foreground\">Hesap bilgilerinizi gÃ¼ncelleyin</p>\n          </div>\n\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Profil FotoÄŸrafÄ±</CardTitle>\n                <CardDescription>Profil fotoÄŸrafÄ±nÄ±zÄ± deÄŸiÅŸtirin (GIF desteklenir, maks. 5MB)</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex flex-col items-center gap-4\">\n                  <Avatar className=\"h-32 w-32\">\n                    <AvatarImage src={previewPicture || user.profilePicture || undefined} alt={user.username} />\n                    <AvatarFallback className=\"text-3xl\">{user.username.slice(0, 2).toUpperCase()}</AvatarFallback>\n                  </Avatar>\n                  \n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handlePictureChange}\n                    className=\"hidden\"\n                    data-testid=\"input-profile-picture\"\n                  />\n                  \n                  <div className=\"flex gap-2\">\n                    {!previewPicture ? (\n                      <>\n                        <Button\n                          onClick={() => fileInputRef.current?.click()}\n                          variant=\"outline\"\n                          disabled={isLoadingPicture}\n                          data-testid=\"button-select-picture\"\n                        >\n                          <Camera className=\"mr-2 h-4 w-4\" />\n                          FotoÄŸraf SeÃ§\n                        </Button>\n                        {user.profilePicture && (\n                          <Button\n                            onClick={handleRemovePicture}\n                            variant=\"destructive\"\n                            disabled={isLoadingPicture}\n                            data-testid=\"button-remove-picture\"\n                          >\n                            <X className=\"mr-2 h-4 w-4\" />\n                            FotoÄŸrafÄ± KaldÄ±r\n                          </Button>\n                        )}\n                      </>\n                    ) : (\n                      <>\n                        <Button\n                          onClick={handlePictureUpload}\n                          disabled={isLoadingPicture}\n                          data-testid=\"button-upload-picture\"\n                        >\n                          {isLoadingPicture ? \"YÃ¼kleniyor...\" : \"Kaydet\"}\n                        </Button>\n                        <Button\n                          onClick={() => setPreviewPicture(null)}\n                          variant=\"outline\"\n                          disabled={isLoadingPicture}\n                          data-testid=\"button-cancel-picture\"\n                        >\n                          Ä°ptal\n                        </Button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Hesap Bilgileri</CardTitle>\n                <CardDescription>Mevcut hesap durumunuz</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div>\n                  <Label className=\"text-sm text-muted-foreground\">KullanÄ±cÄ± AdÄ±</Label>\n                  <p className=\"text-lg font-medium\">{user.username}</p>\n                </div>\n                <div>\n                  <Label className=\"text-sm text-muted-foreground\">Rol</Label>\n                  <div className=\"mt-1\">\n                    <Badge variant=\"secondary\">{user.role}</Badge>\n                  </div>\n                </div>\n                {user.isAdmin && (\n                  <div>\n                    <Label className=\"text-sm text-muted-foreground\">Yetkiler</Label>\n                    <div className=\"mt-1 flex gap-2\">\n                      <Badge>Admin</Badge>\n                      {user.isSuperAdmin && <Badge variant=\"destructive\">YÃ¶netim</Badge>}\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>KullanÄ±cÄ± AdÄ±nÄ± DeÄŸiÅŸtir</CardTitle>\n                <CardDescription>Yeni kullanÄ±cÄ± adÄ±nÄ±zÄ± girin</CardDescription>\n              </CardHeader>\n              <form onSubmit={handleUsernameUpdate}>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"username\">Yeni KullanÄ±cÄ± AdÄ±</Label>\n                    <Input\n                      id=\"username\"\n                      type=\"text\"\n                      placeholder=\"Yeni kullanÄ±cÄ± adÄ±\"\n                      value={username}\n                      onChange={(e) => setUsername(e.target.value)}\n                      required\n                      data-testid=\"input-new-username\"\n                    />\n                  </div>\n                </CardContent>\n                <CardFooter>\n                  <Button \n                    type=\"submit\" \n                    disabled={isLoadingUsername}\n                    data-testid=\"button-update-username\"\n                  >\n                    {isLoadingUsername ? \"GÃ¼ncelleniyor...\" : \"KullanÄ±cÄ± AdÄ±nÄ± GÃ¼ncelle\"}\n                  </Button>\n                </CardFooter>\n              </form>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Åžifre DeÄŸiÅŸtir</CardTitle>\n                <CardDescription>Yeni ÅŸifrenizi belirleyin</CardDescription>\n              </CardHeader>\n              <form onSubmit={handlePasswordUpdate}>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"current-password\">Mevcut Åžifre</Label>\n                    <Input\n                      id=\"current-password\"\n                      type=\"password\"\n                      placeholder=\"Mevcut ÅŸifreniz\"\n                      value={currentPassword}\n                      onChange={(e) => setCurrentPassword(e.target.value)}\n                      required\n                      data-testid=\"input-current-password\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"new-password\">Yeni Åžifre</Label>\n                    <Input\n                      id=\"new-password\"\n                      type=\"password\"\n                      placeholder=\"Yeni ÅŸifreniz\"\n                      value={newPassword}\n                      onChange={(e) => setNewPassword(e.target.value)}\n                      required\n                      data-testid=\"input-new-password\"\n                    />\n                  </div>\n                </CardContent>\n                <CardFooter>\n                  <Button \n                    type=\"submit\" \n                    disabled={isLoadingPassword}\n                    data-testid=\"button-update-password\"\n                  >\n                    {isLoadingPassword ? \"GÃ¼ncelleniyor...\" : \"Åžifreyi GÃ¼ncelle\"}\n                  </Button>\n                </CardFooter>\n              </form>\n            </Card>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}\n","size_bytes":14146},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/examples/StatsLeaderboard.tsx":{"content":"import StatsLeaderboard from '../StatsLeaderboard'\nimport { Target, Users, Shield } from 'lucide-react'\n\nexport default function StatsLeaderboardExample() {\n  const goalScorers = [\n    { rank: 1, playerName: \"Mehmet_07\", value: 45 },\n    { rank: 2, playerName: \"Emre_10\", value: 38 },\n    { rank: 3, playerName: \"Ali_9\", value: 32 },\n    { rank: 4, playerName: \"Can_11\", value: 28 },\n    { rank: 5, playerName: \"Burak_17\", value: 24 }\n  ];\n\n  const assistLeaders = [\n    { rank: 1, playerName: \"Ozgur_8\", value: 32 },\n    { rank: 2, playerName: \"Arda_14\", value: 28 },\n    { rank: 3, playerName: \"Kerem_7\", value: 25 }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl\">\n      <StatsLeaderboard\n        title=\"Gol KrallarÄ±\"\n        stats={goalScorers}\n        icon={<Target className=\"w-5 h-5 text-primary\" />}\n      />\n      <StatsLeaderboard\n        title=\"Asist KrallarÄ±\"\n        stats={assistLeaders}\n        icon={<Users className=\"w-5 h-5 text-primary\" />}\n      />\n      <StatsLeaderboard\n        title=\"KurtarÄ±ÅŸ Liderleri\"\n        stats={[\n          { rank: 1, playerName: \"Mert_GK\", value: 156 },\n          { rank: 2, playerName: \"Volkan_1\", value: 142 },\n          { rank: 3, playerName: \"Ugurcan_23\", value: 138 }\n        ]}\n        icon={<Shield className=\"w-5 h-5 text-primary\" />}\n      />\n    </div>\n  )\n}\n","size_bytes":1375},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/examples/Footer.tsx":{"content":"import Footer from '../Footer'\n\nexport default function FooterExample() {\n  return <Footer onlineCount={42} />\n}\n","size_bytes":113},"client/src/pages/league-page.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Info } from \"lucide-react\";\nimport { useAuth } from \"@/lib/auth\";\n\nexport default function LeaguePage() {\n  const { user, logout } = useAuth();\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-4xl font-heading font-bold mb-4\" data-testid=\"text-page-title\">\n              Lig\n            </h1>\n            <Alert>\n              <Info className=\"w-4 h-4\" />\n              <AlertDescription data-testid=\"text-league-info\">\n                Åžu anda aktif bir lig sezonumuz bulunmamaktadÄ±r. Yeni sezon duyurularÄ± iÃ§in Discord kanalÄ±mÄ±zÄ± takip edin.\n              </AlertDescription>\n            </Alert>\n          </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":1063},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { setupAuth } from \"./auth\";\nimport { db } from \"./db\";\nimport { sql } from \"drizzle-orm\";\nimport { migrate } from \"drizzle-orm/neon-serverless/migrator\";\nimport path from \"path\";\nimport { fileURLToPath } from \"url\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst app = express();\n// Trust first proxy (Replit HTTPS termination)\napp.set('trust proxy', 1);\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\nsetupAuth(app);\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  // Ensure required columns exist (development & production)\n  try {\n    // Add last_username_change column if missing\n    await db.execute(sql`\n      ALTER TABLE users \n      ADD COLUMN IF NOT EXISTS last_username_change timestamp\n    `);\n    log(\"Database schema check completed\");\n  } catch (error: any) {\n    log(\"Database schema check warning: \" + error.message);\n  }\n\n  // Run database migrations on startup (production deployment)\n  if (process.env.NODE_ENV === \"production\") {\n    try {\n      log(\"Running database migrations...\");\n      \n      // Try multiple paths for migrations folder\n      // 1. ../migrations (from dist/) - project root\n      // 2. ./migrations (same level as dist/)\n      const possiblePaths = [\n        path.join(__dirname, \"..\", \"migrations\"),\n        path.join(__dirname, \"migrations\"),\n        path.join(process.cwd(), \"migrations\"),\n      ];\n      \n      let migrationsPath = possiblePaths[0];\n      for (const testPath of possiblePaths) {\n        try {\n          const fs = await import('fs');\n          if (fs.existsSync(testPath)) {\n            migrationsPath = testPath;\n            log(`Found migrations at: ${migrationsPath}`);\n            break;\n          }\n        } catch (e) {\n          // Continue to next path\n        }\n      }\n      \n      log(`Using migrations path: ${migrationsPath}`);\n      await migrate(db, { migrationsFolder: migrationsPath });\n      log(\"Database migrations completed successfully\");\n    } catch (error: any) {\n      // Handle idempotent migration errors (already exists cases)\n      const errorMessage = error?.message || String(error);\n      \n      // Allowlist: benign \"already exists\" errors from re-running migrations\n      const idempotentErrors = [\n        \"relation\", \"table\", \"type\", \"function\", \n        \"extension\", \"index\", \"constraint\", \"sequence\"\n      ];\n      \n      const isIdempotentError = idempotentErrors.some(keyword => \n        errorMessage.toLowerCase().includes(keyword) && \n        errorMessage.toLowerCase().includes(\"already exists\")\n      );\n      \n      if (isIdempotentError) {\n        log(\"Database schema already migrated - skipping redundant migration\");\n      } else {\n        log(\"CRITICAL: Database migration failed with unexpected error\");\n        console.error(\"Migration error details:\", error);\n        log(\"Aborting startup to prevent running with incomplete schema\");\n        process.exit(1);\n      }\n    }\n\n    // Fix: Ensure all required columns exist (production hotfix)\n    try {\n      log(\"Patching production database schema...\");\n      \n      // Add each column separately (PostgreSQL requires separate statements)\n      const patches = [\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS is_super_admin boolean DEFAULT false NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS is_approved boolean DEFAULT false NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS role text DEFAULT 'HaxArena Ãœye' NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS player_role text`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS is_banned boolean DEFAULT false NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS ban_reason text`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS is_chat_muted boolean DEFAULT false NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS last_ip_address text`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS profile_picture text`,\n        // Player statistics columns\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS goals integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS assists integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS saves integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS match_time integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS rank text DEFAULT 'Bronz' NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS wins integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS losses integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS draws integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS matches_played integer DEFAULT 0 NOT NULL`,\n        sql`ALTER TABLE users ADD COLUMN IF NOT EXISTS points integer DEFAULT 0 NOT NULL`,\n      ];\n      \n      for (const patch of patches) {\n        try {\n          await db.execute(patch);\n        } catch (e) {\n          // Ignore \"column already exists\" errors\n        }\n      }\n      \n      // Fix: Make email column nullable (old migration leftover)\n      try {\n        await db.execute(sql`ALTER TABLE users ALTER COLUMN email DROP NOT NULL`);\n        log(\"âœ“ Email column made nullable\");\n      } catch (e) {\n        // Column might not exist or already nullable\n      }\n      \n      log(\"âœ“ Production database schema fully patched\");\n    } catch (error) {\n      console.error(\"âš ï¸  Schema patch failed:\", error);\n    }\n\n    // Ensure all required tables exist\n    try {\n      log(\"Creating missing tables if needed...\");\n      \n      // Admin applications table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS admin_applications (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          name TEXT NOT NULL,\n          age TEXT NOT NULL,\n          game_nick TEXT NOT NULL,\n          discord_nick TEXT NOT NULL,\n          play_duration TEXT NOT NULL,\n          active_servers TEXT NOT NULL,\n          previous_experience TEXT NOT NULL,\n          daily_hours TEXT NOT NULL,\n          active_time_zones TEXT NOT NULL,\n          about_yourself TEXT NOT NULL,\n          status TEXT NOT NULL DEFAULT 'pending',\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Team applications table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS team_applications (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          team_name TEXT NOT NULL,\n          team_logo TEXT,\n          description TEXT NOT NULL,\n          captain_1 TEXT,\n          captain_2 TEXT,\n          vice_captain TEXT,\n          players TEXT[],\n          status TEXT NOT NULL DEFAULT 'pending',\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Settings table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS settings (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          admin_applications_open BOOLEAN NOT NULL DEFAULT false,\n          team_applications_open BOOLEAN NOT NULL DEFAULT false\n        )\n      `);\n      \n      // Staff roles table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS staff_roles (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          name TEXT NOT NULL,\n          role TEXT NOT NULL,\n          management_access BOOLEAN NOT NULL DEFAULT false,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Notifications table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS notifications (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          message TEXT NOT NULL,\n          read BOOLEAN NOT NULL DEFAULT false,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Forum posts table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS forum_posts (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          title TEXT NOT NULL,\n          content TEXT NOT NULL,\n          category TEXT NOT NULL,\n          image_url TEXT,\n          is_locked BOOLEAN NOT NULL DEFAULT false,\n          is_archived BOOLEAN NOT NULL DEFAULT false,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Forum replies table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS forum_replies (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          post_id VARCHAR NOT NULL REFERENCES forum_posts(id) ON DELETE CASCADE,\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          content TEXT NOT NULL,\n          image_url TEXT,\n          quoted_reply_id VARCHAR,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Chat messages table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS chat_messages (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          message TEXT NOT NULL,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Banned IPs table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS banned_ips (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          ip_address TEXT NOT NULL UNIQUE,\n          reason TEXT,\n          banned_by VARCHAR NOT NULL REFERENCES users(id),\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Password reset tokens table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS password_reset_tokens (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          user_id VARCHAR NOT NULL REFERENCES users(id),\n          token TEXT NOT NULL UNIQUE,\n          expires_at TIMESTAMP NOT NULL,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      // Private messages table\n      await db.execute(sql`\n        CREATE TABLE IF NOT EXISTS private_messages (\n          id VARCHAR PRIMARY KEY DEFAULT gen_random_uuid(),\n          sender_id VARCHAR NOT NULL REFERENCES users(id),\n          receiver_id VARCHAR NOT NULL REFERENCES users(id),\n          message TEXT NOT NULL,\n          image_url TEXT,\n          is_read BOOLEAN NOT NULL DEFAULT false,\n          created_at TIMESTAMP NOT NULL DEFAULT NOW()\n        )\n      `);\n      \n      log(\"âœ“ All required tables ensured\");\n    } catch (error) {\n      console.error(\"âš ï¸  Table creation failed:\", error);\n    }\n\n    // Create/update alwes admin account\n    try {\n      const bcrypt = await import(\"bcrypt\");\n      const alwesPassword = \"HaxArena2025!\";\n      const hashedPassword = await bcrypt.hash(alwesPassword, 10);\n      \n      // Check if alwes exists\n      const existing = await db.execute(sql`SELECT id FROM users WHERE username = 'alwes'`);\n      \n      if (existing.rows.length === 0) {\n        // Create alwes account\n        await db.execute(sql`\n          INSERT INTO users (username, password, is_admin, is_super_admin, is_approved, role, is_banned, is_chat_muted)\n          VALUES ('alwes', ${hashedPassword}, true, true, true, 'Kurucu', false, false)\n        `);\n        log(\"âœ… Admin account 'alwes' created with password: HaxArena2025!\");\n      } else {\n        // Update existing alwes to be admin\n        await db.execute(sql`\n          UPDATE users \n          SET password = ${hashedPassword},\n              is_admin = true,\n              is_super_admin = true,\n              is_approved = true,\n              role = 'Kurucu',\n              is_banned = false\n          WHERE username = 'alwes'\n        `);\n        log(\"âœ… Admin account 'alwes' updated with password: HaxArena2025!\");\n      }\n    } catch (error) {\n      console.error(\"âš ï¸  Failed to create/update alwes account:\", error);\n    }\n  }\n\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":14092},"client/src/pages/active-rooms-page.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport ActiveRoomCard from \"@/components/ActiveRoomCard\";\nimport { useState } from \"react\";\nimport { useAuth } from \"@/lib/auth\";\n\nexport default function ActiveRoomsPage() {\n  const { user, logout } = useAuth();\n  const [rooms] = useState([\n    {\n      id: 1,\n      matchName: \"BeÅŸiktaÅŸ vs Trabzonspor\",\n      link: \"https://www.haxball.com/play?c=S94fRiqX_MI\",\n      isActive: true\n    },\n    {\n      id: 2,\n      matchName: \"Kocaelispor vs Gaziantepspor\",\n      link: \"https://www.haxball.com/play?c=SQiZbOZdvCU\",\n      isActive: true\n    },\n    {\n      id: 3,\n      matchName: \"KarÅŸÄ±yaka vs GÃ¶ztepe\",\n      link: \"https://www.haxball.com/play?c=0nc3iNzdT78\",\n      isActive: true\n    },\n    {\n      id: 4,\n      matchName: \"Galatasaray vs FenerbahÃ§e\",\n      link: \"https://www.haxball.com/play?c=tIJcy9L3c0k\",\n      isActive: true\n    }\n  ]);\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-4xl font-heading font-bold mb-4\" data-testid=\"text-page-title\">\n              Aktif Odalar\n            </h1>\n            <p className=\"text-muted-foreground\">\n              Åžu anda aktif olan tÃ¼m oyun odalarÄ±nÄ± gÃ¶rebilir ve katÄ±labilirsiniz.\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {rooms.map((room) => (\n              <ActiveRoomCard\n                key={room.id}\n                matchName={room.matchName}\n                link={room.link}\n                isActive={room.isActive}\n              />\n            ))}\n          </div>\n\n          {rooms.length === 0 && (\n            <div className=\"text-center py-12\">\n              <p className=\"text-muted-foreground text-lg\" data-testid=\"text-no-rooms\">\n                Åžu anda aktif oda bulunmamaktadÄ±r.\n              </p>\n            </div>\n          )}\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":2186},"client/src/components/examples/VIPPackageCard.tsx":{"content":"import VIPPackageCard from '../VIPPackageCard'\n\nexport default function VIPPackageCardExample() {\n  const silverFeatures = [\n    \"Pub odalarÄ±nda VIP TAGI ve VIP emojisi\",\n    \"Mesajlar kalÄ±n yazÄ± ile gÃ¶rÃ¼nÃ¼r\",\n    \"60+ karakter mesajlarda uyarÄ± yemez\",\n    \"Gol/asist sonrasÄ± bÃ¼yÃ¼me efekti\",\n    \"MaÃ§ sonu istatistiklerde yazÄ± yazabilir\",\n    \"6 saniyelik yazÄ± engelinden etkilenmez\",\n    \"VIP Ã¼yelere Ã¶zel Ã§ekiliÅŸlere katÄ±labilir\",\n    \"EÄŸlence turnuvalarÄ± ve odalarÄ±na katÄ±labilir\"\n  ];\n\n  const goldFeatures = [\n    \"Discord'a 5 Ã¶zel emoji ekletebilir\",\n    \"YavaÅŸ mod daha az etkiler\",\n    \"Erken '!vote' kullanabilir\",\n    \"3 maÃ§ AFK kalma hakkÄ±\",\n    \"'!vipstil' ile yazÄ± stilini deÄŸiÅŸtirebilir\",\n    \"Dolu odalara (16/17 kiÅŸi) girebilir\",\n    \"Makul ek Ã¼cret ile yazÄ± renklerini deÄŸiÅŸtirebilirler\"\n  ];\n\n  const diamondFeatures = [\n    \"'!avatar' ile hareketli avatar + hÄ±z ayarÄ±\",\n    \"Dizilim baÅŸlamadan '!deÄŸiÅŸ' komutu\",\n    \"'!afk' ile spec'e geÃ§me hakkÄ±\",\n    \"'!adminvip' ile admin olabilir (admin yokken)\",\n    \"'!p' komutu ile 10 saniye oyunu durdurabilir\",\n    \"TÃ¼m VIP Ã¶zelliklerine eriÅŸim hakkÄ±\"\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl\">\n      <VIPPackageCard\n        tier=\"silver\"\n        price={90}\n        features={silverFeatures}\n        purchaseLink=\"https://www.shopier.com/40044747\"\n      />\n      <VIPPackageCard\n        tier=\"gold\"\n        price={120}\n        features={goldFeatures}\n        purchaseLink=\"https://www.shopier.com/40044867\"\n      />\n      <VIPPackageCard\n        tier=\"diamond\"\n        price={150}\n        features={diamondFeatures}\n        purchaseLink=\"https://www.shopier.com/40051776\"\n        showDiscordWarning={true}\n      />\n    </div>\n  )\n}\n","size_bytes":1783},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/examples/ActiveRoomCard.tsx":{"content":"import ActiveRoomCard from '../ActiveRoomCard'\n\nexport default function ActiveRoomCardExample() {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl\">\n      <ActiveRoomCard\n        matchName=\"BeÅŸiktaÅŸ vs Trabzonspor\"\n        link=\"https://www.haxball.com/play?c=S94fRiqX_MI\"\n        isActive={true}\n      />\n      <ActiveRoomCard\n        matchName=\"Galatasaray vs FenerbahÃ§e\"\n        link=\"https://www.haxball.com/play?c=tIJcy9L3c0k\"\n        isActive={true}\n        showEditButton={true}\n        onEdit={() => console.log('Edit clicked')}\n      />\n    </div>\n  )\n}\n","size_bytes":596},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"replit.md":{"content":"# HaxArena V6 Real Soccer\n\n## Overview\n\nHaxArena V6 Real Soccer is a Turkish HaxBall community platform that manages active game rooms, VIP memberships, league systems, and community forums. The application provides a dark-themed gaming interface for Turkish HaxBall players to connect, organize matches, and participate in competitive leagues.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Tooling:**\n- React 18 with TypeScript for type-safe component development\n- Vite as the build tool and development server\n- Wouter for client-side routing (lightweight React Router alternative)\n- TanStack Query (React Query) for server state management and data fetching\n- Tailwind CSS for utility-first styling\n\n**UI Component System:**\n- Radix UI primitives for accessible, unstyled component foundations\n- shadcn/ui design system configured with \"new-york\" style preset\n- Custom dark theme optimized for gaming aesthetics\n- Design inspired by Discord, Twitch, and modern gaming platforms\n- Turkish-first design with appropriate typography (Inter, Rajdhana, JetBrains Mono)\n\n**State Management:**\n- React Query for asynchronous server state\n- React Context API for authentication state\n- Local component state with React hooks\n\n**Styling Approach:**\n- Dark mode as primary theme (near-black backgrounds for reduced eye strain)\n- Cyan/turquoise primary accent color (#4cadd0) for all interactive elements\n- Custom CSS variables for theming flexibility\n- Utility classes for hover/active states (`hover-elevate`, `active-elevate-2`)\n\n### Backend Architecture\n\n**Server Framework:**\n- Express.js for HTTP server and API routing\n- Session-based authentication using Passport.js with LocalStrategy\n- Express-session for session management with 30-day cookie lifetime\n\n**Authentication & Authorization:**\n- Bcrypt for password hashing (using bcrypt v6.0.0)\n- Passport.js LocalStrategy for username/password authentication\n- Session middleware with persistent cookies\n- User roles: standard users and administrators (isAdmin flag)\n\n**API Design:**\n- RESTful API structure with `/api` prefix\n- JSON request/response format\n- Credential-based authentication (cookies)\n- Error handling middleware for consistent error responses\n\n### Database Architecture\n\n**ORM & Database:**\n- Drizzle ORM for type-safe database operations\n- PostgreSQL as the primary database (configured for Neon serverless)\n- WebSocket connection support via `@neondatabase/serverless`\n\n**Schema Design:**\n- Users table: id (UUID), username, password (hashed), profilePicture (base64 image/GIF, nullable), isAdmin, isSuperAdmin, isApproved, isBanned, banReason, isChatMuted, lastIpAddress, player stats (goals, assists, saves, matchTime, offlineTime, rank)\n- All fields enforce uniqueness and NOT NULL constraints where appropriate\n- Zod schemas for runtime validation via `drizzle-zod`\n- NOTE: No email column in users table (removed to match existing schema)\n\n**Migration Strategy:**\n- Development: Use `npm run db:push --force` to sync schema changes\n- Production: Automated file-based migrations on startup\n  - Migration files stored in `/migrations` directory (must be present in deployment)\n  - Server runs migrations automatically on production startup using drizzle-orm migrate()\n  - Path resolution: Tries multiple paths (../migrations, ./migrations, cwd/migrations) to ensure compatibility\n  - Idempotent error handling: Gracefully skips already-applied migrations\n  - Aborts on genuine migration failures to prevent incomplete schema\n  - Enhanced logging for debugging migration path resolution\n\n**Session Management:**\n- Development: MemoryStore for simplicity and fast development\n- Production: PostgreSQL session store via connect-pg-simple\n  - Reuses existing Neon connection pool (SSL pre-configured)\n  - Type assertion bridges Neon Pool with connect-pg-simple\n  - Auto-creates session table on startup\n  - Async error event listener for runtime connection monitoring\n  - Secure cookies with security flags:\n    - httpOnly: true (XSS protection)\n    - secure: true in production (HTTPS only)\n    - sameSite: \"lax\" (CSRF protection)\n    - maxAge: 30 days\n  - Trust proxy: 1 (Replit HTTPS termination)\n  - Prevents memory leaks in Autoscale deployments\n  - Fixed: Production deployment SSL and cookie configuration resolved (October 2025)\n\n### Application Features\n\n**Active Rooms Management:**\n- Display of live HaxBall game rooms with match names and external links\n- Real-time status indicators for active rooms\n- Admin-only edit functionality for room management\n\n**VIP System:**\n- Three-tier VIP packages: Silver (90 TL), Gold (120 TL), Diamond (150 TL)\n- Feature differentiation with unique benefits per tier\n- Integration with Shopier payment gateway\n- Post-purchase Discord ticket workflow for order verification\n\n**League System:**\n- Placeholder for future league seasons and standings\n- Admin-controlled league creation and management\n- Team application system with logo upload support\n\n**Community Forum:**\n- Post creation with categories (Genel Sohbet, TakÄ±m BaÅŸvurularÄ±, Ã–neriler, SÃ¶zlÃ¼k)\n- Image upload support for posts and replies (base64, max 5MB)\n- Reply system with counts and quote/reference functionality\n- Quote feature allows users to reference specific replies\n- Post locking and archiving functionality\n- Admin moderation capabilities\n- Role badge display with priority ordering (Admin/Management roles first, then player roles)\n- \"YÃ–NETÄ°M\" badge for super admin users in posts and replies\n- Profile picture display: Prominent author avatars (w-16 h-16 for posts, w-10 h-10 for replies)\n- Bold author names for easy identification\n- Fallback to user initials when no profile picture set\n\n**Live Chat System:**\n- Real-time community chat on homepage (displayed next to forum posts)\n- Emoji support via @emoji-mart/react with picker interface\n- 5-second rate limiting per user to prevent spam\n- Auto-polling (2-second interval) for new messages\n- Message deletion permissions for admin and management users only\n- Auto-scroll to latest messages\n- Authenticated users only\n\n**User Profile System:**\n- Profile picture upload and management (base64 storage, supports GIF and normal images)\n- Client-side and server-side 5MB size validation\n- Backend validation: format check (data:image/ prefix), base64 decode, size calculation\n- Passport session integration: profilePicture field included in deserializeUser\n- Express User type extended with profilePicture?: string | null\n- Profile settings page (/profile-settings or /profil) with upload, preview, and remove functionality\n- PATCH /api/profile/picture endpoint with null handling for removal\n- Avatar display throughout application:\n  - Profile settings: 32x32 preview\n  - Forum post authors: 16x16 with border-2 border-primary/20\n  - Forum reply authors: 10x10 with border-2 border-primary/20\n  - Bold author names for prominence\n  - Fallback to user initials (first 2 letters uppercase) when no picture set\n- shadcn Avatar component with AvatarImage and AvatarFallback\n- Cache invalidation and page reload after upload/removal\n\n**Admin Panel:**\n- Staff hierarchy management with 7 role levels (Founder â†’ Arena Admin)\n- User registration approval workflow\n  - PATCH /api/management/users/:id/approve - Approve pending users\n  - PATCH /api/management/users/:id/reject - Reject and delete pending users\n  - Self-protection: Admin cannot approve/reject their own account\n- Content moderation tools\n- User ban/mute system with reason tracking\n  - Ban functionality blocks access to all protected routes (profile, applications, forum, chat)\n  - Chat mute functionality prevents sending messages while allowing other interactions\n  - IP address tracking and display for security monitoring\n  - Ban reason storage and display in management interface\n  - IP ban check middleware with graceful degradation (tolerates missing table during initial deployment)\n- User deletion with complete cascade handling (removes all forum posts, replies, applications, notifications, and chat messages)\n- Password viewing feature (restricted to super admin/management only)\n- Admin application \"about yourself\" field display in management interface\n\n## External Dependencies\n\n### Third-Party Services\n\n**Payment Processing:**\n- Shopier.com for VIP package purchases\n- Three distinct product URLs for Silver, Gold, and Diamond tiers\n- Order verification via Discord ticket system\n\n**Communication Platform:**\n- Discord community integration\n- Links to official Discord server (discord.gg/haxarena)\n- Post-purchase ticket creation workflow\n\n**Game Integration:**\n- HaxBall game rooms via haxball.com/play URLs\n- External room links for live match hosting\n\n### Key NPM Packages\n\n**UI & Styling:**\n- `@radix-ui/*` - 20+ primitive components for accessibility\n- `tailwindcss` - Utility-first CSS framework\n- `class-variance-authority` - Type-safe variant styling\n- `lucide-react` - Icon library\n- `react-icons` - Additional icons (SiDiscord)\n- `@emoji-mart/react` & `@emoji-mart/data` - Emoji picker for live chat\n\n**Data Management:**\n- `@tanstack/react-query` - Server state management\n- `drizzle-orm` - Type-safe ORM\n- `@neondatabase/serverless` - PostgreSQL client for Neon\n- `zod` - Runtime validation\n\n**Authentication:**\n- `passport` & `passport-local` - Authentication middleware\n- `express-session` - Session management\n- `connect-pg-simple` - PostgreSQL session store\n- `bcrypt` - Password hashing\n\n**Development:**\n- `vite` - Build tool and dev server\n- `typescript` - Type safety\n- `tsx` - TypeScript execution for Node.js\n- `esbuild` - Production bundling\n\n### Deployment Configuration\n\n**Environment Variables:**\n- `DATABASE_URL` - PostgreSQL connection string (required)\n- `SESSION_SECRET` - Session encryption key (defaults to \"haxarena-v6-secret-key\")\n- `NODE_ENV` - Environment mode (development/production)\n\n**Build Process:**\n- Client: Vite builds to `dist/public`\n- Server: esbuild bundles to `dist/index.js` with ESM format\n- Separate development and production workflows","size_bytes":10116},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"'Inter'\", \"'Segoe UI'\", \"system-ui\", \"sans-serif\"],\n        heading: [\"'Rajdhani'\", \"'Inter'\", \"sans-serif\"],\n        mono: [\"'JetBrains Mono'\", \"'Consolas'\", \"monospace\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4129},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/examples/AdminStaffList.tsx":{"content":"import AdminStaffList from '../AdminStaffList'\n\nexport default function AdminStaffListExample() {\n  const roles = [\n    \"Founder\",\n    \"Master Coordinator\",\n    \"Coordinator Admin\",\n    \"Head Overseer Admin\",\n    \"Inspector Admin\",\n    \"Game Admin\",\n    \"Arena Admin\"\n  ];\n\n  const staffByRole = {\n    \"Founder\": [\n      { id: 1, name: \"alwes1\", role: \"Founder\" }\n    ],\n    \"Master Coordinator\": [\n      { id: 2, name: \"Moderator1\", role: \"Master Coordinator\" },\n      { id: 3, name: \"Moderator2\", role: \"Master Coordinator\" }\n    ],\n    \"Game Admin\": [\n      { id: 4, name: \"GameAdmin1\", role: \"Game Admin\" },\n      { id: 5, name: \"GameAdmin2\", role: \"Game Admin\" },\n      { id: 6, name: \"GameAdmin3\", role: \"Game Admin\" }\n    ],\n    \"Arena Admin\": [],\n    \"Coordinator Admin\": [],\n    \"Head Overseer Admin\": [],\n    \"Inspector Admin\": []\n  };\n\n  return (\n    <AdminStaffList\n      staffByRole={staffByRole}\n      roles={roles}\n      isEditable={true}\n      onEdit={(id) => console.log('Edit staff', id)}\n      onAdd={(role) => console.log('Add to role', role)}\n    />\n  )\n}\n","size_bytes":1077},"client/src/components/AdminStaffList.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Pencil, Plus } from \"lucide-react\";\n\ninterface StaffMember {\n  id: number;\n  name: string;\n  role: string;\n}\n\ninterface AdminStaffListProps {\n  staffByRole: Record<string, StaffMember[]>;\n  roles: string[];\n  onEdit?: (memberId: number) => void;\n  onAdd?: (role: string) => void;\n  isEditable?: boolean;\n}\n\nconst roleColors: Record<string, string> = {\n  \"Founder\": \"bg-purple-500/20 text-purple-300 border-purple-500/30\",\n  \"Master Coordinator\": \"bg-red-500/20 text-red-300 border-red-500/30\",\n  \"Coordinator Admin\": \"bg-orange-500/20 text-orange-300 border-orange-500/30\",\n  \"Head Overseer Admin\": \"bg-yellow-500/20 text-yellow-300 border-yellow-500/30\",\n  \"Inspector Admin\": \"bg-green-500/20 text-green-300 border-green-500/30\",\n  \"Game Admin\": \"bg-blue-500/20 text-blue-300 border-blue-500/30\",\n  \"Arena Admin\": \"bg-cyan-500/20 text-cyan-300 border-cyan-500/30\",\n};\n\nexport default function AdminStaffList({ \n  staffByRole, \n  roles, \n  onEdit, \n  onAdd,\n  isEditable = false \n}: AdminStaffListProps) {\n  return (\n    <div className=\"space-y-6\">\n      {roles.map((role) => (\n        <Card key={role}>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"text-lg\" data-testid={`text-role-${role}`}>\n                {role}\n              </CardTitle>\n              {isEditable && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => onAdd?.(role)}\n                  className=\"hover-elevate active-elevate-2\"\n                  data-testid={`button-add-${role}`}\n                >\n                  <Plus className=\"w-4 h-4\" />\n                </Button>\n              )}\n            </div>\n          </CardHeader>\n          <CardContent>\n            {staffByRole[role]?.length > 0 ? (\n              <div className=\"flex flex-wrap gap-2\">\n                {staffByRole[role].map((member) => (\n                  <div key={member.id} className=\"flex items-center gap-2 group\">\n                    <Badge \n                      variant=\"outline\" \n                      className={`${roleColors[role] || ''} hover-elevate`}\n                      data-testid={`badge-staff-${member.id}`}\n                    >\n                      {member.name}\n                    </Badge>\n                    {isEditable && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"w-6 h-6 opacity-0 group-hover:opacity-100 transition-opacity hover-elevate active-elevate-2\"\n                        onClick={() => onEdit?.(member.id)}\n                        data-testid={`button-edit-${member.id}`}\n                      >\n                        <Pencil className=\"w-3 h-3\" />\n                      </Button>\n                    )}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-sm text-muted-foreground\" data-testid={`text-empty-${role}`}>\n                HenÃ¼z eklenmiÅŸ yetkili yok\n              </p>\n            )}\n          </CardContent>\n        </Card>\n      ))}\n    </div>\n  );\n}\n","size_bytes":3348},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/pages/auth-page.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Link } from \"wouter\";\nimport { AlertCircle } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function AuthPage() {\n  const [loginData, setLoginData] = useState({ username: \"\", password: \"\" });\n  const [registerData, setRegisterData] = useState({ username: \"\", password: \"\" });\n  const [registerSuccess, setRegisterSuccess] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        body: JSON.stringify(loginData),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"GiriÅŸ BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      await response.json();\n      toast({\n        title: \"GiriÅŸ BaÅŸarÄ±lÄ±\",\n        description: \"HoÅŸ geldiniz!\",\n      });\n      window.location.href = \"/\";\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/auth/register\", {\n        method: \"POST\",\n        body: JSON.stringify(registerData),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        let errorMessage = \"KayÄ±t iÅŸlemi baÅŸarÄ±sÄ±z oldu\";\n        \n        if (error.error && error.error.includes(\"username\")) {\n          errorMessage = \"Bu kullanÄ±cÄ± adÄ± zaten kullanÄ±lÄ±yor\";\n        }\n        \n        toast({\n          title: \"KayÄ±t BaÅŸarÄ±sÄ±z\",\n          description: errorMessage,\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      setRegisterSuccess(true);\n      setRegisterData({ username: \"\", password: \"\" });\n      toast({\n        title: \"KayÄ±t BaÅŸarÄ±lÄ±\",\n        description: \"HesabÄ±nÄ±z oluÅŸturuldu, ÅŸimdi giriÅŸ yapabilirsiniz\",\n      });\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen\">\n      <div className=\"flex-1 flex items-center justify-center p-8\">\n        <div className=\"w-full max-w-5xl\">\n          <Link href=\"/\" className=\"flex items-center justify-center mb-12\">\n            <div className=\"text-3xl font-heading font-bold text-primary\">\n              HaxArena V6\n            </div>\n          </Link>\n\n          <div className=\"grid md:grid-cols-2 gap-8\">\n            <Card>\n              <CardHeader>\n                <CardTitle>GiriÅŸ Yap</CardTitle>\n                <CardDescription>\n                  HesabÄ±nÄ±za giriÅŸ yaparak devam edin\n                </CardDescription>\n              </CardHeader>\n              <form onSubmit={handleLogin}>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"login-username\">KullanÄ±cÄ± AdÄ±</Label>\n                    <Input\n                      id=\"login-username\"\n                      type=\"text\"\n                      placeholder=\"KullanÄ±cÄ± adÄ±nÄ±zÄ± girin\"\n                      value={loginData.username}\n                      onChange={(e) => setLoginData({ ...loginData, username: e.target.value })}\n                      required\n                      data-testid=\"input-login-username\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"login-password\">Åžifre</Label>\n                    <Input\n                      id=\"login-password\"\n                      type=\"password\"\n                      placeholder=\"Åžifrenizi girin\"\n                      value={loginData.password}\n                      onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\n                      required\n                      data-testid=\"input-login-password\"\n                    />\n                  </div>\n                </CardContent>\n                <CardFooter>\n                  <Button \n                    type=\"submit\" \n                    className=\"w-full\" \n                    data-testid=\"button-login\"\n                    disabled={isLoading}\n                  >\n                    {isLoading ? \"GiriÅŸ yapÄ±lÄ±yor...\" : \"GiriÅŸ Yap\"}\n                  </Button>\n                </CardFooter>\n              </form>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>KayÄ±t Ol</CardTitle>\n                <CardDescription>\n                  Yeni hesap oluÅŸturun\n                </CardDescription>\n              </CardHeader>\n              <form onSubmit={handleRegister}>\n                <CardContent className=\"space-y-4\">\n                  {registerSuccess && (\n                    <Alert>\n                      <AlertCircle className=\"w-4 h-4\" />\n                      <AlertDescription data-testid=\"text-register-success\">\n                        KaydÄ±nÄ±z yetkililere iletilmiÅŸtir. Onay sÃ¼recinin tamamlanmasÄ±nÄ±n ardÄ±ndan giriÅŸ yapabilirsiniz.\n                      </AlertDescription>\n                    </Alert>\n                  )}\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"register-username\">KullanÄ±cÄ± AdÄ±</Label>\n                    <Input\n                      id=\"register-username\"\n                      type=\"text\"\n                      placeholder=\"KullanÄ±cÄ± adÄ± seÃ§in\"\n                      value={registerData.username}\n                      onChange={(e) => setRegisterData({ ...registerData, username: e.target.value })}\n                      required\n                      data-testid=\"input-register-username\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"register-password\">Åžifre</Label>\n                    <Input\n                      id=\"register-password\"\n                      type=\"password\"\n                      placeholder=\"GÃ¼Ã§lÃ¼ bir ÅŸifre oluÅŸturun\"\n                      value={registerData.password}\n                      onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\n                      required\n                      data-testid=\"input-register-password\"\n                    />\n                  </div>\n                </CardContent>\n                <CardFooter>\n                  <Button \n                    type=\"submit\" \n                    className=\"w-full\" \n                    data-testid=\"button-register\"\n                    disabled={isLoading}\n                  >\n                    {isLoading ? \"KayÄ±t olunuyor...\" : \"KayÄ±t Ol\"}\n                  </Button>\n                </CardFooter>\n              </form>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"hidden lg:flex flex-1 bg-card items-center justify-center p-8 border-l\">\n        <div className=\"max-w-md text-center space-y-6\">\n          <h2 className=\"text-3xl font-heading font-bold\">\n            HaxArena V6 Real Soccer\n          </h2>\n          <p className=\"text-lg text-muted-foreground\">\n            TÃ¼rkiye'nin en bÃ¼yÃ¼k HaxBall Real Soccer topluluÄŸuna katÄ±lÄ±n\n          </p>\n          <ul className=\"space-y-3 text-left\">\n            <li className=\"flex items-start gap-2\">\n              <div className=\"w-2 h-2 rounded-full bg-primary mt-2\"></div>\n              <span>Profesyonel lig sistemi ve turnuvalar</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <div className=\"w-2 h-2 rounded-full bg-primary mt-2\"></div>\n              <span>Aktif oyuncu topluluÄŸu ve Discord sunucusu</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <div className=\"w-2 h-2 rounded-full bg-primary mt-2\"></div>\n              <span>VIP sistemleri ve Ã¶zel Ã¶zellikler</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <div className=\"w-2 h-2 rounded-full bg-primary mt-2\"></div>\n              <span>Adil ve profesyonel yÃ¶netim</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":9188},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/pages/admin-application-page.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { AlertCircle } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\n\nexport default function AdminApplicationPage() {\n  const { user, logout } = useAuth();\n  const { toast } = useToast();\n  \n  const [formData, setFormData] = useState({\n    name: \"\",\n    age: \"\",\n    gameNick: \"\",\n    discordNick: \"\",\n    playDuration: \"\",\n    activeServers: \"\",\n    previousExperience: \"\",\n    dailyHours: \"\",\n    activeTimeZones: \"\",\n    aboutYourself: \"\",\n  });\n\n  const { data: settings } = useQuery<any>({\n    queryKey: [\"/api/settings\"],\n  });\n\n  const { data: applications } = useQuery<any[]>({\n    queryKey: [\"/api/applications/admin\"],\n    enabled: !!user?.isAdmin || !!user?.isSuperAdmin,\n  });\n\n  const { data: myApplications } = useQuery<any[]>({\n    queryKey: [\"/api/applications/admin/my\"],\n    enabled: !!user,\n  });\n\n  const applyMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return await apiRequest(\"POST\", \"/api/applications/admin\", { ...data, userId: user!.id });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"BaÅŸvuru GÃ¶nderildi\",\n        description: \"BaÅŸvurunuz yÃ¶neticilere iletildi\",\n      });\n      setFormData({\n        name: \"\",\n        age: \"\",\n        gameNick: \"\",\n        discordNick: \"\",\n        playDuration: \"\",\n        activeServers: \"\",\n        previousExperience: \"\",\n        dailyHours: \"\",\n        activeTimeZones: \"\",\n        aboutYourself: \"\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/applications/admin/my\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/applications/admin\"] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Hata\",\n        description: error.message || \"BaÅŸvuru gÃ¶nderilemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    applyMutation.mutate(formData);\n  };\n\n  const hasPendingApplication = myApplications?.some(app => app.status === \"pending\");\n  const applicationsOpen = settings?.adminApplicationsOpen;\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4 max-w-4xl\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-heading font-bold mb-2\">Admin BaÅŸvurusu</h1>\n            <p className=\"text-muted-foreground\">HaxArena adminliÄŸi iÃ§in baÅŸvurun</p>\n          </div>\n\n          <div className=\"grid gap-6\">\n            {user && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>Yeni BaÅŸvuru</CardTitle>\n                  <CardDescription>BaÅŸvuru formunu doldurun</CardDescription>\n                </CardHeader>\n                <form onSubmit={handleSubmit}>\n                  <CardContent className=\"space-y-4\">\n                    {!applicationsOpen && (\n                      <Alert variant=\"destructive\">\n                        <AlertCircle className=\"w-4 h-4\" />\n                        <AlertDescription>\n                          Admin baÅŸvurularÄ± ÅŸu anda kapalÄ±\n                        </AlertDescription>\n                      </Alert>\n                    )}\n                    {hasPendingApplication && (\n                      <Alert>\n                        <AlertCircle className=\"w-4 h-4\" />\n                        <AlertDescription>\n                          Bekleyen bir baÅŸvurunuz var. SonuÃ§landÄ±rÄ±lmasÄ± bekleniyor.\n                        </AlertDescription>\n                      </Alert>\n                    )}\n                    \n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"name\">Ä°sim</Label>\n                      <Input\n                        id=\"name\"\n                        value={formData.name}\n                        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                        required\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"input-name\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"age\">YaÅŸÄ±nÄ±z?</Label>\n                      <Input\n                        id=\"age\"\n                        value={formData.age}\n                        onChange={(e) => setFormData({ ...formData, age: e.target.value })}\n                        required\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"input-age\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"gameNick\">Oyunda KullandÄ±ÄŸÄ±nÄ±z Nick</Label>\n                      <Input\n                        id=\"gameNick\"\n                        value={formData.gameNick}\n                        onChange={(e) => setFormData({ ...formData, gameNick: e.target.value })}\n                        required\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"input-game-nick\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"discordNick\">Discord Nickiniz</Label>\n                      <Input\n                        id=\"discordNick\"\n                        value={formData.discordNick}\n                        onChange={(e) => setFormData({ ...formData, discordNick: e.target.value })}\n                        required\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"input-discord-nick\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"playDuration\">Ne Kadar SÃ¼redir OynamaktasÄ±nÄ±z?</Label>\n                      <Input\n                        id=\"playDuration\"\n                        value={formData.playDuration}\n                        onChange={(e) => setFormData({ ...formData, playDuration: e.target.value })}\n                        required\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"input-play-duration\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"activeServers\">Hangi Sunucularda Aktif OynadÄ±nÄ±z?</Label>\n                      <Textarea\n                        id=\"activeServers\"\n                        value={formData.activeServers}\n                        onChange={(e) => setFormData({ ...formData, activeServers: e.target.value })}\n                        required\n                        rows={3}\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"textarea-active-servers\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"previousExperience\">\n                        Daha Ã–nce Yetkili OlduÄŸunuz Sunucular/ Varsa Sunucudaki RÃ¼tbeniz-GÃ¶reviniz?\n                      </Label>\n                      <Textarea\n                        id=\"previousExperience\"\n                        value={formData.previousExperience}\n                        onChange={(e) => setFormData({ ...formData, previousExperience: e.target.value })}\n                        required\n                        rows={3}\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"textarea-previous-experience\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"dailyHours\">GÃ¼nde KaÃ§ Saatinizi AyÄ±rabilirsiniz?</Label>\n                      <Input\n                        id=\"dailyHours\"\n                        value={formData.dailyHours}\n                        onChange={(e) => setFormData({ ...formData, dailyHours: e.target.value })}\n                        required\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"input-daily-hours\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"activeTimeZones\">\n                        Hangi zaman dilimlerinde aktif olabilirsiniz?\n                      </Label>\n                      <Textarea\n                        id=\"activeTimeZones\"\n                        value={formData.activeTimeZones}\n                        onChange={(e) => setFormData({ ...formData, activeTimeZones: e.target.value })}\n                        required\n                        rows={3}\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"textarea-active-time-zones\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"aboutYourself\">\n                        Son olarak biraz kendinizden bahsedebilir misiniz?\n                      </Label>\n                      <Textarea\n                        id=\"aboutYourself\"\n                        value={formData.aboutYourself}\n                        onChange={(e) => setFormData({ ...formData, aboutYourself: e.target.value })}\n                        required\n                        rows={5}\n                        disabled={hasPendingApplication || !applicationsOpen}\n                        data-testid=\"textarea-about-yourself\"\n                      />\n                    </div>\n                  </CardContent>\n                  <CardFooter>\n                    <Button \n                      type=\"submit\" \n                      disabled={applyMutation.isPending || hasPendingApplication || !applicationsOpen}\n                      data-testid=\"button-submit\"\n                    >\n                      {applyMutation.isPending ? \"GÃ¶nderiliyor...\" : \"BaÅŸvur\"}\n                    </Button>\n                  </CardFooter>\n                </form>\n              </Card>\n            )}\n\n            {!user && (\n              <Alert>\n                <AlertCircle className=\"w-4 h-4\" />\n                <AlertDescription>\n                  BaÅŸvuru yapmak iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z\n                </AlertDescription>\n              </Alert>\n            )}\n\n            {user?.isAdmin && (\n              <div>\n                <h2 className=\"text-2xl font-heading font-bold mb-4\">Bekleyen BaÅŸvurular</h2>\n                <div className=\"space-y-4\">\n                  {applications?.filter(app => app.status === \"pending\").map((app) => (\n                  <Card key={app.id}>\n                    <CardHeader>\n                      <div className=\"flex items-center justify-between gap-2\">\n                        <CardTitle className=\"text-lg\">{app.user?.username || \"Bilinmeyen\"}</CardTitle>\n                        <Badge variant={\n                          app.status === \"pending\" ? \"secondary\" :\n                          app.status === \"approved\" ? \"default\" : \"destructive\"\n                        }>\n                          {app.status === \"pending\" ? \"Beklemede\" :\n                           app.status === \"approved\" ? \"OnaylandÄ±\" : \"Reddedildi\"}\n                        </Badge>\n                      </div>\n                      <CardDescription>\n                        {new Date(app.createdAt).toLocaleDateString(\"tr-TR\")}\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      <div>\n                        <p className=\"font-semibold text-sm\">Ä°sim:</p>\n                        <p className=\"text-sm text-muted-foreground\">{app.name}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">YaÅŸ:</p>\n                        <p className=\"text-sm text-muted-foreground\">{app.age}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">Oyun Nicki:</p>\n                        <p className=\"text-sm text-muted-foreground\">{app.gameNick}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">Discord Nicki:</p>\n                        <p className=\"text-sm text-muted-foreground\">{app.discordNick}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">Oyun SÃ¼resi:</p>\n                        <p className=\"text-sm text-muted-foreground\">{app.playDuration}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">Aktif Sunucular:</p>\n                        <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{app.activeServers}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">Ã–nceki Deneyim:</p>\n                        <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{app.previousExperience}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">GÃ¼nlÃ¼k Saat:</p>\n                        <p className=\"text-sm text-muted-foreground\">{app.dailyHours}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">Aktif Saatler:</p>\n                        <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{app.activeTimeZones}</p>\n                      </div>\n                      <div>\n                        <p className=\"font-semibold text-sm\">HakkÄ±nda:</p>\n                        <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{app.aboutYourself}</p>\n                      </div>\n                    </CardContent>\n                  </Card>\n                  ))}\n                  {applications?.filter(app => app.status === \"pending\").length === 0 && (\n                    <p className=\"text-center text-muted-foreground py-8\">Bekleyen baÅŸvuru yok</p>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}\n","size_bytes":15246},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/LeagueStandingsTable.tsx":{"content":"import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\n\ninterface TeamStanding {\n  rank: number;\n  teamName: string;\n  logoUrl?: string;\n  played: number;\n  won: number;\n  drawn: number;\n  lost: number;\n  goalsFor: number;\n  goalsAgainst: number;\n  goalDifference: number;\n  points: number;\n}\n\ninterface LeagueStandingsTableProps {\n  standings: TeamStanding[];\n}\n\nexport default function LeagueStandingsTable({ standings }: LeagueStandingsTableProps) {\n  return (\n    <div className=\"rounded-md border overflow-auto\">\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead className=\"w-12\" data-testid=\"header-rank\">#</TableHead>\n            <TableHead data-testid=\"header-team\">TakÄ±m</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-played\">O</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-won\">G</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-drawn\">B</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-lost\">M</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-gf\">A</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-ga\">Y</TableHead>\n            <TableHead className=\"text-center\" data-testid=\"header-gd\">AV</TableHead>\n            <TableHead className=\"text-center font-bold\" data-testid=\"header-points\">P</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {standings.map((team) => (\n            <TableRow key={team.rank} data-testid={`row-team-${team.rank}`}>\n              <TableCell className=\"font-medium\" data-testid={`text-rank-${team.rank}`}>\n                {team.rank}\n              </TableCell>\n              <TableCell>\n                <div className=\"flex items-center gap-3\">\n                  <Avatar className=\"w-8 h-8\">\n                    {team.logoUrl && <AvatarImage src={team.logoUrl} alt={team.teamName} />}\n                    <AvatarFallback>{team.teamName.slice(0, 2).toUpperCase()}</AvatarFallback>\n                  </Avatar>\n                  <span className=\"font-medium\" data-testid={`text-team-${team.rank}`}>\n                    {team.teamName}\n                  </span>\n                </div>\n              </TableCell>\n              <TableCell className=\"text-center\" data-testid={`text-played-${team.rank}`}>{team.played}</TableCell>\n              <TableCell className=\"text-center\" data-testid={`text-won-${team.rank}`}>{team.won}</TableCell>\n              <TableCell className=\"text-center\" data-testid={`text-drawn-${team.rank}`}>{team.drawn}</TableCell>\n              <TableCell className=\"text-center\" data-testid={`text-lost-${team.rank}`}>{team.lost}</TableCell>\n              <TableCell className=\"text-center\" data-testid={`text-gf-${team.rank}`}>{team.goalsFor}</TableCell>\n              <TableCell className=\"text-center\" data-testid={`text-ga-${team.rank}`}>{team.goalsAgainst}</TableCell>\n              <TableCell className={`text-center font-medium ${team.goalDifference > 0 ? 'text-green-500' : team.goalDifference < 0 ? 'text-red-500' : ''}`} data-testid={`text-gd-${team.rank}`}>\n                {team.goalDifference > 0 ? '+' : ''}{team.goalDifference}\n              </TableCell>\n              <TableCell className=\"text-center font-bold text-primary\" data-testid={`text-points-${team.rank}`}>\n                {team.points}\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n","size_bytes":3667},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/pages/admin-staff-page.tsx":{"content":"import Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport AdminStaffList from \"@/components/AdminStaffList\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { StaffRole } from \"@shared/schema\";\n\nexport default function AdminStaffPage() {\n  const { user, logout } = useAuth();\n  \n  const { data: staffRoles, isLoading } = useQuery<StaffRole[]>({\n    queryKey: [\"/api/staff-roles\"],\n  });\n\n  const roles = [\n    \"Founder\",\n    \"Master Coordinator\",\n    \"Coordinator Admin\",\n    \"Head Overseer Admin\",\n    \"Inspector Admin\",\n    \"Game Admin\",\n    \"Arena Admin\"\n  ];\n\n  // Group staff members by role\n  const staffByRole = roles.reduce((acc, role) => {\n    acc[role] = staffRoles?.filter(staff => staff.role === role).map((staff, index) => ({\n      id: index,\n      name: staff.name,\n      role: staff.role\n    })) || [];\n    return acc;\n  }, {} as Record<string, any[]>);\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4 max-w-4xl\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-4xl font-heading font-bold mb-4\" data-testid=\"text-page-title\">\n              Admin Kadrosu\n            </h1>\n            <p className=\"text-muted-foreground\">\n              HaxArena V6 yÃ¶netim ekibimiz ve gÃ¶revlileri\n            </p>\n          </div>\n\n          {isLoading ? (\n            <p className=\"text-center text-muted-foreground\">YÃ¼kleniyor...</p>\n          ) : (\n            <AdminStaffList\n              staffByRole={staffByRole}\n              roles={roles}\n              isEditable={false}\n            />\n          )}\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":1829},"client/src/components/examples/Header.tsx":{"content":"import Header from '../Header'\n\nexport default function HeaderExample() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <p className=\"text-sm text-muted-foreground mb-4\">Logged out state</p>\n        <Header />\n      </div>\n      <div>\n        <p className=\"text-sm text-muted-foreground mb-4\">Logged in as regular user</p>\n        <Header user={{ username: \"oyuncu123\" }} onLogout={() => console.log('Logout clicked')} />\n      </div>\n      <div>\n        <p className=\"text-sm text-muted-foreground mb-4\">Logged in as admin</p>\n        <Header user={{ username: \"alwes1\", isAdmin: true }} onLogout={() => console.log('Logout clicked')} />\n      </div>\n    </div>\n  )\n}\n","size_bytes":686},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/pages/management-panel-page.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Shield, ShieldOff, CheckCircle, XCircle, User, Trash2, Plus, Lock, Unlock, Archive, ArchiveRestore } from \"lucide-react\";\n\nconst ROLES = [\"DIAMOND VIP\", \"GOLD VIP\", \"SILVER VIP\", \"Lig Oyuncusu\", \"HaxArena Ãœye\"];\nconst PLAYER_ROLES = [\"Kaleci\", \"Defans\", \"Orta Saha\", \"Forvet\", \"Yedek\"];\nconst STAFF_ROLES = [\n  \"Founder\",\n  \"Master Coordinator\",\n  \"Coordinator Admin\",\n  \"Head Overseer Admin\",\n  \"Inspector Admin\",\n  \"Game Admin\",\n  \"Arena Admin\"\n];\n\nexport default function ManagementPanelPage() {\n  const { user, logout, isLoading } = useAuth();\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [staffName, setStaffName] = useState(\"\");\n  const [staffRole, setStaffRole] = useState(\"\");\n  const [ipAddress, setIpAddress] = useState(\"\");\n  const [ipReason, setIpReason] = useState(\"\");\n  const [resetCodes, setResetCodes] = useState<Record<string, string>>({});\n  const [adminUsername, setAdminUsername] = useState(\"\");\n  const [adminPassword, setAdminPassword] = useState(\"\");\n  const [adminConfirmPassword, setAdminConfirmPassword] = useState(\"\");\n\n  // Redirect to management login if not super admin (using useEffect)\n  useEffect(() => {\n    if (!isLoading && (!user || !user.isSuperAdmin)) {\n      navigate(\"/yonetim-giris\");\n    }\n  }, [user, isLoading, navigate]);\n\n  // Show loading state while checking auth\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-lg text-muted-foreground\">Yetki kontrol ediliyor...</div>\n        </div>\n      </div>\n    );\n  }\n\n  // Block render if not super admin\n  if (!user || !user.isSuperAdmin) {\n    return null;\n  }\n\n  const { data: users } = useQuery<any[]>({\n    queryKey: [\"/api/management/users\"],\n    enabled: !!user?.isSuperAdmin,\n  });\n\n  const { data: settings } = useQuery<any>({\n    queryKey: [\"/api/settings\"],\n    enabled: !!user?.isSuperAdmin,\n  });\n\n  const { data: adminApplications } = useQuery<any[]>({\n    queryKey: [\"/api/applications/admin\"],\n    enabled: !!user?.isSuperAdmin,\n  });\n\n  const { data: staffRoles } = useQuery<any[]>({\n    queryKey: [\"/api/staff-roles\"],\n    enabled: !!user?.isSuperAdmin,\n  });\n\n  const { data: forumPosts } = useQuery<any[]>({\n    queryKey: [\"/api/forum-posts\"],\n    enabled: !!user?.isSuperAdmin,\n  });\n\n  const { data: bannedIps } = useQuery<any[]>({\n    queryKey: [\"/api/banned-ips\"],\n    enabled: !!user?.isSuperAdmin,\n  });\n\n  const settingsMutation = useMutation({\n    mutationFn: async (data: any) => {\n      return await apiRequest(\"PATCH\", \"/api/settings\", data);\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Ayarlar gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/settings\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ayarlar gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const approveMutation = useMutation({\n    mutationFn: async (userId: string) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}/approve`, {});\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"KullanÄ±cÄ± onaylandÄ±\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const rejectMutation = useMutation({\n    mutationFn: async (userId: string) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}/reject`, {});\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"KullanÄ±cÄ± reddedildi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const roleUpdateMutation = useMutation({\n    mutationFn: async ({ userId, role }: { userId: string; role: string }) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}/role`, { role });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Rol gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Rol gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const adminToggleMutation = useMutation({\n    mutationFn: async ({ userId, isAdmin }: { userId: string; isAdmin: boolean }) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}/admin`, { isAdmin });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Admin yetkisi gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const playerRoleUpdateMutation = useMutation({\n    mutationFn: async ({ userId, playerRole }: { userId: string; playerRole: string }) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}/player-role`, { playerRole });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Oyuncu rolÃ¼ gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Oyuncu rolÃ¼ gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteUserMutation = useMutation({\n    mutationFn: async (userId: string) => {\n      return await apiRequest(\"DELETE\", `/api/management/users/${userId}`, {});\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"KullanÄ±cÄ± silindi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"KullanÄ±cÄ± silinemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const applicationMutation = useMutation({\n    mutationFn: async ({ id, status }: { id: string; status: string }) => {\n      return await apiRequest(\"PATCH\", `/api/applications/admin/${id}`, { status });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"BaÅŸvuru gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/applications/admin\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteApplicationMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/applications/admin/${id}`, {});\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"BaÅŸvuru silindi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/applications/admin\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const addStaffMutation = useMutation({\n    mutationFn: async (data: { name: string; role: string; managementAccess: boolean }) => {\n      return await apiRequest(\"POST\", \"/api/staff-roles\", data);\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Staff eklendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/staff-roles\"] });\n      setStaffName(\"\");\n      setStaffRole(\"\");\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const toggleStaffAccessMutation = useMutation({\n    mutationFn: async ({ id, managementAccess }: { id: string; managementAccess: boolean }) => {\n      return await apiRequest(\"PATCH\", `/api/staff-roles/${id}`, { managementAccess });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"YÃ¶netim eriÅŸimi gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/staff-roles\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteStaffMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/staff-roles/${id}`, {});\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Staff silindi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/staff-roles\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteForumPostMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/forum-posts/${id}`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Konu silindi\" });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Konu silinemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const toggleForumPostLockMutation = useMutation({\n    mutationFn: async ({ id, isLocked }: { id: string; isLocked: boolean }) => {\n      return await apiRequest(\"PATCH\", `/api/forum-posts/${id}`, { isLocked });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Konu durumu gÃ¼ncellendi\" });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Konu durumu gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const toggleForumPostArchiveMutation = useMutation({\n    mutationFn: async ({ id, isArchived }: { id: string; isArchived: boolean }) => {\n      return await apiRequest(\"PATCH\", `/api/forum-posts/${id}`, { isArchived });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/forum-posts\"] });\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Konu arÅŸiv durumu gÃ¼ncellendi\" });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Konu arÅŸiv durumu gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const banIpMutation = useMutation({\n    mutationFn: async (data: { ipAddress: string; reason?: string }) => {\n      return await apiRequest(\"POST\", \"/api/banned-ips\", data);\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"IP adresi engellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/banned-ips\"] });\n      setIpAddress(\"\");\n      setIpReason(\"\");\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Hata\", \n        description: error.message || \"IP engellenemedi\", \n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const unbanIpMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/banned-ips/${id}`, {});\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"IP ban kaldÄ±rÄ±ldÄ±\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/banned-ips\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"IP ban kaldÄ±rÄ±lamadÄ±\", variant: \"destructive\" });\n    },\n  });\n\n  const createAdminMutation = useMutation({\n    mutationFn: async (data: { username: string; password: string }) => {\n      return await apiRequest(\"POST\", \"/api/management/create-admin\", data);\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"Yeni admin oluÅŸturuldu\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n      setAdminUsername(\"\");\n      setAdminPassword(\"\");\n      setAdminConfirmPassword(\"\");\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Hata\", \n        description: error.message || \"Admin oluÅŸturulamadÄ±\", \n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const resetPasswordMutation = useMutation({\n    mutationFn: async (username: string) => {\n      const response = await fetch(\"/api/password-reset/request\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ username }),\n      });\n      if (!response.ok) throw new Error(\"Åžifre sÄ±fÄ±rlama baÅŸarÄ±sÄ±z\");\n      return await response.json();\n    },\n    onSuccess: (data, username) => {\n      const code = data.message.replace(\"Åžifre sÄ±fÄ±rlama kodu: \", \"\");\n      setResetCodes({ ...resetCodes, [username]: code });\n      toast({ \n        title: \"Kod Ãœretildi\", \n        description: \"Åžifre sÄ±fÄ±rlama kodu kullanÄ±cÄ±ya verilebilir\",\n      });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Kod Ã¼retilemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const banToggleMutation = useMutation({\n    mutationFn: async ({ userId, isBanned, banReason }: { userId: string; isBanned: boolean; banReason: string }) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}`, { isBanned, banReason });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"KullanÄ±cÄ± ban durumu gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Ban durumu gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const muteToggleMutation = useMutation({\n    mutationFn: async ({ userId, isMuted }: { userId: string; isMuted: boolean }) => {\n      return await apiRequest(\"PATCH\", `/api/management/users/${userId}`, { isChatMuted: isMuted });\n    },\n    onSuccess: () => {\n      toast({ title: \"BaÅŸarÄ±lÄ±\", description: \"KullanÄ±cÄ± mute durumu gÃ¼ncellendi\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/management/users\"] });\n    },\n    onError: () => {\n      toast({ title: \"Hata\", description: \"Mute durumu gÃ¼ncellenemedi\", variant: \"destructive\" });\n    },\n  });\n\n  const pendingUsers = users?.filter(u => !u.isApproved) || [];\n  const approvedUsers = users?.filter(u => u.isApproved) || [];\n  const pendingApplications = adminApplications?.filter(a => a.status === \"pending\") || [];\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 py-12\">\n        <div className=\"container mx-auto px-4 max-w-6xl\">\n          <div className=\"mb-8\">\n            <h1 className=\"text-3xl font-heading font-bold mb-2\">YÃ¶netim Paneli</h1>\n            <p className=\"text-muted-foreground\">Platform yÃ¶netimi ve ayarlarÄ±</p>\n          </div>\n\n          <div className=\"space-y-8\">\n            {/* BaÅŸvuru AyarlarÄ± */}\n            <Card>\n              <CardHeader>\n                <CardTitle>BaÅŸvuru AyarlarÄ±</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"admin-apps\" className=\"cursor-pointer\">\n                    <div>\n                      <p className=\"font-medium\">Admin BaÅŸvurularÄ±</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {settings?.adminApplicationsOpen ? \"AÃ§Ä±k\" : \"KapalÄ±\"}\n                      </p>\n                    </div>\n                  </Label>\n                  <Switch\n                    id=\"admin-apps\"\n                    checked={settings?.adminApplicationsOpen || false}\n                    onCheckedChange={(checked) => \n                      settingsMutation.mutate({ adminApplicationsOpen: checked })\n                    }\n                    data-testid=\"switch-admin-applications\"\n                  />\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"team-apps\" className=\"cursor-pointer\">\n                    <div>\n                      <p className=\"font-medium\">TakÄ±m BaÅŸvurularÄ±</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {settings?.teamApplicationsOpen ? \"AÃ§Ä±k\" : \"KapalÄ±\"}\n                      </p>\n                    </div>\n                  </Label>\n                  <Switch\n                    id=\"team-apps\"\n                    checked={settings?.teamApplicationsOpen || false}\n                    onCheckedChange={(checked) => \n                      settingsMutation.mutate({ teamApplicationsOpen: checked })\n                    }\n                    data-testid=\"switch-team-applications\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Yeni Admin Ekle */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Yeni Admin Ekle</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"admin-username\">KullanÄ±cÄ± AdÄ±</Label>\n                      <Input\n                        id=\"admin-username\"\n                        value={adminUsername}\n                        onChange={(e) => setAdminUsername(e.target.value)}\n                        placeholder=\"KullanÄ±cÄ± adÄ±\"\n                        data-testid=\"input-admin-username\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"admin-password\">Åžifre</Label>\n                      <Input\n                        id=\"admin-password\"\n                        type=\"password\"\n                        value={adminPassword}\n                        onChange={(e) => setAdminPassword(e.target.value)}\n                        placeholder=\"En az 6 karakter\"\n                        data-testid=\"input-admin-password\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"admin-confirm-password\">Åžifre Tekrar</Label>\n                      <Input\n                        id=\"admin-confirm-password\"\n                        type=\"password\"\n                        value={adminConfirmPassword}\n                        onChange={(e) => setAdminConfirmPassword(e.target.value)}\n                        placeholder=\"Åžifreyi tekrar girin\"\n                        data-testid=\"input-admin-confirm-password\"\n                      />\n                    </div>\n                  </div>\n                  <Button\n                    onClick={() => {\n                      if (!adminUsername || !adminPassword || !adminConfirmPassword) {\n                        toast({ \n                          title: \"Hata\", \n                          description: \"TÃ¼m alanlarÄ± doldurun\", \n                          variant: \"destructive\" \n                        });\n                        return;\n                      }\n                      if (adminPassword !== adminConfirmPassword) {\n                        toast({ \n                          title: \"Hata\", \n                          description: \"Åžifreler eÅŸleÅŸmiyor\", \n                          variant: \"destructive\" \n                        });\n                        return;\n                      }\n                      createAdminMutation.mutate({\n                        username: adminUsername,\n                        password: adminPassword,\n                      });\n                    }}\n                    disabled={createAdminMutation.isPending}\n                    data-testid=\"button-create-admin\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-1\" />\n                    Admin OluÅŸtur\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Bekleyen Admin BaÅŸvurularÄ± */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Bekleyen Admin BaÅŸvurularÄ± ({pendingApplications.length})</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {pendingApplications.map((app) => (\n                    <div key={app.id} className=\"p-4 border rounded-lg space-y-3\">\n                      <div className=\"flex items-start justify-between gap-2\">\n                        <div className=\"flex items-center gap-2\">\n                          <User className=\"w-4 h-4\" />\n                          <span className=\"font-medium\">{app.user?.username}</span>\n                          <Badge variant=\"secondary\">{app.user?.role}</Badge>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            size=\"sm\"\n                            onClick={() => applicationMutation.mutate({ id: app.id, status: \"approved\" })}\n                            disabled={applicationMutation.isPending}\n                            data-testid={`button-approve-${app.id}`}\n                          >\n                            <CheckCircle className=\"w-4 h-4 mr-1\" />\n                            Onayla\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"destructive\"\n                            onClick={() => applicationMutation.mutate({ id: app.id, status: \"rejected\" })}\n                            disabled={applicationMutation.isPending}\n                            data-testid={`button-reject-${app.id}`}\n                          >\n                            <XCircle className=\"w-4 h-4 mr-1\" />\n                            Reddet\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => deleteApplicationMutation.mutate(app.id)}\n                            disabled={deleteApplicationMutation.isPending}\n                            data-testid={`button-delete-application-${app.id}`}\n                          >\n                            <Trash2 className=\"w-4 h-4 text-destructive\" />\n                          </Button>\n                        </div>\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                        <div><strong>Ä°sim:</strong> {app.name}</div>\n                        <div><strong>YaÅŸ:</strong> {app.age}</div>\n                        <div><strong>Oyun Nick:</strong> {app.gameNick}</div>\n                        <div><strong>Discord:</strong> {app.discordNick}</div>\n                        <div className=\"col-span-2\"><strong>SÃ¼re:</strong> {app.playDuration}</div>\n                        <div className=\"col-span-2\"><strong>GÃ¼nlÃ¼k Saat:</strong> {app.dailyHours}</div>\n                        <div className=\"col-span-2\"><strong>Aktif Sunucular:</strong> {app.activeServers}</div>\n                        <div className=\"col-span-2\"><strong>Ã–nceki Deneyim:</strong> {app.previousExperience}</div>\n                        <div className=\"col-span-2\"><strong>Aktif Zaman Dilimleri:</strong> {app.activeTimeZones}</div>\n                        <div className=\"col-span-2\"><strong>Kendinden Bahseder misin:</strong> {app.aboutYourself}</div>\n                      </div>\n                    </div>\n                  ))}\n                  {pendingApplications.length === 0 && (\n                    <p className=\"text-center text-muted-foreground py-4\">Bekleyen baÅŸvuru yok</p>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Bekleyen KullanÄ±cÄ± OnaylarÄ± */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Bekleyen KullanÄ±cÄ± OnaylarÄ± ({pendingUsers.length})</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {pendingUsers.map((u) => (\n                    <div key={u.id} className=\"flex items-center justify-between p-4 border rounded-lg gap-2\">\n                      <div>\n                        <p className=\"font-medium\">{u.username}</p>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          size=\"sm\"\n                          onClick={() => approveMutation.mutate(u.id)}\n                          disabled={approveMutation.isPending}\n                          data-testid={`button-approve-user-${u.id}`}\n                        >\n                          <CheckCircle className=\"w-4 h-4 mr-1\" />\n                          Onayla\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"destructive\"\n                          onClick={() => rejectMutation.mutate(u.id)}\n                          disabled={rejectMutation.isPending}\n                          data-testid={`button-reject-user-${u.id}`}\n                        >\n                          <XCircle className=\"w-4 h-4 mr-1\" />\n                          Reddet\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                  {pendingUsers.length === 0 && (\n                    <p className=\"text-center text-muted-foreground py-4\">Bekleyen kullanÄ±cÄ± yok</p>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* OnaylÄ± KullanÄ±cÄ±lar */}\n            <Card>\n              <CardHeader>\n                <CardTitle>OnaylÄ± KullanÄ±cÄ±lar ({approvedUsers.length})</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {approvedUsers.map((u) => (\n                    <div key={u.id} className=\"p-4 border rounded-lg space-y-3\">\n                      <div className=\"flex items-center justify-between gap-2 flex-wrap\">\n                        <div className=\"flex items-center gap-2\">\n                          <p className=\"font-medium\">{u.username}</p>\n                          <Badge variant=\"secondary\">{u.role}</Badge>\n                          {u.isAdmin && <Badge variant=\"default\">Admin</Badge>}\n                        </div>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => resetPasswordMutation.mutate(u.username)}\n                          disabled={resetPasswordMutation.isPending}\n                          data-testid={`button-reset-password-${u.id}`}\n                        >\n                          Åžifre SÄ±fÄ±rla\n                        </Button>\n                      </div>\n                      {resetCodes[u.username] && (\n                        <div className=\"p-2 bg-primary/10 rounded border border-primary/30\">\n                          <p className=\"text-sm font-medium text-primary\">Åžifre SÄ±fÄ±rlama Kodu:</p>\n                          <p className=\"font-mono text-lg font-bold text-primary\">{resetCodes[u.username]}</p>\n                          <p className=\"text-xs text-muted-foreground mt-1\">\n                            Bu kodu kullanÄ±cÄ±ya verin. 30 dakika geÃ§erlidir.\n                          </p>\n                        </div>\n                      )}\n                      <div className=\"space-y-2\">\n                        <div className=\"text-sm text-muted-foreground\">\n                          <span className=\"font-medium\">Son IP:</span> {u.lastIpAddress || \"Bilinmiyor\"}\n                        </div>\n                        {u.isBanned && (\n                          <div className=\"p-2 bg-destructive/10 rounded border border-destructive/30\">\n                            <p className=\"text-sm font-medium text-destructive\">YasaklÄ±</p>\n                            <p className=\"text-xs text-muted-foreground\">Sebep: {u.banReason || \"BelirtilmemiÅŸ\"}</p>\n                          </div>\n                        )}\n                        {u.isChatMuted && (\n                          <div className=\"p-2 bg-orange-500/10 rounded border border-orange-500/30\">\n                            <p className=\"text-sm font-medium text-orange-600 dark:text-orange-400\">Sohbet Susturuldu</p>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex items-center gap-4 flex-wrap\">\n                        <div className=\"flex items-center gap-2\">\n                          <Label htmlFor={`role-${u.id}`} className=\"text-sm\">Rol:</Label>\n                          <Select\n                            value={u.role}\n                            onValueChange={(role) => roleUpdateMutation.mutate({ userId: u.id, role })}\n                          >\n                            <SelectTrigger className=\"w-40\" id={`role-${u.id}`} data-testid={`select-role-${u.id}`}>\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {ROLES.map((role) => (\n                                <SelectItem key={role} value={role}>\n                                  {role}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Label htmlFor={`player-role-${u.id}`} className=\"text-sm\">Oyuncu RolÃ¼:</Label>\n                          <Select\n                            value={u.playerRole || \"none\"}\n                            onValueChange={(playerRole) => {\n                              const actualRole = playerRole === \"none\" ? \"\" : playerRole;\n                              playerRoleUpdateMutation.mutate({ userId: u.id, playerRole: actualRole });\n                            }}\n                          >\n                            <SelectTrigger className=\"w-40\" id={`player-role-${u.id}`} data-testid={`select-player-role-${u.id}`}>\n                              <SelectValue placeholder=\"SeÃ§iniz\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              <SelectItem value=\"none\">Yok</SelectItem>\n                              {PLAYER_ROLES.map((role) => (\n                                <SelectItem key={role} value={role}>\n                                  {role}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </div>\n                        <Button\n                          size=\"sm\"\n                          variant={u.isAdmin ? \"destructive\" : \"default\"}\n                          onClick={() => adminToggleMutation.mutate({ userId: u.id, isAdmin: !u.isAdmin })}\n                          disabled={adminToggleMutation.isPending}\n                          data-testid={`button-toggle-admin-${u.id}`}\n                        >\n                          {u.isAdmin ? (\n                            <>\n                              <ShieldOff className=\"w-4 h-4 mr-1\" />\n                              Admin KaldÄ±r\n                            </>\n                          ) : (\n                            <>\n                              <Shield className=\"w-4 h-4 mr-1\" />\n                              Admin Yap\n                            </>\n                          )}\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant={u.isBanned ? \"default\" : \"destructive\"}\n                          onClick={() => {\n                            if (u.isBanned) {\n                              banToggleMutation.mutate({ userId: u.id, isBanned: false, banReason: \"\" });\n                            } else {\n                              const reason = prompt(\"Ban sebebi:\");\n                              if (reason !== null) {\n                                banToggleMutation.mutate({ userId: u.id, isBanned: true, banReason: reason });\n                              }\n                            }\n                          }}\n                          disabled={banToggleMutation.isPending}\n                          data-testid={`button-toggle-ban-${u.id}`}\n                        >\n                          {u.isBanned ? \"Ban KaldÄ±r\" : \"Ban\"}\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant={u.isChatMuted ? \"default\" : \"outline\"}\n                          onClick={() => muteToggleMutation.mutate({ userId: u.id, isMuted: !u.isChatMuted })}\n                          disabled={muteToggleMutation.isPending}\n                          data-testid={`button-toggle-mute-${u.id}`}\n                        >\n                          {u.isChatMuted ? \"Mute KaldÄ±r\" : \"Mute\"}\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"ghost\"\n                          onClick={() => {\n                            if (confirm(`${u.username} kullanÄ±cÄ±sÄ±nÄ± silmek istediÄŸinizden emin misiniz?`)) {\n                              deleteUserMutation.mutate(u.id);\n                            }\n                          }}\n                          disabled={deleteUserMutation.isPending}\n                          data-testid={`button-delete-user-${u.id}`}\n                        >\n                          <Trash2 className=\"w-4 h-4 text-destructive\" />\n                        </Button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Admin Kadrosu */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Admin Kadrosu</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex gap-2\">\n                  <Input\n                    placeholder=\"Ä°sim\"\n                    value={staffName}\n                    onChange={(e) => setStaffName(e.target.value)}\n                    data-testid=\"input-staff-name\"\n                  />\n                  <Select value={staffRole} onValueChange={setStaffRole}>\n                    <SelectTrigger className=\"w-60\" data-testid=\"select-staff-role\">\n                      <SelectValue placeholder=\"Rol SeÃ§in\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {STAFF_ROLES.map((role) => (\n                        <SelectItem key={role} value={role}>\n                          {role}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <Button\n                    onClick={() => {\n                      if (staffName && staffRole) {\n                        addStaffMutation.mutate({\n                          name: staffName,\n                          role: staffRole,\n                          managementAccess: staffRole === \"Founder\" || staffRole === \"Master Coordinator\" || staffRole === \"Coordinator Admin\"\n                        });\n                      }\n                    }}\n                    disabled={!staffName || !staffRole || addStaffMutation.isPending}\n                    data-testid=\"button-add-staff\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-1\" />\n                    Ekle\n                  </Button>\n                </div>\n                <div className=\"space-y-2\">\n                  {staffRoles?.map((staff) => {\n                    const isFounder = staff.role === \"Founder\";\n                    const canManageFounder = user?.isSuperAdmin; // Sadece super admin Founder'Ä± yÃ¶netebilir\n                    \n                    return (\n                      <div key={staff.id} className=\"p-3 border rounded-lg space-y-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <p className=\"font-medium\">{staff.name}</p>\n                            <p className=\"text-sm text-muted-foreground\">{staff.role}</p>\n                          </div>\n                          {(!isFounder || canManageFounder) && (\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => deleteStaffMutation.mutate(staff.id)}\n                              disabled={deleteStaffMutation.isPending}\n                              data-testid={`button-delete-staff-${staff.id}`}\n                            >\n                              <Trash2 className=\"w-4 h-4 text-destructive\" />\n                            </Button>\n                          )}\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <Label htmlFor={`access-${staff.id}`} className=\"cursor-pointer\">\n                            <div>\n                              <p className=\"font-medium text-sm\">YÃ¶netim EriÅŸimi</p>\n                              <p className=\"text-xs text-muted-foreground\">\n                                {staff.managementAccess ? \"Aktif\" : \"Pasif\"}\n                              </p>\n                            </div>\n                          </Label>\n                          <Switch\n                            id={`access-${staff.id}`}\n                            checked={staff.managementAccess || false}\n                            onCheckedChange={(checked) => \n                              toggleStaffAccessMutation.mutate({ id: staff.id, managementAccess: checked })\n                            }\n                            disabled={toggleStaffAccessMutation.isPending || (isFounder && !canManageFounder)}\n                            data-testid={`switch-staff-access-${staff.id}`}\n                          />\n                        </div>\n                      </div>\n                    );\n                  })}\n                  {!staffRoles?.length && (\n                    <p className=\"text-center text-muted-foreground py-4\">HenÃ¼z staff eklenmedi</p>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* IP Ban YÃ¶netimi */}\n            <Card>\n              <CardHeader>\n                <CardTitle>IP Ban YÃ¶netimi</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex gap-2\">\n                  <Input\n                    placeholder=\"IP Adresi (Ã¶rn: 192.168.1.1)\"\n                    value={ipAddress}\n                    onChange={(e) => setIpAddress(e.target.value)}\n                    data-testid=\"input-ip-address\"\n                  />\n                  <Input\n                    placeholder=\"Sebep (opsiyonel)\"\n                    value={ipReason}\n                    onChange={(e) => setIpReason(e.target.value)}\n                    data-testid=\"input-ip-reason\"\n                  />\n                  <Button\n                    onClick={() => {\n                      if (ipAddress.trim()) {\n                        banIpMutation.mutate({ \n                          ipAddress: ipAddress.trim(),\n                          reason: ipReason.trim() || undefined\n                        });\n                      }\n                    }}\n                    disabled={!ipAddress.trim() || banIpMutation.isPending}\n                    data-testid=\"button-ban-ip\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-1\" />\n                    Engelle\n                  </Button>\n                </div>\n                <div className=\"space-y-2\">\n                  {bannedIps?.map((banned) => (\n                    <div key={banned.id} className=\"p-3 border rounded-lg flex items-center justify-between\" data-testid={`card-banned-ip-${banned.id}`}>\n                      <div>\n                        <p className=\"font-mono font-medium\" data-testid={`text-banned-ip-${banned.id}`}>{banned.ipAddress}</p>\n                        {banned.reason && (\n                          <p className=\"text-sm text-muted-foreground\">Sebep: {banned.reason}</p>\n                        )}\n                        <p className=\"text-xs text-muted-foreground\">\n                          Engelleyen: {banned.bannedByUser?.username || \"Bilinmeyen\"} â€¢ {new Date(banned.createdAt).toLocaleDateString('tr-TR')}\n                        </p>\n                      </div>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => unbanIpMutation.mutate(banned.id)}\n                        disabled={unbanIpMutation.isPending}\n                        data-testid={`button-unban-ip-${banned.id}`}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-destructive\" />\n                      </Button>\n                    </div>\n                  ))}\n                  {!bannedIps?.length && (\n                    <p className=\"text-center text-muted-foreground py-4\" data-testid=\"text-no-banned-ips\">HiÃ§ engellenmiÅŸ IP yok</p>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Forum YÃ¶netimi */}\n            {user?.isAdmin && (\n              <Card>\n                <CardHeader>\n                  <CardTitle>Forum YÃ¶netimi</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {forumPosts?.map((post) => (\n                      <div key={post.id} className=\"p-4 border rounded-lg space-y-3\" data-testid={`card-forum-post-${post.id}`}>\n                        <div className=\"flex items-start justify-between gap-4\">\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <span className=\"text-xs px-2 py-1 rounded-md bg-primary/10 text-primary font-medium\">\n                                {post.category}\n                              </span>\n                              {post.isLocked && (\n                                <span className=\"text-xs px-2 py-1 rounded-md bg-orange-500/10 text-orange-500 font-medium\">\n                                  Kilitli\n                                </span>\n                              )}\n                              {post.isArchived && (\n                                <span className=\"text-xs px-2 py-1 rounded-md bg-muted text-muted-foreground font-medium\">\n                                  ArÅŸivlendi\n                                </span>\n                              )}\n                            </div>\n                            <h4 className=\"font-semibold text-base mb-1\" data-testid={`text-forum-post-title-${post.id}`}>\n                              {post.title}\n                            </h4>\n                            <p className=\"text-sm text-muted-foreground mb-2\">\n                              Yazar: {post.user?.username || \"Bilinmeyen\"} â€¢ {post.replyCount || 0} cevap\n                            </p>\n                          </div>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => deleteForumPostMutation.mutate(post.id)}\n                            disabled={deleteForumPostMutation.isPending}\n                            data-testid={`button-delete-forum-post-${post.id}`}\n                          >\n                            <Trash2 className=\"w-4 h-4 text-destructive\" />\n                          </Button>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => toggleForumPostLockMutation.mutate({ id: post.id, isLocked: !post.isLocked })}\n                            disabled={toggleForumPostLockMutation.isPending}\n                            data-testid={`button-toggle-lock-${post.id}`}\n                          >\n                            {post.isLocked ? (\n                              <>\n                                <Unlock className=\"w-4 h-4 mr-1\" />\n                                Kilidi AÃ§\n                              </>\n                            ) : (\n                              <>\n                                <Lock className=\"w-4 h-4 mr-1\" />\n                                Kilitle\n                              </>\n                            )}\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => toggleForumPostArchiveMutation.mutate({ id: post.id, isArchived: !post.isArchived })}\n                            disabled={toggleForumPostArchiveMutation.isPending}\n                            data-testid={`button-toggle-archive-${post.id}`}\n                          >\n                            {post.isArchived ? (\n                              <>\n                                <ArchiveRestore className=\"w-4 h-4 mr-1\" />\n                                ArÅŸivden Ã‡Ä±kar\n                              </>\n                            ) : (\n                              <>\n                                <Archive className=\"w-4 h-4 mr-1\" />\n                                ArÅŸivle\n                              </>\n                            )}\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                    {!forumPosts?.length && (\n                      <p className=\"text-center text-muted-foreground py-4\" data-testid=\"text-no-forum-posts\">\n                        HenÃ¼z forum konusu bulunmamaktadÄ±r\n                      </p>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}\n","size_bytes":47420},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport bcrypt from \"bcrypt\";\n\nfunction normalizeClientIp(req: any): string {\n  let ip = req.ip || req.headers['x-forwarded-for'] || req.connection.remoteAddress;\n  \n  if (Array.isArray(ip)) {\n    ip = ip[0];\n  }\n  \n  if (typeof ip === 'string') {\n    ip = ip.split(',')[0].trim();\n    \n    if (ip.startsWith('::ffff:')) {\n      ip = ip.substring(7);\n    }\n  }\n  \n  return ip || '';\n}\n\nasync function checkIpBan(req: any, res: any, next: any) {\n  try {\n    const clientIp = normalizeClientIp(req);\n    \n    if (!clientIp) {\n      return next();\n    }\n    \n    const banned = await storage.getBannedIpByAddress(clientIp);\n    if (banned) {\n      return res.status(403).json({ error: \"Bu IP adresi engellenmiÅŸtir\" });\n    }\n    next();\n  } catch (error: any) {\n    // If table doesn't exist yet (during initial migration), allow the request\n    const errorMessage = error?.message || String(error);\n    if (errorMessage.includes('relation') && errorMessage.includes('does not exist')) {\n      console.warn('IP ban check skipped - table not yet created');\n      return next();\n    }\n    // For other errors, log and continue to prevent blocking\n    console.error('Error checking IP ban:', error);\n    next();\n  }\n}\n\nfunction isAuthenticated(req: any, res: any, next: any) {\n  if (req.isAuthenticated()) {\n    return next();\n  }\n  return res.status(401).json({ error: \"GiriÅŸ yapmalÄ±sÄ±nÄ±z\" });\n}\n\nfunction isAdmin(req: any, res: any, next: any) {\n  console.log(\"ðŸ” isAdmin check:\", {\n    isAuthenticated: req.isAuthenticated(),\n    user: req.user,\n    isAdmin: req.user?.isAdmin,\n    isSuperAdmin: req.user?.isSuperAdmin\n  });\n  \n  if (req.isAuthenticated() && (req.user.isAdmin || req.user.isSuperAdmin)) {\n    return next();\n  }\n  return res.status(403).json({ error: \"Yetkiniz yok\" });\n}\n\nfunction isSuperAdmin(req: any, res: any, next: any) {\n  if (req.isAuthenticated() && req.user.isSuperAdmin) {\n    return next();\n  }\n  return res.status(403).json({ error: \"Yetkiniz yok\" });\n}\n\nfunction isNotBanned(req: any, res: any, next: any) {\n  if (!req.isAuthenticated()) {\n    return next();\n  }\n  if (req.user.isBanned) {\n    return res.status(403).json({ error: \"HesabÄ±nÄ±z yasaklandÄ±. Sebep: \" + (req.user.banReason || \"BelirtilmemiÅŸ\") });\n  }\n  return next();\n}\n\nfunction isNotChatMuted(req: any, res: any, next: any) {\n  if (!req.isAuthenticated()) {\n    return next();\n  }\n  if (req.user.isChatMuted) {\n    return res.status(403).json({ error: \"Sohbet yazma izniniz kaldÄ±rÄ±ldÄ±\" });\n  }\n  return next();\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // IP ban middleware - tÃ¼m route'larda kontrol edilir\n  app.use(checkIpBan);\n  // Profile routes\n  app.get(\"/api/profile\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const user = await storage.getUser(req.user!.id);\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      const { password, ...userWithoutPassword } = user;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"Profil yÃ¼klenemedi\" });\n    }\n  });\n\n  // User search route\n  app.get(\"/api/users/search\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { query } = req.query;\n      if (!query || typeof query !== \"string\") {\n        return res.status(400).json({ error: \"Arama sorgusu gerekli\" });\n      }\n      \n      const users = await storage.searchUsersByUsername(query);\n      const usersWithoutPassword = users.map(({ password, ...user }) => user);\n      return res.json(usersWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"KullanÄ±cÄ± aramasÄ± baÅŸarÄ±sÄ±z\" });\n    }\n  });\n\n  app.patch(\"/api/profile/username\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { username } = req.body;\n      if (!username) {\n        return res.status(400).json({ error: \"KullanÄ±cÄ± adÄ± gerekli\" });\n      }\n\n      const currentUser = await storage.getUser(req.user!.id);\n      if (!currentUser) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n\n      // 1 aylÄ±k nick deÄŸiÅŸtirme limiti (Admin ve yÃ¶netim hariÃ§)\n      const isExempt = currentUser.isAdmin || currentUser.isSuperAdmin;\n      if (!isExempt && currentUser.lastUsernameChange) {\n        const oneMonthAgo = new Date();\n        oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\n        \n        if (new Date(currentUser.lastUsernameChange) > oneMonthAgo) {\n          const nextChangeDate = new Date(currentUser.lastUsernameChange);\n          nextChangeDate.setMonth(nextChangeDate.getMonth() + 1);\n          const daysRemaining = Math.ceil((nextChangeDate.getTime() - Date.now()) / (1000 * 60 * 60 * 24));\n          return res.status(429).json({ \n            error: `KullanÄ±cÄ± adÄ±nÄ± deÄŸiÅŸtirmek iÃ§in ${daysRemaining} gÃ¼n beklemeniz gerekiyor.` \n          });\n        }\n      }\n\n      const existing = await storage.getUserByUsername(username);\n      if (existing && existing.id !== req.user!.id) {\n        return res.status(400).json({ error: \"Bu kullanÄ±cÄ± adÄ± zaten kullanÄ±lÄ±yor\" });\n      }\n\n      const updated = await storage.updateUser(req.user!.id, { \n        username,\n        lastUsernameChange: new Date()\n      });\n      if (!updated) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n\n      const { password, ...userWithoutPassword } = updated;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"KullanÄ±cÄ± adÄ± gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/profile/password\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { currentPassword, newPassword } = req.body;\n      if (!currentPassword || !newPassword) {\n        return res.status(400).json({ error: \"Mevcut ve yeni ÅŸifre gerekli\" });\n      }\n\n      const user = await storage.getUser(req.user!.id);\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n\n      const isValid = await bcrypt.compare(currentPassword, user.password);\n      if (!isValid) {\n        return res.status(400).json({ error: \"Mevcut ÅŸifre hatalÄ±\" });\n      }\n\n      const hashedPassword = await bcrypt.hash(newPassword, 10);\n      await storage.updateUser(req.user!.id, { password: hashedPassword });\n\n      return res.json({ message: \"Åžifre gÃ¼ncellendi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Åžifre gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/profile/picture\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { profilePicture } = req.body;\n      \n      // Allow null to remove picture, otherwise validate\n      if (profilePicture !== null && profilePicture !== undefined) {\n        // Validate base64 image format\n        if (!profilePicture.startsWith('data:image/')) {\n          return res.status(400).json({ error: \"GeÃ§ersiz resim formatÄ±\" });\n        }\n        \n        // 5MB size limit: decode base64 to get actual file size\n        const base64Data = profilePicture.split(',')[1];\n        if (!base64Data) {\n          return res.status(400).json({ error: \"GeÃ§ersiz base64 verisi\" });\n        }\n        \n        // Calculate decoded size (base64 is ~33% larger than raw data)\n        const sizeInBytes = (base64Data.length * 3) / 4;\n        const MAX_SIZE = 5 * 1024 * 1024; // 5MB\n        \n        if (sizeInBytes > MAX_SIZE) {\n          return res.status(400).json({ error: \"Resim Ã§ok bÃ¼yÃ¼k (maksimum 5MB)\" });\n        }\n      }\n\n      const updated = await storage.updateUser(req.user!.id, { profilePicture });\n      if (!updated) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n\n      const { password, ...userWithoutPassword } = updated;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      console.error('Profile picture update error:', error);\n      return res.status(500).json({ error: \"Profil fotoÄŸrafÄ± gÃ¼ncellenemedi\" });\n    }\n  });\n\n  // Admin application routes\n  app.post(\"/api/applications/admin\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const settings = await storage.getSettings();\n      if (!settings.adminApplicationsOpen) {\n        return res.status(403).json({ error: \"Admin baÅŸvurularÄ± ÅŸu anda kapalÄ±\" });\n      }\n\n      const { name, age, gameNick, discordNick, playDuration, activeServers, previousExperience, dailyHours, activeTimeZones, aboutYourself } = req.body;\n      \n      if (!name || !age || !gameNick || !discordNick || !playDuration || !activeServers || !previousExperience || !dailyHours || !activeTimeZones || !aboutYourself) {\n        return res.status(400).json({ error: \"TÃ¼m alanlarÄ± doldurun\" });\n      }\n\n      const existing = await storage.getUserAdminApplications(req.user!.id);\n      const hasPending = existing.some(app => app.status === \"pending\");\n      if (hasPending) {\n        return res.status(400).json({ error: \"Bekleyen bir baÅŸvurunuz var\" });\n      }\n\n      const application = await storage.createAdminApplication({\n        userId: req.user!.id,\n        name,\n        age,\n        gameNick,\n        discordNick,\n        playDuration,\n        activeServers,\n        previousExperience,\n        dailyHours,\n        activeTimeZones,\n        aboutYourself,\n      });\n\n      return res.json(application);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvuru oluÅŸturulamadÄ±\" });\n    }\n  });\n\n  app.get(\"/api/applications/admin\", isAdmin, async (req, res) => {\n    try {\n      const applications = await storage.getAdminApplications();\n      const users = await storage.getAllUsers();\n      const usersMap = new Map(users.map(u => [u.id, u]));\n\n      const applicationsWithUser = applications.map(app => ({\n        ...app,\n        user: usersMap.get(app.userId),\n      }));\n\n      return res.json(applicationsWithUser);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvurular yÃ¼klenemedi\" });\n    }\n  });\n\n  app.get(\"/api/applications/admin/my\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const applications = await storage.getUserAdminApplications(req.user!.id);\n      return res.json(applications);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvurular yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/applications/admin/:id\", isAdmin, async (req, res) => {\n    try {\n      const { status } = req.body;\n      if (!status || ![\"approved\", \"rejected\"].includes(status)) {\n        return res.status(400).json({ error: \"GeÃ§ersiz durum\" });\n      }\n\n      const application = await storage.updateAdminApplication(req.params.id, status);\n      if (!application) {\n        return res.status(404).json({ error: \"BaÅŸvuru bulunamadÄ±\" });\n      }\n\n      if (status === \"approved\") {\n        const user = await storage.getUser(application.userId);\n        await storage.updateUser(application.userId, { isAdmin: true, role: \"Arena Admin\" });\n        \n        // Add to staff roles if not already exists\n        if (user) {\n          await storage.createStaffRole({\n            name: user.username,\n            role: \"Arena Admin\",\n            managementAccess: false,\n          });\n        }\n        \n        await storage.createNotification({\n          userId: application.userId,\n          message: \"Admin baÅŸvurunuz onaylandÄ±! ArtÄ±k admin yetkileriniz var.\",\n        });\n      } else {\n        await storage.createNotification({\n          userId: application.userId,\n          message: \"Admin baÅŸvurunuz reddedildi.\",\n        });\n      }\n\n      return res.json(application);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvuru gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/applications/admin/:id\", isAdmin, async (req, res) => {\n    try {\n      await storage.deleteAdminApplication(req.params.id);\n      return res.json({ message: \"BaÅŸvuru silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvuru silinemedi\" });\n    }\n  });\n\n  // Team application routes\n  app.post(\"/api/applications/team\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const settings = await storage.getSettings();\n      if (!settings.teamApplicationsOpen) {\n        return res.status(403).json({ error: \"TakÄ±m baÅŸvurularÄ± ÅŸu anda kapalÄ±\" });\n      }\n\n      const { teamName, teamLogo, description, captain1, captain2, viceCaptain, players } = req.body;\n      if (!teamName || !description) {\n        return res.status(400).json({ error: \"TakÄ±m adÄ± ve aÃ§Ä±klama gerekli\" });\n      }\n\n      const application = await storage.createTeamApplication({\n        userId: req.user!.id,\n        teamName,\n        teamLogo: teamLogo || null,\n        description,\n        captain1: captain1 || null,\n        captain2: captain2 || null,\n        viceCaptain: viceCaptain || null,\n        players: players || [],\n      });\n\n      return res.json(application);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvuru oluÅŸturulamadÄ±\" });\n    }\n  });\n\n  app.get(\"/api/applications/team\", async (req, res) => {\n    try {\n      const applications = await storage.getTeamApplications();\n      const users = await storage.getAllUsers();\n      const usersMap = new Map(users.map(u => [u.id, u]));\n\n      const applicationsWithUser = applications.map(app => ({\n        ...app,\n        user: usersMap.get(app.userId),\n      }));\n\n      return res.json(applicationsWithUser);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvurular yÃ¼klenemedi\" });\n    }\n  });\n\n  app.get(\"/api/applications/team/my\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const applications = await storage.getUserTeamApplications(req.user!.id);\n      return res.json(applications);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvurular yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/applications/team/:id\", isAdmin, async (req, res) => {\n    try {\n      const { status } = req.body;\n      if (!status || ![\"approved\", \"rejected\"].includes(status)) {\n        return res.status(400).json({ error: \"GeÃ§ersiz durum\" });\n      }\n\n      const application = await storage.updateTeamApplication(req.params.id, status);\n      if (!application) {\n        return res.status(404).json({ error: \"BaÅŸvuru bulunamadÄ±\" });\n      }\n\n      if (status === \"approved\") {\n        await storage.createNotification({\n          userId: application.userId,\n          message: `TakÄ±m baÅŸvurunuz (${application.teamName}) onaylandÄ±!`,\n        });\n      } else {\n        await storage.createNotification({\n          userId: application.userId,\n          message: `TakÄ±m baÅŸvurunuz (${application.teamName}) reddedildi.`,\n        });\n      }\n\n      return res.json(application);\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvuru gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/applications/team/:id\", isAdmin, async (req, res) => {\n    try {\n      await storage.deleteTeamApplication(req.params.id);\n      return res.json({ message: \"BaÅŸvuru silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"BaÅŸvuru silinemedi\" });\n    }\n  });\n\n  // Management routes (Super Admin only)\n  app.get(\"/api/management/users\", isSuperAdmin, async (req, res) => {\n    try {\n      const users = await storage.getAllUsers();\n      // GÃ¼venlik: Åžifreleri frontend'e gÃ¶ndermiyoruz\n      const usersWithoutPasswords = users.map(({ password, ...user }) => user);\n      return res.json(usersWithoutPasswords);\n    } catch (error) {\n      return res.status(500).json({ error: \"KullanÄ±cÄ±lar yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/management/users/:id/approve\", isSuperAdmin, async (req, res) => {\n    try {\n      const user = await storage.updateUser(req.params.id, { \n        isApproved: true,\n        role: \"HaxArena Ãœye\" \n      });\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      const { password, ...userWithoutPassword } = user;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"KullanÄ±cÄ± onaylanamadÄ±\" });\n    }\n  });\n\n  app.patch(\"/api/management/users/:id/reject\", isSuperAdmin, async (req, res) => {\n    try {\n      // Reddetme iÅŸlemi: KullanÄ±cÄ±yÄ± sil\n      if (req.params.id === req.user!.id) {\n        return res.status(400).json({ error: \"Kendi hesabÄ±nÄ±zÄ± reddedemezsiniz\" });\n      }\n      await storage.deleteUser(req.params.id);\n      return res.json({ message: \"KullanÄ±cÄ± reddedildi ve silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"KullanÄ±cÄ± reddedilemedi\" });\n    }\n  });\n\n  app.post(\"/api/management/create-admin\", isSuperAdmin, async (req, res) => {\n    try {\n      const { username, password } = req.body;\n\n      // Validation\n      if (!username || !password) {\n        return res.status(400).json({ error: \"KullanÄ±cÄ± adÄ± ve ÅŸifre gerekli\" });\n      }\n\n      if (password.length < 6) {\n        return res.status(400).json({ error: \"Åžifre en az 6 karakter olmalÄ±\" });\n      }\n\n      // Check if username already exists\n      const existingUsername = await storage.getUserByUsername(username);\n      if (existingUsername) {\n        return res.status(400).json({ error: \"Bu kullanÄ±cÄ± adÄ± zaten kullanÄ±lÄ±yor\" });\n      }\n\n      // Hash password\n      const hashedPassword = await bcrypt.hash(password, 10);\n\n      // Create admin user\n      const newUser = await storage.createUser({\n        username,\n        password: hashedPassword,\n      });\n\n      // Set admin flags and role\n      const newAdmin = await storage.updateUser(newUser.id, {\n        isAdmin: true,\n        isApproved: true,\n        role: \"HaxArena Ãœye\",\n      });\n\n      const { password: _, ...adminWithoutPassword } = newAdmin!;\n      return res.status(201).json(adminWithoutPassword);\n    } catch (error) {\n      console.error(\"[CREATE ADMIN ERROR]\", error);\n      return res.status(500).json({ error: \"Admin oluÅŸturulamadÄ±\" });\n    }\n  });\n\n  app.delete(\"/api/management/users/:id\", isSuperAdmin, async (req, res) => {\n    try {\n      // KullanÄ±cÄ± kendi hesabÄ±nÄ± silemez\n      console.log(`[DELETE USER] Attempting to delete user ${req.params.id}, current user: ${req.user?.id}`);\n      if (req.params.id === req.user!.id) {\n        console.log(`[DELETE USER] Blocked: User trying to delete themselves`);\n        return res.status(400).json({ error: \"Kendi hesabÄ±nÄ±zÄ± silemezsiniz\" });\n      }\n      await storage.deleteUser(req.params.id);\n      console.log(`[DELETE USER] Successfully deleted user ${req.params.id}`);\n      return res.json({ message: \"KullanÄ±cÄ± silindi\" });\n    } catch (error) {\n      console.error(`[DELETE USER] Error:`, error);\n      return res.status(500).json({ error: \"KullanÄ±cÄ± silinemedi\" });\n    }\n  });\n\n  app.patch(\"/api/management/users/:id/role\", isSuperAdmin, async (req, res) => {\n    try {\n      const { role } = req.body;\n      const validRoles = [\"DIAMOND VIP\", \"GOLD VIP\", \"SILVER VIP\", \"Lig Oyuncusu\", \"HaxArena Ãœye\"];\n      if (!role || !validRoles.includes(role)) {\n        return res.status(400).json({ error: \"GeÃ§ersiz rol\" });\n      }\n\n      const user = await storage.updateUser(req.params.id, { role });\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      const { password, ...userWithoutPassword } = user;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"Rol gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/management/users/:id/admin\", isSuperAdmin, async (req, res) => {\n    try {\n      const { isAdmin } = req.body;\n      if (typeof isAdmin !== \"boolean\") {\n        return res.status(400).json({ error: \"GeÃ§ersiz deÄŸer\" });\n      }\n\n      const user = await storage.updateUser(req.params.id, { isAdmin });\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      const { password, ...userWithoutPassword } = user;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"Admin yetkisi gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/management/users/:id\", isSuperAdmin, async (req, res) => {\n    try {\n      const updates: Partial<any> = {};\n      \n      if (typeof req.body.isBanned === \"boolean\") {\n        updates.isBanned = req.body.isBanned;\n        updates.banReason = req.body.banReason || null;\n      }\n      \n      if (typeof req.body.isChatMuted === \"boolean\") {\n        updates.isChatMuted = req.body.isChatMuted;\n      }\n      \n      const user = await storage.updateUser(req.params.id, updates);\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      \n      const { password, ...userWithoutPassword } = user;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"KullanÄ±cÄ± gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/management/users/:id/player-role\", isSuperAdmin, async (req, res) => {\n    try {\n      const { playerRole } = req.body;\n      \n      const user = await storage.updateUser(req.params.id, { playerRole: playerRole || null });\n      if (!user) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      const { password, ...userWithoutPassword } = user;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"Oyuncu rolÃ¼ gÃ¼ncellenemedi\" });\n    }\n  });\n\n  // Staff role routes\n  app.post(\"/api/staff-roles\", isAdmin, async (req, res) => {\n    try {\n      const { name, role, managementAccess } = req.body;\n      if (!name || !role) {\n        return res.status(400).json({ error: \"Ä°sim ve rol gerekli\" });\n      }\n\n      const staffRole = await storage.createStaffRole({\n        name,\n        role,\n        managementAccess: managementAccess || false,\n      });\n\n      return res.json(staffRole);\n    } catch (error) {\n      return res.status(500).json({ error: \"Staff rolÃ¼ oluÅŸturulamadÄ±\" });\n    }\n  });\n\n  app.get(\"/api/staff-roles\", async (req, res) => {\n    try {\n      const staffRoles = await storage.getStaffRoles();\n      return res.json(staffRoles);\n    } catch (error) {\n      return res.status(500).json({ error: \"Staff rolleri yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/staff-roles/:id\", isAdmin, async (req, res) => {\n    try {\n      const { managementAccess } = req.body;\n      if (typeof managementAccess !== \"boolean\") {\n        return res.status(400).json({ error: \"GeÃ§ersiz deÄŸer\" });\n      }\n\n      const staffRole = await storage.updateStaffRole(req.params.id, { managementAccess });\n      if (!staffRole) {\n        return res.status(404).json({ error: \"Staff rolÃ¼ bulunamadÄ±\" });\n      }\n      return res.json(staffRole);\n    } catch (error) {\n      return res.status(500).json({ error: \"Staff rolÃ¼ gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/staff-roles/:id\", isAdmin, async (req, res) => {\n    try {\n      await storage.deleteStaffRole(req.params.id);\n      return res.json({ message: \"Staff rolÃ¼ silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Staff rolÃ¼ silinemedi\" });\n    }\n  });\n\n  // Notification routes\n  app.get(\"/api/notifications\", isAuthenticated, async (req, res) => {\n    try {\n      const notifications = await storage.getUserNotifications(req.user!.id);\n      return res.json(notifications);\n    } catch (error) {\n      return res.status(500).json({ error: \"Bildirimler yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/notifications/:id/read\", isAuthenticated, async (req, res) => {\n    try {\n      await storage.markNotificationAsRead(req.params.id);\n      return res.json({ message: \"Bildirim okundu olarak iÅŸaretlendi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Bildirim gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/notifications/:id\", isAuthenticated, async (req, res) => {\n    try {\n      await storage.deleteNotification(req.params.id);\n      return res.json({ message: \"Bildirim silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Bildirim silinemedi\" });\n    }\n  });\n\n  // Settings routes\n  app.get(\"/api/settings\", async (req, res) => {\n    try {\n      const settings = await storage.getSettings();\n      return res.json(settings);\n    } catch (error) {\n      return res.status(500).json({ error: \"Ayarlar yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/settings\", isSuperAdmin, async (req, res) => {\n    try {\n      const settings = await storage.updateSettings(req.body);\n      return res.json(settings);\n    } catch (error) {\n      return res.status(500).json({ error: \"Ayarlar gÃ¼ncellenemedi\" });\n    }\n  });\n\n  // Forum routes\n  app.post(\"/api/forum-posts\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { title, content, category, imageUrl } = req.body;\n      const post = await storage.createForumPost({\n        userId: req.user!.id,\n        title,\n        content,\n        category,\n        imageUrl,\n      });\n      return res.json(post);\n    } catch (error) {\n      return res.status(500).json({ error: \"Konu oluÅŸturulamadÄ±\" });\n    }\n  });\n\n  app.get(\"/api/forum-posts\", async (req, res) => {\n    try {\n      const category = req.query.category as string | undefined;\n      const includeArchived = req.isAuthenticated() && (req.user!.isAdmin || req.user!.isSuperAdmin);\n      const posts = await storage.getForumPosts(category, includeArchived);\n      const staffRoles = await storage.getStaffRoles();\n      const staffMap = new Map(staffRoles.map(s => [s.name, s.role]));\n      \n      const postsWithStaffRole = posts.map(post => ({\n        ...post,\n        staffRole: staffMap.get(post.user.username) || null,\n      }));\n      \n      return res.json(postsWithStaffRole);\n    } catch (error) {\n      return res.status(500).json({ error: \"Konular yÃ¼klenemedi\" });\n    }\n  });\n\n  app.get(\"/api/forum-posts/:id\", async (req, res) => {\n    try {\n      const post = await storage.getForumPost(req.params.id);\n      if (!post) {\n        return res.status(404).json({ error: \"Konu bulunamadÄ±\" });\n      }\n      \n      const staffRoles = await storage.getStaffRoles();\n      const staffMap = new Map(staffRoles.map(s => [s.name, s.role]));\n      \n      const postWithStaffRole = {\n        ...post,\n        staffRole: staffMap.get(post.user.username) || null,\n      };\n      \n      return res.json(postWithStaffRole);\n    } catch (error) {\n      return res.status(500).json({ error: \"Konu yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/forum-posts/:id\", isAuthenticated, async (req, res) => {\n    try {\n      const { isLocked, isArchived, title, content } = req.body;\n      const post = await storage.getForumPost(req.params.id);\n      \n      if (!post) {\n        return res.status(404).json({ error: \"Konu bulunamadÄ±\" });\n      }\n      \n      // Only post owner can archive, only admins can lock\n      const isOwner = post.userId === req.user!.id;\n      const isAdminUser = req.user!.isAdmin || req.user!.isSuperAdmin;\n      \n      const updates: Partial<{ isLocked: boolean; isArchived: boolean; title: string; content: string; editedAt: Date }> = {};\n      \n      // Sadece post sahibi title ve content dÃ¼zenleyebilir\n      if (isOwner && title) {\n        updates.title = title;\n        updates.editedAt = new Date();\n      }\n      if (isOwner && content) {\n        updates.content = content;\n        updates.editedAt = new Date();\n      }\n      \n      if (typeof isLocked === \"boolean\" && isAdminUser) {\n        updates.isLocked = isLocked;\n      }\n      \n      if (typeof isArchived === \"boolean\") {\n        // ArÅŸivden Ã§Ä±karma sadece yÃ¶netim yapabilir\n        if (isArchived === false && post.isArchived) {\n          if (!isAdminUser) {\n            return res.status(403).json({ error: \"ArÅŸivden Ã§Ä±karma yetkiniz yok\" });\n          }\n        }\n        // ArÅŸivleme: sahibi veya admin yapabilir\n        if (isArchived === true && (isOwner || isAdminUser)) {\n          updates.isArchived = isArchived;\n        }\n        // ArÅŸivden Ã§Ä±karma: sadece admin\n        if (isArchived === false && isAdminUser) {\n          updates.isArchived = isArchived;\n        }\n      }\n\n      const updatedPost = await storage.updateForumPost(req.params.id, updates);\n      return res.json(updatedPost);\n    } catch (error) {\n      return res.status(500).json({ error: \"Konu gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/forum-posts/:id\", isAuthenticated, async (req, res) => {\n    try {\n      const post = await storage.getForumPost(req.params.id);\n      \n      if (!post) {\n        return res.status(404).json({ error: \"Konu bulunamadÄ±\" });\n      }\n      \n      // Only post owner or admin can delete\n      const isOwner = post.userId === req.user!.id;\n      const isAdminUser = req.user!.isAdmin || req.user!.isSuperAdmin;\n      \n      if (!isOwner && !isAdminUser) {\n        return res.status(403).json({ error: \"Bu konuyu silme yetkiniz yok\" });\n      }\n      \n      await storage.deleteForumPost(req.params.id);\n      return res.json({ message: \"Konu silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Konu silinemedi\" });\n    }\n  });\n\n  app.post(\"/api/forum-posts/:id/replies\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { content, imageUrl, quotedReplyId } = req.body;\n      \n      // Check if post is locked or archived\n      const post = await storage.getForumPost(req.params.id);\n      if (!post) {\n        return res.status(404).json({ error: \"Konu bulunamadÄ±\" });\n      }\n      \n      if (post.isLocked) {\n        return res.status(403).json({ error: \"Bu konu kilitlenmiÅŸtir. Yeni cevap eklenemez.\" });\n      }\n      \n      if (post.isArchived) {\n        return res.status(403).json({ error: \"Bu konu arÅŸivlenmiÅŸtir. Yeni cevap eklenemez.\" });\n      }\n      \n      const reply = await storage.createForumReply({\n        postId: req.params.id,\n        userId: req.user!.id,\n        content,\n        imageUrl,\n        quotedReplyId,\n      });\n      return res.json(reply);\n    } catch (error) {\n      return res.status(500).json({ error: \"Cevap oluÅŸturulamadÄ±\" });\n    }\n  });\n\n  app.get(\"/api/forum-posts/:id/replies\", async (req, res) => {\n    try {\n      const replies = await storage.getForumReplies(req.params.id);\n      const staffRoles = await storage.getStaffRoles();\n      const staffMap = new Map(staffRoles.map(s => [s.name, s.role]));\n      \n      const repliesWithStaffRole = replies.map(reply => ({\n        ...reply,\n        staffRole: staffMap.get(reply.user.username) || null,\n      }));\n      \n      return res.json(repliesWithStaffRole);\n    } catch (error) {\n      return res.status(500).json({ error: \"Cevaplar yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/forum-replies/:id\", isAuthenticated, async (req, res) => {\n    try {\n      const { content } = req.body;\n      const reply = await storage.getForumReply(req.params.id);\n      \n      if (!reply) {\n        return res.status(404).json({ error: \"Cevap bulunamadÄ±\" });\n      }\n      \n      // Sadece reply sahibi dÃ¼zenleyebilir\n      const isOwner = reply.userId === req.user!.id;\n      \n      if (!isOwner) {\n        return res.status(403).json({ error: \"Bu cevabÄ± dÃ¼zenleme yetkiniz yok\" });\n      }\n      \n      if (!content) {\n        return res.status(400).json({ error: \"Ä°Ã§erik gerekli\" });\n      }\n      \n      const updatedReply = await storage.updateForumReply(req.params.id, { \n        content,\n        editedAt: new Date()\n      });\n      return res.json(updatedReply);\n    } catch (error) {\n      return res.status(500).json({ error: \"Cevap gÃ¼ncellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/forum-replies/:id\", isAuthenticated, async (req, res) => {\n    try {\n      const reply = await storage.getForumReply(req.params.id);\n      \n      if (!reply) {\n        return res.status(404).json({ error: \"Cevap bulunamadÄ±\" });\n      }\n      \n      // Reply sahibi veya admin silebilir\n      const isOwner = reply.userId === req.user!.id;\n      const isAdminUser = req.user!.isAdmin || req.user!.isSuperAdmin;\n      \n      if (!isOwner && !isAdminUser) {\n        return res.status(403).json({ error: \"Bu cevabÄ± silme yetkiniz yok\" });\n      }\n      \n      await storage.deleteForumReply(req.params.id);\n      return res.json({ message: \"Cevap silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Cevap silinemedi\" });\n    }\n  });\n\n  // Chat routes\n  const userLastMessageTime = new Map<string, number>();\n\n  app.get(\"/api/chat/messages\", async (req, res) => {\n    try {\n      const messages = await storage.getChatMessages(50);\n      const staffRoles = await storage.getStaffRoles();\n      const staffMap = new Map(staffRoles.map(s => [s.name, s.role]));\n      \n      const messagesWithStaffRole = messages.map(msg => ({\n        ...msg,\n        staffRole: staffMap.get(msg.user.username) || null,\n      }));\n      \n      return res.json(messagesWithStaffRole);\n    } catch (error) {\n      return res.status(500).json({ error: \"Mesajlar yÃ¼klenemedi\" });\n    }\n  });\n\n  app.post(\"/api/chat/messages\", isAuthenticated, isNotBanned, isNotChatMuted, async (req, res) => {\n    try {\n      const { message } = req.body;\n      if (!message || !message.trim()) {\n        return res.status(400).json({ error: \"Mesaj boÅŸ olamaz\" });\n      }\n\n      // Rate limiting: 5 saniye (Admin, YÃ¶netim ve VIP'ler hariÃ§)\n      const currentUser = await storage.getUser(req.user!.id);\n      const isExemptFromRateLimit = currentUser?.isAdmin || \n                                     currentUser?.role?.includes('VIP');\n      \n      if (!isExemptFromRateLimit) {\n        const userId = req.user!.id;\n        const now = Date.now();\n        const lastMessageTime = userLastMessageTime.get(userId) || 0;\n        \n        if (now - lastMessageTime < 5000) {\n          const remainingSeconds = Math.ceil((5000 - (now - lastMessageTime)) / 1000);\n          return res.status(429).json({ \n            error: `LÃ¼tfen ${remainingSeconds} saniye bekleyin` \n          });\n        }\n\n        userLastMessageTime.set(userId, now);\n      }\n\n      const chatMessage = await storage.createChatMessage({\n        userId: req.user!.id,\n        message: message.trim(),\n      });\n\n      const [user] = await Promise.all([\n        storage.getUser(req.user!.id)\n      ]);\n\n      return res.json({ ...chatMessage, user });\n    } catch (error) {\n      return res.status(500).json({ error: \"Mesaj gÃ¶nderilemedi\" });\n    }\n  });\n\n  app.delete(\"/api/chat/messages/:id\", async (req, res) => {\n    try {\n      if (!req.user || (!req.user.isAdmin && !req.user.isSuperAdmin)) {\n        return res.status(403).json({ error: \"Yetkiniz yok\" });\n      }\n\n      await storage.deleteChatMessage(req.params.id);\n      return res.json({ message: \"Mesaj silindi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Mesaj silinemedi\" });\n    }\n  });\n\n  // IP Ban routes\n  app.get(\"/api/banned-ips\", isSuperAdmin, async (req, res) => {\n    try {\n      const bannedIps = await storage.getBannedIps();\n      return res.json(bannedIps);\n    } catch (error) {\n      return res.status(500).json({ error: \"IP listesi yÃ¼klenemedi\" });\n    }\n  });\n\n  app.post(\"/api/banned-ips\", isSuperAdmin, async (req, res) => {\n    try {\n      const { ipAddress, reason } = req.body;\n      if (!ipAddress) {\n        return res.status(400).json({ error: \"IP adresi gerekli\" });\n      }\n\n      const existing = await storage.getBannedIpByAddress(ipAddress);\n      if (existing) {\n        return res.status(400).json({ error: \"Bu IP adresi zaten engellenmiÅŸ\" });\n      }\n\n      const bannedIp = await storage.createBannedIp({\n        ipAddress,\n        reason: reason || null,\n        bannedBy: req.user!.id,\n      });\n\n      return res.json(bannedIp);\n    } catch (error) {\n      return res.status(500).json({ error: \"IP engellenemedi\" });\n    }\n  });\n\n  app.delete(\"/api/banned-ips/:id\", isSuperAdmin, async (req, res) => {\n    try {\n      await storage.deleteBannedIp(req.params.id);\n      return res.json({ message: \"IP ban kaldÄ±rÄ±ldÄ±\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"IP ban kaldÄ±rÄ±lamadÄ±\" });\n    }\n  });\n\n  // Password reset routes\n  app.post(\"/api/password-reset/request\", async (req, res) => {\n    try {\n      const { username } = req.body;\n      if (!username) {\n        return res.status(400).json({ error: \"KullanÄ±cÄ± adÄ± gerekli\" });\n      }\n\n      const user = await storage.getUserByUsername(username);\n      if (!user) {\n        // GÃ¼venlik iÃ§in kullanÄ±cÄ± bulunamasa bile baÅŸarÄ±lÄ± mesajÄ± gÃ¶ster\n        return res.json({ message: \"Åžifre sÄ±fÄ±rlama talebi alÄ±ndÄ±\" });\n      }\n\n      // Eski tokenlarÄ± sil\n      await storage.deleteUserPasswordResetTokens(user.id);\n\n      // Yeni token oluÅŸtur (6 haneli rastgele kod)\n      const token = Math.floor(100000 + Math.random() * 900000).toString();\n      const expiresAt = new Date(Date.now() + 30 * 60 * 1000); // 30 dakika\n\n      await storage.createPasswordResetToken({\n        userId: user.id,\n        token,\n        expiresAt,\n      });\n\n      // TODO: Token'Ä± kullanÄ±cÄ±ya gÃ¶ster veya gÃ¶nder (ÅŸimdilik response'da dÃ¶ndÃ¼rÃ¼yoruz)\n      return res.json({ message: \"Åžifre sÄ±fÄ±rlama kodu: \" + token });\n    } catch (error) {\n      return res.status(500).json({ error: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\" });\n    }\n  });\n\n  app.post(\"/api/password-reset/verify\", async (req, res) => {\n    try {\n      const { username, token, newPassword } = req.body;\n      if (!username || !token || !newPassword) {\n        return res.status(400).json({ error: \"TÃ¼m alanlarÄ± doldurun\" });\n      }\n\n      const user = await storage.getUserByUsername(username);\n      if (!user) {\n        return res.status(400).json({ error: \"GeÃ§ersiz bilgiler\" });\n      }\n\n      const resetToken = await storage.getPasswordResetToken(token);\n      if (!resetToken || resetToken.userId !== user.id) {\n        return res.status(400).json({ error: \"GeÃ§ersiz kod\" });\n      }\n\n      if (new Date() > resetToken.expiresAt) {\n        await storage.deletePasswordResetToken(resetToken.id);\n        return res.status(400).json({ error: \"Kod sÃ¼resi dolmuÅŸ\" });\n      }\n\n      // Åžifreyi gÃ¼ncelle\n      const hashedPassword = await bcrypt.hash(newPassword, 10);\n      await storage.updateUser(user.id, { password: hashedPassword });\n\n      // Token'Ä± sil\n      await storage.deletePasswordResetToken(resetToken.id);\n\n      return res.json({ message: \"Åžifre baÅŸarÄ±yla deÄŸiÅŸtirildi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Åžifre deÄŸiÅŸtirilemedi\" });\n    }\n  });\n\n  // Private message routes\n  app.post(\"/api/private-messages\", isAuthenticated, isNotBanned, async (req, res) => {\n    try {\n      const { receiverId, message, imageUrl } = req.body;\n      \n      if (!receiverId || (!message && !imageUrl)) {\n        return res.status(400).json({ error: \"AlÄ±cÄ± ve mesaj veya gÃ¶rsel gerekli\" });\n      }\n\n      const receiver = await storage.getUser(receiverId);\n      if (!receiver) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n\n      // Validate image size if provided\n      if (imageUrl) {\n        if (!imageUrl.startsWith('data:image/')) {\n          return res.status(400).json({ error: \"GeÃ§ersiz gÃ¶rsel formatÄ±\" });\n        }\n\n        const base64Data = imageUrl.split(',')[1];\n        if (!base64Data) {\n          return res.status(400).json({ error: \"GeÃ§ersiz gÃ¶rsel verisi\" });\n        }\n\n        const sizeInBytes = (base64Data.length * 3) / 4;\n        const maxSize = 5 * 1024 * 1024; // 5MB\n        \n        if (sizeInBytes > maxSize) {\n          return res.status(400).json({ error: \"GÃ¶rsel boyutu 5MB'den kÃ¼Ã§Ã¼k olmalÄ±dÄ±r\" });\n        }\n      }\n\n      const pm = await storage.sendPrivateMessage({\n        senderId: req.user!.id,\n        receiverId,\n        message,\n        imageUrl: imageUrl || null,\n      });\n\n      return res.json(pm);\n    } catch (error) {\n      return res.status(500).json({ error: \"Mesaj gÃ¶nderilemedi\" });\n    }\n  });\n\n  app.get(\"/api/private-messages/conversations\", isAuthenticated, async (req, res) => {\n    try {\n      const conversations = await storage.getConversations(req.user!.id);\n      return res.json(conversations);\n    } catch (error) {\n      return res.status(500).json({ error: \"KonuÅŸmalar yÃ¼klenemedi\" });\n    }\n  });\n\n  app.get(\"/api/private-messages/unread-count\", isAuthenticated, async (req, res) => {\n    try {\n      const count = await storage.getUnreadMessageCount(req.user!.id);\n      return res.json({ count });\n    } catch (error) {\n      return res.status(500).json({ error: \"SayÄ± alÄ±namadÄ±\" });\n    }\n  });\n\n  app.get(\"/api/private-messages/:otherUserId\", isAuthenticated, async (req, res) => {\n    try {\n      const messages = await storage.getConversationMessages(req.user!.id, req.params.otherUserId);\n      return res.json(messages);\n    } catch (error) {\n      return res.status(500).json({ error: \"Mesajlar yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/private-messages/:messageId/read\", isAuthenticated, async (req, res) => {\n    try {\n      await storage.markMessageAsRead(req.params.messageId);\n      return res.json({ message: \"Mesaj okundu olarak iÅŸaretlendi\" });\n    } catch (error) {\n      return res.status(500).json({ error: \"Ä°ÅŸlem baÅŸarÄ±sÄ±z\" });\n    }\n  });\n\n  // Player statistics routes\n  app.get(\"/api/stats\", async (req, res) => {\n    try {\n      const stats = await storage.getPlayerStats();\n      // Remove sensitive data and add DM/CS (not in database, set to 0)\n      const sanitized = stats.map(user => {\n        const { password, lastIpAddress, ...safe } = user;\n        return {\n          ...safe,\n          dm: 0,\n          cs: 0\n        };\n      });\n      return res.json(sanitized);\n    } catch (error) {\n      return res.status(500).json({ error: \"Ä°statistikler yÃ¼klenemedi\" });\n    }\n  });\n\n  app.patch(\"/api/stats/:userId\", isAdmin, async (req, res) => {\n    try {\n      const { goals, assists, saves, matchTime, offlineTime, rank } = req.body;\n      \n      // Filter out undefined values to prevent NULL constraint violations\n      const updates: any = {};\n      if (goals !== undefined) updates.goals = goals;\n      if (assists !== undefined) updates.assists = assists;\n      if (saves !== undefined) updates.saves = saves;\n      if (matchTime !== undefined) updates.matchTime = matchTime;\n      if (offlineTime !== undefined) updates.offlineTime = offlineTime;\n      if (rank !== undefined) updates.rank = rank;\n      \n      const updated = await storage.updatePlayerStats(req.params.userId, updates);\n      \n      if (!updated) {\n        return res.status(404).json({ error: \"KullanÄ±cÄ± bulunamadÄ±\" });\n      }\n      \n      const { password, ...userWithoutPassword } = updated;\n      return res.json(userWithoutPassword);\n    } catch (error) {\n      return res.status(500).json({ error: \"Ä°statistikler gÃ¼ncellenemedi\" });\n    }\n  });\n\n  // Player detail by username\n  app.get(\"/api/players/:username\", async (req, res) => {\n    try {\n      const player = await storage.getPlayerByUsername(req.params.username);\n      \n      if (!player) {\n        return res.status(404).json({ error: \"Oyuncu bulunamadÄ±\" });\n      }\n\n      // Get all players ranking to calculate position\n      const allPlayers = await storage.getPlayersRanking();\n      const playerIndex = allPlayers.findIndex(p => p.id === player.id);\n      const ranking = playerIndex !== -1 ? playerIndex + 1 : 0;\n\n      // Remove sensitive data\n      const { password, lastIpAddress, ...playerData } = player;\n      \n      return res.json({\n        ...playerData,\n        ranking,\n        totalPlayers: allPlayers.length\n      });\n    } catch (error) {\n      console.error(\"Error in /api/players/:username:\", error);\n      return res.status(500).json({ error: \"Oyuncu detayÄ± yÃ¼klenemedi\" });\n    }\n  });\n\n  // Players ranking\n  app.get(\"/api/players/ranking\", async (req, res) => {\n    try {\n      const ranking = await storage.getPlayersRanking();\n      // Remove sensitive data\n      const sanitized = ranking.map(user => {\n        const { password, lastIpAddress, ...safe } = user;\n        return safe;\n      });\n      return res.json(sanitized);\n    } catch (error) {\n      return res.status(500).json({ error: \"SÄ±ralama yÃ¼klenemedi\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":44796},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/VIPPackageCard.tsx":{"content":"import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check, Shield, Star, Gem } from \"lucide-react\";\n\ninterface VIPPackageCardProps {\n  tier: \"silver\" | \"gold\" | \"diamond\";\n  price: number;\n  features: string[];\n  purchaseLink: string;\n  showDiscordWarning?: boolean;\n}\n\nconst tierConfig = {\n  silver: {\n    icon: Shield,\n    label: \"SILVER VIP\",\n    color: \"text-gray-400\",\n    badgeVariant: \"secondary\" as const,\n  },\n  gold: {\n    icon: Star,\n    label: \"GOLD VIP\",\n    color: \"text-yellow-500\",\n    badgeVariant: \"default\" as const,\n  },\n  diamond: {\n    icon: Gem,\n    label: \"DIAMOND VIP\",\n    color: \"text-blue-400\",\n    badgeVariant: \"default\" as const,\n  },\n};\n\nexport default function VIPPackageCard({ \n  tier, \n  price, \n  features, \n  purchaseLink,\n  showDiscordWarning = false \n}: VIPPackageCardProps) {\n  const config = tierConfig[tier];\n  const Icon = config.icon;\n\n  return (\n    <Card className=\"hover-elevate overflow-visible flex flex-col\">\n      <CardHeader>\n        <div className=\"flex items-center justify-between mb-2\">\n          <Badge variant={config.badgeVariant} className=\"gap-1\" data-testid={`badge-vip-${tier}`}>\n            <Icon className=\"w-4 h-4\" />\n            {config.label}\n          </Badge>\n        </div>\n        <CardTitle className=\"text-3xl font-bold\" data-testid={`text-price-${tier}`}>\n          {price} TL\n        </CardTitle>\n        <CardDescription>AylÄ±k Ã–deme</CardDescription>\n      </CardHeader>\n\n      <CardContent className=\"flex-1\">\n        <ul className=\"space-y-3\">\n          {features.map((feature, index) => (\n            <li key={index} className=\"flex items-start gap-2 text-sm\">\n              <Check className=\"w-4 h-4 text-primary mt-0.5 flex-shrink-0\" />\n              <span data-testid={`text-feature-${tier}-${index}`}>{feature}</span>\n            </li>\n          ))}\n        </ul>\n      </CardContent>\n\n      <CardFooter className=\"flex-col gap-3\">\n        <a href={purchaseLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"w-full\">\n          <Button className=\"w-full hover-elevate active-elevate-2\" data-testid={`button-purchase-${tier}`}>\n            SatÄ±n Al\n          </Button>\n        </a>\n        {showDiscordWarning && (\n          <p className=\"text-xs text-muted-foreground text-center\" data-testid=\"text-discord-warning\">\n            SatÄ±n aldÄ±ktan sonra Discord'dan ticket aÃ§Ä±p sipariÅŸ kodunuzu iletiniz.\n          </p>\n        )}\n      </CardFooter>\n    </Card>\n  );\n}\n","size_bytes":2628},"client/src/components/StatsLeaderboard.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Trophy, Medal } from \"lucide-react\";\n\ninterface PlayerStat {\n  rank: number;\n  playerName: string;\n  value: number;\n}\n\ninterface StatsLeaderboardProps {\n  title: string;\n  stats: PlayerStat[];\n  icon?: React.ReactNode;\n}\n\nexport default function StatsLeaderboard({ title, stats, icon }: StatsLeaderboardProps) {\n  const getRankColor = (rank: number) => {\n    if (rank === 1) return \"text-yellow-500\";\n    if (rank === 2) return \"text-gray-400\";\n    if (rank === 3) return \"text-amber-700\";\n    return \"text-muted-foreground\";\n  };\n\n  const getRankIcon = (rank: number) => {\n    if (rank <= 3) {\n      return <Trophy className={`w-4 h-4 ${getRankColor(rank)}`} />;\n    }\n    return <Medal className=\"w-4 h-4 text-muted-foreground\" />;\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          {icon}\n          <span data-testid=\"text-leaderboard-title\">{title}</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-3\">\n          {stats.map((stat) => (\n            <div\n              key={stat.rank}\n              className=\"flex items-center justify-between p-2 rounded-lg hover-elevate\"\n              data-testid={`row-stat-${stat.rank}`}\n            >\n              <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                <div className=\"flex items-center gap-2\">\n                  {getRankIcon(stat.rank)}\n                  <span className={`font-mono text-sm ${getRankColor(stat.rank)}`} data-testid={`text-rank-${stat.rank}`}>\n                    #{stat.rank}\n                  </span>\n                </div>\n                <span className=\"font-medium truncate\" data-testid={`text-player-${stat.rank}`}>\n                  {stat.playerName}\n                </span>\n              </div>\n              <span className=\"font-bold text-primary\" data-testid={`text-value-${stat.rank}`}>\n                {stat.value}\n              </span>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":2134},"client/src/components/Footer.tsx":{"content":"import { Link } from \"wouter\";\nimport { Home, Users, Trophy, MessageSquare, Shield, Mail, FileText } from \"lucide-react\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"bg-card border-t mt-auto\">\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          {/* HÄ±zlÄ± Linkler */}\n          <div>\n            <h3 className=\"font-bold text-foreground mb-4\">HÄ±zlÄ± Linkler</h3>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/\" className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\">\n                  <Home className=\"w-4 h-4\" />\n                  Ana Sayfa\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/forum\" className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\">\n                  <MessageSquare className=\"w-4 h-4\" />\n                  Forum\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/istatistikler\" className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\">\n                  <Trophy className=\"w-4 h-4\" />\n                  Ä°statistikler\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/vip\" className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\">\n                  <Shield className=\"w-4 h-4\" />\n                  VIP Paketi\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/lig\" className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\">\n                  <FileText className=\"w-4 h-4\" />\n                  Lig\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Sitede Bulunanlar */}\n          <div>\n            <h3 className=\"font-bold text-foreground mb-4\">Sitede Bulunanlar</h3>\n            <ul className=\"space-y-2 text-sm text-muted-foreground\">\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                CanlÄ± Sohbet Sistemi\n              </li>\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                Oyuncu Ä°statistikleri\n              </li>\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                VIP Ãœyelik Sistemi\n              </li>\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                TakÄ±m BaÅŸvuru Sistemi\n              </li>\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                Forum & Topluluk\n              </li>\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                Ã–zel MesajlaÅŸma\n              </li>\n              <li className=\"flex items-center gap-2\">\n                <div className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\n                Lig Sistemi\n              </li>\n            </ul>\n          </div>\n\n          {/* Topluluk & Ä°letiÅŸim */}\n          <div>\n            <h3 className=\"font-bold text-foreground mb-4\">Topluluk</h3>\n            <ul className=\"space-y-2\">\n              <li>\n                <a \n                  href=\"https://discord.gg/haxarena\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\" \n                  className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\"\n                >\n                  <Users className=\"w-4 h-4\" />\n                  Discord Sunucusu\n                </a>\n              </li>\n              <li>\n                <Link href=\"/messages\" className=\"text-muted-foreground hover:text-foreground flex items-center gap-2 text-sm hover-elevate py-1 px-2 rounded-md -ml-2\">\n                  <Mail className=\"w-4 h-4\" />\n                  Mesajlar\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Founder Section */}\n        <div className=\"mt-8 pt-6 border-t\">\n          <div className=\"text-center\">\n            <p className=\"text-sm text-muted-foreground mb-2\">\n              Kurucular\n            </p>\n            <p className=\"text-lg font-bold text-primary\">\n              Alves & LunÃ©\n            </p>\n          </div>\n        </div>\n\n        {/* Copyright */}\n        <div className=\"mt-6 text-center\">\n          <p className=\"text-xs text-muted-foreground\">\n            Â© {new Date().getFullYear()} HaxArena V6 Real Soccer. TÃ¼m haklarÄ± saklÄ±dÄ±r.\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","size_bytes":5215},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"design_guidelines.md":{"content":"# HaxArena V6 Real Soccer - Design Guidelines\n\n## Design Approach\n**Reference-Based Hybrid**: Gaming community aesthetic inspired by Discord, Twitch, and modern gaming platforms, combined with systematic component design for the complex admin and forum features.\n\n**Core Principles**:\n- Dark, immersive gaming environment that reduces eye strain during extended use\n- High contrast elements for quick scanning and action\n- Clear information hierarchy for complex admin and league management features\n- Turkish-first design with appropriate typography and spacing for Turkish characters\n\n---\n\n## Color Palette\n\n**Dark Mode (Primary)**:\n- Background Base: `0 0% 8%` (near black)\n- Background Elevated: `0 0% 12%` (cards, panels)\n- Background Hover: `0 0% 16%` (interactive surfaces)\n- Primary Accent: `192 66% 57%` (#4cadd0 - cyan/turquoise for all buttons)\n- Primary Accent Hover: `192 66% 47%` (darker cyan on hover)\n- Text Primary: `0 0% 95%` (high contrast white)\n- Text Secondary: `0 0% 70%` (muted gray for labels)\n- Text Muted: `0 0% 50%` (disabled/placeholder)\n- Border: `0 0% 20%` (subtle divisions)\n- Success: `142 71% 45%` (approvals, online status)\n- Warning: `38 92% 50%` (pending states)\n- Danger: `0 72% 51%` (rejections, delete actions)\n\n**VIP Badge Colors** (as accent highlights):\n- Silver VIP: `0 0% 75%` (cool silver)\n- Gold VIP: `45 93% 58%` (gold)\n- Diamond VIP: `193 82% 75%` (diamond blue)\n\n---\n\n## Typography\n\n**Font Families**:\n- Primary: 'Inter', 'Segoe UI', system-ui, sans-serif (clean, gaming-appropriate)\n- Headings: 'Rajdhana', 'Inter', sans-serif (bold, gaming aesthetic for Turkish characters)\n- Monospace: 'JetBrains Mono', 'Consolas', monospace (stats, codes)\n\n**Type Scale**:\n- Hero Title: text-5xl md:text-6xl font-bold (HaxArena V6 welcome)\n- Page Heading: text-3xl md:text-4xl font-bold\n- Section Heading: text-2xl font-semibold\n- Card Title: text-xl font-semibold\n- Body: text-base (16px)\n- Small: text-sm\n- Label: text-xs font-medium uppercase tracking-wide\n\n---\n\n## Layout System\n\n**Spacing Primitives**: Use Tailwind units of 2, 4, 6, 8, 12, 16 for consistent rhythm\n- Component padding: p-4, p-6, p-8\n- Section spacing: py-12, py-16, py-20\n- Card gaps: gap-4, gap-6, gap-8\n- Container max-width: max-w-7xl\n\n**Grid Systems**:\n- Admin dashboard: 12-column grid for complex layouts\n- Forum posts: Single column max-w-4xl for readability\n- Active rooms: grid-cols-1 md:grid-cols-2 lg:grid-cols-4\n- VIP packages: grid-cols-1 md:grid-cols-3\n- Stats tables: Full-width responsive tables with horizontal scroll\n\n---\n\n## Component Library\n\n### Navigation\n- **Main Header**: Fixed top, dark background with subtle border-bottom, logo left, Discord link right, primary nav center\n- **Sidebar** (Admin Panel): Collapsible left sidebar 256px width, icon + label navigation, active state with cyan accent\n- **Footer**: Dark background, 3-column layout (links, admin roster preview, online users count)\n\n### Cards & Containers\n- **Active Room Card**: Elevated background, cyan border-left-4, match name bold, link button cyan, hover lift effect\n- **VIP Package Card**: Elevated bg, VIP tier icon, feature list with checkmarks, price prominent, Shopier link button\n- **Forum Post Card**: Border-bottom divider, avatar left, post content right, timestamp muted text\n- **Admin Application Card**: Two-column layout, Q&A pairs, approve/reject buttons at bottom\n\n### Forms\n- **Input Fields**: Dark bg-elevated, cyan focus ring, white text, muted placeholder\n- **Text Areas**: Min-height 120px for admin messages, 200px for applications\n- **Dropdowns**: Dark dropdown menu with hover states\n- **File Upload**: Drag-drop zone for team logos (PNG), preview thumbnail\n- **Buttons**: \n  - Primary: bg-cyan (#4cadd0), white text, rounded-lg, hover:brightness-90\n  - Secondary: border-cyan, text-cyan, bg-transparent, hover:bg-cyan/10\n  - Danger: bg-red, white text (delete, reject actions)\n  - Ghost: text-cyan, hover:bg-cyan/10 (cancel, back actions)\n\n### Tables & Lists\n- **League Standings**: Alternating row bg, team logo 32px, rank bold, stats columns right-aligned\n- **Top 10 Lists**: Numbered list, player name left, stats right, top 3 highlighted with subtle gradient\n- **Admin Roster**: Role badges with distinct colors, names as tags, editable inline\n- **Fixture Table**: Match pairs in rows, date/time left, teams center, edit icon right\n\n### Modals & Overlays\n- **Approval Dialog**: Centered modal, dark backdrop blur, admin message textarea, dual action buttons\n- **Confirmation Dialog**: Small centered card, warning icon, clear action buttons\n- **Toast Notifications**: Top-right, auto-dismiss, color-coded by type (success/warning/error)\n\n### Forum Specific\n- **Category Header**: Cyan accent border-left, category icon, post count badge\n- **Post Composer**: Full-width textarea, formatting toolbar (bold, link), character count, post button cyan\n- **Thread View**: Nested replies with indent, OP badge, admin badge, archived state with lock icon\n- **Archive Indicator**: Muted background, lock icon, \"ArÅŸivlendi\" label\n\n### Admin Panel\n- **Dashboard Cards**: Stats widgets with icons, numbers prominent, trend indicators\n- **Action Tables**: Bulk selection, filter bar, action dropdown per row\n- **Edit Panels**: Side drawer 400px, form fields stacked, save/cancel sticky footer\n\n---\n\n## Special Features\n\n### Active Rooms Display\n- Grid layout with room cards\n- Match name as heading (e.g., \"BeÅŸiktaÅŸ vs Trabzonspor\")\n- Live indicator (green dot) if room active\n- HaxBall link button prominent, cyan color\n- Admin edit icon (pencil) top-right corner for authorized users\n\n### VIP System\n- Three-tier showcase with visual hierarchy (Silver â†’ Gold â†’ Diamond)\n- Feature lists with icon bullets\n- Price display: Large TL amount, \"SatÄ±n Al\" button\n- Discord ticket reminder alert below Diamond package\n- Hover card effect with subtle lift and glow\n\n### League Management\n- Fixture calendar view with week navigation\n- Drag-drop match rescheduling (admin only)\n- Auto-calculated standings with goal difference, points\n- Team logo + name in all views\n- Top 10 statistics with podium highlighting (1st gold, 2nd silver, 3rd bronze accent)\n\n### Online Users\n- Compact list in footer or sidebar\n- Avatar thumbnails 24px\n- Username truncated if needed\n- Role badge (admin, VIP tier) as colored dot\n- \"Ã‡evrimiÃ§i: X kullanÄ±cÄ±\" header\n\n---\n\n## Images\n\n**Hero Section**: Full-width background image (1920x600px) showing HaxBall gameplay or stadium atmosphere with dark overlay for text readability. Welcome message \"HaxArena V6 Real Soccer'e HoÅŸ Geldiniz\" overlaid center with cyan accent underline.\n\n**VIP Package Icons**: Use icon library (Heroicons) for tier badges - shield for Silver, star for Gold, gem for Diamond. No custom SVG needed.\n\n**Team Logos**: User-uploaded PNG files, displayed at 48px (list view) and 96px (detail view), with fallback placeholder if missing.\n\n**Background Patterns**: Subtle grid or hex pattern overlay on dark backgrounds for depth, 5% opacity.\n\n---\n\n## Responsive Behavior\n- Mobile: Stack all multi-column layouts, collapsible sidebar becomes bottom nav or hamburger menu\n- Tablet: 2-column grid for rooms/VIP, single column forum\n- Desktop: Full multi-column layouts, fixed sidebar, expanded tables\n\n---\n\n## Accessibility & Turkish Language\n- High contrast text (WCAG AAA for body text)\n- Focus indicators always visible (cyan ring)\n- Keyboard navigation for all interactive elements\n- Proper Turkish character support in all fonts\n- Form labels in Turkish with clear validation messages\n- Screen reader labels for icon-only buttons","size_bytes":7604},"client/src/pages/password-reset-page.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Link } from \"wouter\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function PasswordResetPage() {\n  const [username, setUsername] = useState(\"\");\n  const [token, setToken] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleReset = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (newPassword !== confirmPassword) {\n      toast({\n        title: \"Hata\",\n        description: \"Åžifreler eÅŸleÅŸmiyor\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (newPassword.length < 6) {\n      toast({\n        title: \"Hata\",\n        description: \"Åžifre en az 6 karakter olmalÄ±\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/password-reset/verify\", {\n        method: \"POST\",\n        body: JSON.stringify({ username, token, newPassword }),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"Hata\",\n          description: error.error || \"Åžifre sÄ±fÄ±rlanamadÄ±\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      toast({\n        title: \"BaÅŸarÄ±lÄ±\",\n        description: \"Åžifreniz deÄŸiÅŸtirildi. GiriÅŸ yapabilirsiniz.\",\n      });\n      \n      setTimeout(() => {\n        window.location.href = \"/giris\";\n      }, 1500);\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu, lÃ¼tfen tekrar deneyin\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center p-8\">\n      <div className=\"w-full max-w-md\">\n        <Link href=\"/\" className=\"flex items-center justify-center mb-8\">\n          <div className=\"text-3xl font-heading font-bold text-primary\">\n            HaxArena V6\n          </div>\n        </Link>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Åžifre SÄ±fÄ±rlama</CardTitle>\n            <CardDescription>\n              YÃ¶neticiden aldÄ±ÄŸÄ±nÄ±z kodu kullanarak ÅŸifrenizi sÄ±fÄ±rlayÄ±n\n            </CardDescription>\n          </CardHeader>\n          <form onSubmit={handleReset}>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"reset-username\">KullanÄ±cÄ± AdÄ±</Label>\n                <Input\n                  id=\"reset-username\"\n                  type=\"text\"\n                  placeholder=\"KullanÄ±cÄ± adÄ±nÄ±zÄ± girin\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  required\n                  data-testid=\"input-reset-username\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"reset-token\">SÄ±fÄ±rlama Kodu</Label>\n                <Input\n                  id=\"reset-token\"\n                  type=\"text\"\n                  placeholder=\"6 haneli kodu girin\"\n                  value={token}\n                  onChange={(e) => setToken(e.target.value)}\n                  required\n                  maxLength={6}\n                  data-testid=\"input-reset-token\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"reset-new-password\">Yeni Åžifre</Label>\n                <Input\n                  id=\"reset-new-password\"\n                  type=\"password\"\n                  placeholder=\"Yeni ÅŸifrenizi girin\"\n                  value={newPassword}\n                  onChange={(e) => setNewPassword(e.target.value)}\n                  required\n                  data-testid=\"input-reset-new-password\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"reset-confirm-password\">Yeni Åžifre (Tekrar)</Label>\n                <Input\n                  id=\"reset-confirm-password\"\n                  type=\"password\"\n                  placeholder=\"Yeni ÅŸifrenizi tekrar girin\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  required\n                  data-testid=\"input-reset-confirm-password\"\n                />\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex flex-col space-y-4\">\n              <Button \n                type=\"submit\" \n                className=\"w-full\" \n                data-testid=\"button-reset-password\"\n                disabled={isLoading}\n              >\n                {isLoading ? \"Åžifre deÄŸiÅŸtiriliyor...\" : \"Åžifreyi DeÄŸiÅŸtir\"}\n              </Button>\n              <div className=\"text-sm text-center text-muted-foreground\">\n                GiriÅŸ yapmak iÃ§in{\" \"}\n                <Link href=\"/giris\" className=\"text-primary hover:underline\">\n                  buraya tÄ±klayÄ±n\n                </Link>\n              </div>\n            </CardFooter>\n          </form>\n        </Card>\n      </div>\n    </div>\n  );\n}\n","size_bytes":5578},"client/src/pages/messages-page.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useLocation } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Send, MessageSquare, UserPlus, Search, Image as ImageIcon, X } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { tr } from \"date-fns/locale\";\n\ntype User = {\n  id: string;\n  username: string;\n  playerRole?: string;\n};\n\ntype PrivateMessage = {\n  id: string;\n  senderId: string;\n  receiverId: string;\n  message: string;\n  imageUrl?: string | null;\n  isRead: boolean;\n  createdAt: string;\n  sender: User;\n  receiver: User;\n};\n\ntype Conversation = {\n  otherUser: User;\n  lastMessage: PrivateMessage;\n  unreadCount: number;\n};\n\nexport default function MessagesPage() {\n  const { user, logout } = useAuth();\n  const [, navigate] = useLocation();\n  const { toast } = useToast();\n  const [selectedUserId, setSelectedUserId] = useState<string | null>(null);\n  const [messageText, setMessageText] = useState(\"\");\n  const [messageImageUrl, setMessageImageUrl] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n  const { data: conversations = [], isLoading: conversationsLoading } = useQuery<Conversation[]>({\n    queryKey: [\"/api/private-messages/conversations\"],\n    enabled: !!user,\n  });\n\n  const { data: messages = [], isLoading: messagesLoading } = useQuery<PrivateMessage[]>({\n    queryKey: [`/api/private-messages/${selectedUserId}`],\n    enabled: !!selectedUserId && !!user,\n    refetchOnMount: true,\n    staleTime: 0,\n  });\n\n  const { data: searchResults = [], isLoading: searchLoading } = useQuery<User[]>({\n    queryKey: [`/api/users/search?query=${searchQuery}`],\n    enabled: !!searchQuery && searchQuery.length >= 2,\n  });\n\n  const sendMessageMutation = useMutation({\n    mutationFn: async (data: { receiverId: string; message: string; imageUrl?: string | null }) => {\n      return await apiRequest(\"POST\", \"/api/private-messages\", data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/private-messages/${selectedUserId}`] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/private-messages/conversations\"] });\n      setMessageText(\"\");\n      setMessageImageUrl(null);\n    },\n    onError: () => {\n      toast({\n        title: \"Hata\",\n        description: \"Mesaj gÃ¶nderilemedi\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const markAsReadMutation = useMutation({\n    mutationFn: async (messageId: string) => {\n      return await apiRequest(\"PATCH\", `/api/private-messages/${messageId}/read`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [`/api/private-messages/${selectedUserId}`] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/private-messages/conversations\"] });\n    },\n  });\n\n  const handleSendMessage = () => {\n    if ((!messageText.trim() && !messageImageUrl) || !selectedUserId) return;\n    sendMessageMutation.mutate({ \n      receiverId: selectedUserId, \n      message: messageText,\n      imageUrl: messageImageUrl \n    });\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Check file size (5MB limit)\n    if (file.size > 5 * 1024 * 1024) {\n      toast({\n        title: \"Dosya Boyutu HatasÄ±\",\n        description: \"GÃ¶rsel boyutu 5MB'den kÃ¼Ã§Ã¼k olmalÄ±dÄ±r\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      setMessageImageUrl(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const removeImage = () => {\n    setMessageImageUrl(null);\n  };\n\n  const handleSelectConversation = (userId: string) => {\n    setSelectedUserId(userId);\n  };\n\n  const handleSelectUser = (userId: string) => {\n    setSelectedUserId(userId);\n    setIsDialogOpen(false);\n    setSearchQuery(\"\");\n  };\n\n  // Mark unread messages as read when switching conversations  \n  useEffect(() => {\n    if (messages.length > 0 && selectedUserId && user) {\n      const unreadMessages = messages.filter(\n        (m) => m.senderId === selectedUserId && m.receiverId === user.id && !m.isRead\n      );\n      \n      if (unreadMessages.length > 0) {\n        // Mark all unread messages (note: this may send multiple requests)\n        unreadMessages.forEach((m) => markAsReadMutation.mutate(m.id));\n      }\n    }\n  }, [selectedUserId]);\n\n  if (!user) {\n    return (\n      <div className=\"flex flex-col min-h-screen\">\n        <Header user={null} onLogout={logout} />\n        <main className=\"flex-1 py-12\">\n          <div className=\"container mx-auto px-4 text-center\">\n            <p className=\"text-muted-foreground\">MesajlarÄ± gÃ¶rmek iÃ§in giriÅŸ yapmanÄ±z gerekmektedir.</p>\n            <Button className=\"mt-4\" onClick={() => navigate(\"/login\")} data-testid=\"button-login\">\n              GiriÅŸ Yap\n            </Button>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  const selectedConversation = conversations.find((c) => c.otherUser.id === selectedUserId);\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      <main className=\"flex-1 py-8\">\n        <div className=\"container mx-auto px-4 max-w-7xl\">\n          <h1 className=\"text-3xl font-heading font-bold mb-6 flex items-center gap-2\">\n            <MessageSquare className=\"w-8 h-8\" />\n            Ã–zel Mesajlar\n          </h1>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {/* Conversations List */}\n            <Card className=\"md:col-span-1\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between gap-2\">\n                  <h2 className=\"text-xl font-semibold\">KonuÅŸmalar</h2>\n                  <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n                    <DialogTrigger asChild>\n                      <Button size=\"sm\" variant=\"outline\" data-testid=\"button-new-message\">\n                        <UserPlus className=\"w-4 h-4 mr-1\" />\n                        Yeni Mesaj\n                      </Button>\n                    </DialogTrigger>\n                    <DialogContent>\n                      <DialogHeader>\n                        <DialogTitle>Yeni Mesaj GÃ¶nder</DialogTitle>\n                      </DialogHeader>\n                      <div className=\"space-y-4\">\n                        <div className=\"relative\">\n                          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                          <Input\n                            placeholder=\"KullanÄ±cÄ± adÄ± ara...\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            className=\"pl-10\"\n                            data-testid=\"input-search-user\"\n                          />\n                        </div>\n                        <div className=\"max-h-64 overflow-y-auto space-y-2\">\n                          {searchLoading ? (\n                            <p className=\"text-center text-muted-foreground\">AranÄ±yor...</p>\n                          ) : searchQuery.length < 2 ? (\n                            <p className=\"text-center text-muted-foreground\">En az 2 karakter girin</p>\n                          ) : searchResults.length === 0 ? (\n                            <p className=\"text-center text-muted-foreground\">KullanÄ±cÄ± bulunamadÄ±</p>\n                          ) : (\n                            searchResults\n                              .filter((u) => u.id !== user?.id)\n                              .map((searchUser) => (\n                                <div\n                                  key={searchUser.id}\n                                  className=\"p-3 rounded-md cursor-pointer hover-elevate active-elevate-2\"\n                                  onClick={() => handleSelectUser(searchUser.id)}\n                                  data-testid={`user-result-${searchUser.id}`}\n                                >\n                                  <div className=\"flex items-center gap-2\">\n                                    <Avatar className=\"w-8 h-8\">\n                                      <AvatarFallback>{searchUser.username[0].toUpperCase()}</AvatarFallback>\n                                    </Avatar>\n                                    <div className=\"flex-1\">\n                                      <p className=\"font-medium text-sm\">{searchUser.username}</p>\n                                      {searchUser.playerRole && (\n                                        <Badge variant=\"outline\" className=\"text-xs\">\n                                          {searchUser.playerRole}\n                                        </Badge>\n                                      )}\n                                    </div>\n                                  </div>\n                                </div>\n                              ))\n                          )}\n                        </div>\n                      </div>\n                    </DialogContent>\n                  </Dialog>\n                </div>\n              </CardHeader>\n              <CardContent>\n                {conversationsLoading ? (\n                  <p className=\"text-muted-foreground text-center\">YÃ¼kleniyor...</p>\n                ) : conversations.length === 0 ? (\n                  <p className=\"text-muted-foreground text-center\">HenÃ¼z mesaj yok</p>\n                ) : (\n                  <div className=\"space-y-2\">\n                    {conversations.map((conv) => (\n                      <div\n                        key={conv.otherUser.id}\n                        className={`p-3 rounded-md cursor-pointer hover-elevate active-elevate-2 ${\n                          selectedUserId === conv.otherUser.id ? \"bg-accent\" : \"\"\n                        }`}\n                        onClick={() => handleSelectConversation(conv.otherUser.id)}\n                        data-testid={`conversation-${conv.otherUser.id}`}\n                      >\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <Avatar className=\"w-8 h-8\">\n                            <AvatarFallback>{conv.otherUser.username[0].toUpperCase()}</AvatarFallback>\n                          </Avatar>\n                          <div className=\"flex-1\">\n                            <p className=\"font-medium text-sm\">{conv.otherUser.username}</p>\n                            {conv.otherUser.playerRole && (\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                {conv.otherUser.playerRole}\n                              </Badge>\n                            )}\n                          </div>\n                          {conv.unreadCount > 0 && (\n                            <Badge variant=\"default\" className=\"bg-primary\">\n                              {conv.unreadCount}\n                            </Badge>\n                          )}\n                        </div>\n                        <p className=\"text-xs text-muted-foreground truncate\">\n                          {conv.lastMessage.message}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {formatDistanceToNow(new Date(conv.lastMessage.createdAt), {\n                            addSuffix: true,\n                            locale: tr,\n                          })}\n                        </p>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Message Thread */}\n            <Card className=\"md:col-span-2\">\n              <CardHeader>\n                <h2 className=\"text-xl font-semibold\">\n                  {selectedConversation ? selectedConversation.otherUser.username : \"Mesajlar\"}\n                </h2>\n              </CardHeader>\n              <CardContent>\n                {!selectedUserId ? (\n                  <p className=\"text-muted-foreground text-center\">\n                    MesajlarÄ± gÃ¶rmek iÃ§in bir konuÅŸma seÃ§in\n                  </p>\n                ) : messagesLoading ? (\n                  <p className=\"text-muted-foreground text-center\">YÃ¼kleniyor...</p>\n                ) : (\n                  <>\n                    <div className=\"space-y-3 mb-4 max-h-96 overflow-y-auto\">\n                      {messages.map((msg) => (\n                        <div\n                          key={msg.id}\n                          className={`flex ${msg.senderId === user.id ? \"justify-end\" : \"justify-start\"}`}\n                          data-testid={`message-${msg.id}`}\n                        >\n                          <div\n                            className={`max-w-[70%] p-3 rounded-md ${\n                              msg.senderId === user.id\n                                ? \"bg-primary text-primary-foreground\"\n                                : \"bg-muted\"\n                            }`}\n                          >\n                            {msg.message && (\n                              <p className=\"text-sm whitespace-pre-wrap\">{msg.message}</p>\n                            )}\n                            {msg.imageUrl && (\n                              <img \n                                src={msg.imageUrl} \n                                alt=\"Message attachment\" \n                                className=\"max-w-full h-auto rounded-md mt-2\"\n                                data-testid={`img-message-${msg.id}`}\n                              />\n                            )}\n                            <p className=\"text-xs mt-1 opacity-70\">\n                              {formatDistanceToNow(new Date(msg.createdAt), {\n                                addSuffix: true,\n                                locale: tr,\n                              })}\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n\n                    <div className=\"space-y-3\">\n                      {messageImageUrl && (\n                        <div className=\"relative inline-block\">\n                          <img \n                            src={messageImageUrl} \n                            alt=\"Preview\" \n                            className=\"max-w-full h-auto max-h-48 rounded-md\"\n                            data-testid=\"img-message-preview\"\n                          />\n                          <Button\n                            type=\"button\"\n                            variant=\"destructive\"\n                            size=\"icon\"\n                            className=\"absolute top-2 right-2\"\n                            onClick={removeImage}\n                            data-testid=\"button-remove-message-image\"\n                          >\n                            <X className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      )}\n                      <div className=\"flex gap-2\">\n                        <div className=\"flex-1 space-y-2\">\n                          <Textarea\n                            value={messageText}\n                            onChange={(e) => setMessageText(e.target.value)}\n                            placeholder=\"MesajÄ±nÄ±zÄ± yazÄ±n...\"\n                            rows={3}\n                            onKeyDown={(e) => {\n                              if (e.key === \"Enter\" && !e.shiftKey) {\n                                e.preventDefault();\n                                handleSendMessage();\n                              }\n                            }}\n                            data-testid=\"textarea-message\"\n                          />\n                          <div className=\"flex items-center gap-2\">\n                            <Input\n                              type=\"file\"\n                              accept=\"image/*\"\n                              onChange={handleImageUpload}\n                              className=\"hidden\"\n                              id=\"message-image-upload\"\n                              data-testid=\"input-message-image\"\n                            />\n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => document.getElementById('message-image-upload')?.click()}\n                              data-testid=\"button-upload-message-image\"\n                            >\n                              <ImageIcon className=\"w-4 h-4 mr-2\" />\n                              GÃ¶rsel Ekle\n                            </Button>\n                          </div>\n                        </div>\n                        <Button\n                          onClick={handleSendMessage}\n                          disabled={sendMessageMutation.isPending || (!messageText.trim() && !messageImageUrl)}\n                          size=\"icon\"\n                          data-testid=\"button-send-message\"\n                        >\n                          <Send className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":18244},"client/src/pages/statistics-page.tsx":{"content":"import { useState } from \"react\";\nimport { useAuth } from \"@/lib/auth\";\nimport { useLocation } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card } from \"@/components/ui/card\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Trophy, Target, Shield, Clock, Crown, ListOrdered, Crosshair, Award } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\ninterface PlayerStats {\n  username: string;\n  rank: string;\n  goals: number;\n  assists: number;\n  saves: number;\n  matchTime: number;\n  matchesPlayed: number;\n  dm: number;\n  cs: number;\n}\n\ntype ViewCategory = 'best6' | 'goals' | 'assists' | 'dm' | 'cs' | 'saves' | 'matchTime' | 'top25';\n\n// Test verileri (gerÃ§ek database yerine)\nconst testPlayers: PlayerStats[] = [\n  { username: \"Oyuncu1\", rank: \"Elmas\", goals: 245, assists: 180, saves: 95, matchTime: 864000, matchesPlayed: 420, dm: 35, cs: 28 },\n  { username: \"Oyuncu2\", rank: \"Platin\", goals: 198, assists: 165, saves: 88, matchTime: 720000, matchesPlayed: 380, dm: 30, cs: 25 },\n  { username: \"Oyuncu3\", rank: \"AltÄ±n\", goals: 175, assists: 145, saves: 82, matchTime: 648000, matchesPlayed: 350, dm: 28, cs: 22 },\n  { username: \"Oyuncu4\", rank: \"GÃ¼mÃ¼ÅŸ\", goals: 152, assists: 130, saves: 75, matchTime: 576000, matchesPlayed: 320, dm: 25, cs: 20 },\n  { username: \"Oyuncu5\", rank: \"Bronz\", goals: 138, assists: 118, saves: 68, matchTime: 504000, matchesPlayed: 290, dm: 22, cs: 18 },\n  { username: \"Oyuncu6\", rank: \"Bronz\", goals: 125, assists: 105, saves: 62, matchTime: 432000, matchesPlayed: 260, dm: 20, cs: 16 },\n  { username: \"Oyuncu7\", rank: \"Elmas\", goals: 118, assists: 98, saves: 58, matchTime: 396000, matchesPlayed: 245, dm: 18, cs: 15 },\n  { username: \"Oyuncu8\", rank: \"Platin\", goals: 105, assists: 88, saves: 52, matchTime: 360000, matchesPlayed: 230, dm: 16, cs: 14 },\n  { username: \"Oyuncu9\", rank: \"AltÄ±n\", goals: 95, assists: 78, saves: 48, matchTime: 324000, matchesPlayed: 215, dm: 15, cs: 12 },\n  { username: \"Oyuncu10\", rank: \"GÃ¼mÃ¼ÅŸ\", goals: 88, assists: 72, saves: 45, matchTime: 288000, matchesPlayed: 200, dm: 14, cs: 11 },\n];\n\nexport default function StatisticsPage() {\n  const { user, logout } = useAuth();\n  const [, navigate] = useLocation();\n  const [activeView, setActiveView] = useState<ViewCategory>('best6');\n\n  // Test verileri kullan\n  const allPlayers = testPlayers;\n  const isLoading = false;\n\n  // Format seconds to detailed Turkish time format (ALWAYS shows ALL components)\n  const formatTime = (seconds: number) => {\n    let remainder = seconds;\n    \n    const weeks = Math.floor(remainder / (7 * 24 * 3600));\n    remainder = remainder % (7 * 24 * 3600);\n    \n    const days = Math.floor(remainder / (24 * 3600));\n    remainder = remainder % (24 * 3600);\n    \n    const hours = Math.floor(remainder / 3600);\n    remainder = remainder % 3600;\n    \n    const minutes = Math.floor(remainder / 60);\n    const secs = remainder % 60;\n\n    const parts = [];\n    parts.push(`${weeks} hafta`);\n    parts.push(`${days} gÃ¼n`);\n    parts.push(`${hours} saat`);\n    parts.push(`${minutes} dakika`);\n    parts.push(`${secs} saniye`);\n\n    return parts.join(' ');\n  };\n\n  // Get players based on active view\n  const getPlayers = () => {\n    if (activeView === 'best6') {\n      // Best 6: TOP 25 genel sÄ±ralamasÄ±ndan ilk 6 kiÅŸi (gol bazlÄ±)\n      return [...allPlayers]\n        .sort((a, b) => b.goals - a.goals)\n        .slice(0, 6);\n    } else if (activeView === 'top25') {\n      // TOP 25: TÃ¼m oyuncular\n      return allPlayers.slice(0, 25);\n    } else {\n      // Kategorilere gÃ¶re top 10\n      return [...allPlayers]\n        .sort((a, b) => b[activeView] - a[activeView])\n        .slice(0, 10);\n    }\n  };\n\n  // Get table title based on active view\n  const getTableTitle = () => {\n    const titles = {\n      best6: 'Best 6',\n      goals: 'Gol - Top 10',\n      assists: 'Asist - Top 10',\n      dm: 'DM - Top 10',\n      cs: 'CS - Top 10',\n      saves: 'KurtarÄ±ÅŸ - Top 10',\n      matchTime: 'SÃ¼re - Top 10',\n      top25: 'TOP 25'\n    };\n    return titles[activeView];\n  };\n\n  // Get table icon based on active view\n  const getTableIcon = () => {\n    const icons = {\n      best6: Crown,\n      goals: Trophy,\n      assists: Target,\n      dm: Crosshair,\n      cs: Award,\n      saves: Shield,\n      matchTime: Clock,\n      top25: ListOrdered\n    };\n    return icons[activeView];\n  };\n\n  const players = getPlayers();\n  const tableTitle = getTableTitle();\n  const TableIcon = getTableIcon();\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 py-8 space-y-8\">\n          {/* Page title */}\n          <div>\n            <h1 className=\"text-3xl font-bold text-foreground\">Ä°STATÄ°STÄ°KLER</h1>\n            <p className=\"text-muted-foreground mt-2\">Kategorilere gÃ¶re sÄ±ralamalar</p>\n          </div>\n\n          {/* Category Tabs */}\n          <Tabs value={activeView} onValueChange={(v) => setActiveView(v as ViewCategory)}>\n            <TabsList className=\"grid grid-cols-4 md:grid-cols-8 w-full mb-6\">\n              <TabsTrigger value=\"best6\" className=\"gap-1\" data-testid=\"tab-best6\">\n                ðŸ‘‘ <span className=\"hidden sm:inline\">Best 6</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"goals\" className=\"gap-1\" data-testid=\"tab-goals\">\n                âš½ <span className=\"hidden sm:inline\">Gol</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"assists\" className=\"gap-1\" data-testid=\"tab-assists\">\n                ðŸŽ¯ <span className=\"hidden sm:inline\">Asist</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"dm\" className=\"gap-1\" data-testid=\"tab-dm\">\n                ðŸ›¡ï¸ <span className=\"hidden sm:inline\">DM</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"cs\" className=\"gap-1\" data-testid=\"tab-cs\">\n                ðŸ¥… <span className=\"hidden sm:inline\">CS</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"saves\" className=\"gap-1\" data-testid=\"tab-saves\">\n                ðŸ§¤ <span className=\"hidden sm:inline\">KurtarÄ±ÅŸ</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"matchTime\" className=\"gap-1\" data-testid=\"tab-matchtime\">\n                â±ï¸ <span className=\"hidden sm:inline\">SÃ¼re</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"top25\" className=\"gap-1\" data-testid=\"tab-top25\">\n                ðŸ† <span className=\"hidden sm:inline\">TOP 25</span>\n              </TabsTrigger>\n            </TabsList>\n          </Tabs>\n\n          {/* Statistics Table */}\n          <Card className=\"overflow-hidden\">\n              <div className=\"p-4 bg-muted/50 border-b\">\n                <h3 className=\"font-bold text-foreground flex items-center gap-2\">\n                  <TableIcon className=\"w-5 h-5 text-primary\" />\n                  {tableTitle}\n                </h3>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-muted/50 border-b\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-foreground\">#</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-foreground\">KullanÄ±cÄ± AdÄ±</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-foreground\">RÃ¼tbe</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">Oynanan MaÃ§</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">âš½ Gol</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">ðŸŽ¯ Asist</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">ðŸ›¡ï¸ DM</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">ðŸ¥… CS</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">ðŸ§¤ KurtarÄ±ÅŸ</th>\n                      <th className=\"px-4 py-3 text-center text-sm font-semibold text-foreground\">â±ï¸ SÃ¼re</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {players.length === 0 ? (\n                      <tr>\n                        <td colSpan={10} className=\"text-center py-8 text-muted-foreground\">\n                          HenÃ¼z istatistik bulunmuyor\n                        </td>\n                      </tr>\n                    ) : (\n                    players.map((player, index) => (\n                      <tr \n                        key={index} \n                        className=\"border-b hover-elevate\"\n                        data-testid={`row-player-${index}`}\n                      >\n                        <td className=\"px-4 py-3 text-sm font-medium text-muted-foreground\">\n                          {index + 1}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm font-medium\">\n                          <Link \n                            href={`/oyuncu/${player.username}`} \n                            className=\"text-primary hover:underline cursor-pointer\"\n                            data-testid={`link-player-${index}`}\n                          >\n                            {player.username}\n                          </Link>\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-muted-foreground\">\n                          {player.rank}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center text-foreground\" data-testid={`text-player-matches-${index}`}>\n                          {player.matchesPlayed}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center font-semibold text-foreground\" data-testid={`text-player-goals-${index}`}>\n                          {player.goals}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center text-foreground\" data-testid={`text-player-assists-${index}`}>\n                          {player.assists}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center text-foreground\" data-testid={`text-player-dm-${index}`}>\n                          {player.dm || 0}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center text-foreground\" data-testid={`text-player-cs-${index}`}>\n                          {player.cs || 0}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center text-foreground\" data-testid={`text-player-saves-${index}`}>\n                          {player.saves}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-center text-foreground\" data-testid={`text-player-playtime-${index}`}>\n                          {formatTime(player.matchTime)}\n                        </td>\n                      </tr>\n                    ))\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </Card>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":11445},"client/src/pages/management-login-page.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useAuth } from \"@/lib/auth\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Shield } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function ManagementLoginPage() {\n  const [, navigate] = useLocation();\n  const { user } = useAuth();\n  const { toast } = useToast();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  // If already logged in as admin, redirect to management panel\n  useEffect(() => {\n    if (user?.isAdmin || user?.isSuperAdmin) {\n      navigate(\"/yonetim\");\n    }\n  }, [user, navigate]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        body: JSON.stringify({ username, password }),\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast({\n          title: \"GiriÅŸ BaÅŸarÄ±sÄ±z\",\n          description: error.error || \"KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±\",\n          variant: \"destructive\",\n        });\n        setIsLoading(false);\n        return;\n      }\n\n      const userData = await response.json();\n      \n      // Check if user is super admin\n      if (!userData.isSuperAdmin) {\n        toast({\n          title: \"Yetkisiz EriÅŸim\",\n          description: \"Sadece sÃ¼per adminler yÃ¶netim paneline eriÅŸebilir\",\n          variant: \"destructive\",\n        });\n        setIsLoading(false);\n        return;\n      }\n\n      // Update auth context\n      queryClient.setQueryData([\"/api/auth/me\"], userData);\n      \n      // Redirect to management panel\n      toast({\n        title: \"GiriÅŸ BaÅŸarÄ±lÄ±\",\n        description: \"YÃ¶netim paneline yÃ¶nlendiriliyorsunuz\",\n      });\n      navigate(\"/yonetim\");\n    } catch (error) {\n      toast({\n        title: \"Hata\",\n        description: \"Bir hata oluÅŸtu\",\n        variant: \"destructive\",\n      });\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background px-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"p-3 rounded-lg bg-primary/10\">\n              <Shield className=\"w-8 h-8 text-primary\" />\n            </div>\n          </div>\n          <CardTitle className=\"text-2xl\">YÃ¶netim Paneli GiriÅŸi</CardTitle>\n          <CardDescription>\n            YÃ¶netim paneline eriÅŸmek iÃ§in admin hesabÄ±nÄ±zla giriÅŸ yapÄ±n\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"username\" className=\"text-sm font-medium\">\n                KullanÄ±cÄ± AdÄ±\n              </label>\n              <Input\n                id=\"username\"\n                type=\"text\"\n                placeholder=\"Admin kullanÄ±cÄ± adÄ±nÄ±z\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n                data-testid=\"input-management-username\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"password\" className=\"text-sm font-medium\">\n                Åžifre\n              </label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"Admin ÅŸifreniz\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                data-testid=\"input-management-password\"\n              />\n            </div>\n            <Button\n              type=\"submit\"\n              className=\"w-full\"\n              disabled={isLoading}\n              data-testid=\"button-management-login\"\n            >\n              {isLoading ? \"GiriÅŸ yapÄ±lÄ±yor...\" : \"YÃ¶netim Paneline GiriÅŸ Yap\"}\n            </Button>\n          </form>\n          <div className=\"mt-6 text-center\">\n            <Button\n              variant=\"ghost\"\n              onClick={() => navigate(\"/\")}\n              data-testid=\"button-back-home\"\n            >\n              Ana Sayfaya DÃ¶n\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":4777},"client/src/pages/player-detail-page.tsx":{"content":"import { useState } from \"react\";\nimport { useParams } from \"wouter\";\nimport { useAuth } from \"@/lib/auth\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Trophy, Target, Shield, Clock, Crosshair, Award, TrendingUp, User } from \"lucide-react\";\nimport { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip, Sector } from \"recharts\";\n\ninterface PlayerDetailData {\n  id: string;\n  username: string;\n  rank: string;\n  goals: number;\n  assists: number;\n  saves: number;\n  matchTime: number;\n  wins: number;\n  losses: number;\n  draws: number;\n  matchesPlayed: number;\n  points: number;\n  ranking: number;\n  totalPlayers: number;\n}\n\n// Test verileri (gerÃ§ek database yerine)\nconst testPlayerData: Record<string, PlayerDetailData> = {\n  \"Oyuncu1\": {\n    id: \"1\",\n    username: \"Oyuncu1\",\n    rank: \"Elmas\",\n    goals: 245,\n    assists: 180,\n    saves: 95,\n    matchTime: 864000,\n    wins: 280,\n    losses: 100,\n    draws: 40,\n    matchesPlayed: 420,\n    points: 1120,\n    ranking: 1,\n    totalPlayers: 10\n  },\n  \"Oyuncu2\": {\n    id: \"2\",\n    username: \"Oyuncu2\",\n    rank: \"Platin\",\n    goals: 198,\n    assists: 165,\n    saves: 88,\n    matchTime: 720000,\n    wins: 220,\n    losses: 120,\n    draws: 40,\n    matchesPlayed: 380,\n    points: 920,\n    ranking: 2,\n    totalPlayers: 10\n  },\n  \"Oyuncu3\": {\n    id: \"3\",\n    username: \"Oyuncu3\",\n    rank: \"AltÄ±n\",\n    goals: 175,\n    assists: 145,\n    saves: 82,\n    matchTime: 648000,\n    wins: 200,\n    losses: 110,\n    draws: 40,\n    matchesPlayed: 350,\n    points: 840,\n    ranking: 3,\n    totalPlayers: 10\n  }\n};\n\n// VarsayÄ±lan test verisi (oyuncu bulunamazsa)\nconst defaultPlayerData: PlayerDetailData = {\n  id: \"default\",\n  username: \"Test Oyuncu\",\n  rank: \"Bronz\",\n  goals: 50,\n  assists: 35,\n  saves: 20,\n  matchTime: 144000,\n  wins: 40,\n  losses: 30,\n  draws: 10,\n  matchesPlayed: 80,\n  points: 170,\n  ranking: 5,\n  totalPlayers: 10\n};\n\nconst renderActiveShape = (props: any) => {\n  const { cx, cy, innerRadius, outerRadius, startAngle, endAngle, fill, payload } = props;\n  const RADIAN = Math.PI / 180;\n  const midAngle = (startAngle + endAngle) / 2;\n  const sin = Math.sin(-RADIAN * midAngle);\n  const cos = Math.cos(-RADIAN * midAngle);\n  const textX = cx + (outerRadius + 20) * cos;\n  const textY = cy + (outerRadius + 20) * sin;\n\n  return (\n    <g>\n      <Sector\n        cx={cx}\n        cy={cy}\n        innerRadius={innerRadius}\n        outerRadius={outerRadius + 10}\n        startAngle={startAngle}\n        endAngle={endAngle}\n        fill={fill}\n        stroke={fill}\n      />\n      <text \n        x={textX} \n        y={textY} \n        fill=\"#e5e5e5\" \n        textAnchor={cos >= 0 ? 'start' : 'end'} \n        dominantBaseline=\"central\"\n        fontSize=\"16\"\n        fontWeight=\"700\"\n      >\n        %{payload.percentage}\n      </text>\n    </g>\n  );\n};\n\nexport default function PlayerDetailPage() {\n  const { username } = useParams();\n  const { user, logout } = useAuth();\n  const [activeIndex, setActiveIndex] = useState<number | undefined>(undefined);\n\n  // Test verileri kullan (gerÃ§ek database yerine)\n  const player = username && testPlayerData[username] \n    ? testPlayerData[username] \n    : defaultPlayerData;\n  const isLoading = false;\n\n  // Format seconds to detailed Turkish time format (ALWAYS shows ALL components)\n  const formatTime = (seconds: number) => {\n    let remainder = seconds;\n    \n    const weeks = Math.floor(remainder / (7 * 24 * 3600));\n    remainder = remainder % (7 * 24 * 3600);\n    \n    const days = Math.floor(remainder / (24 * 3600));\n    remainder = remainder % (24 * 3600);\n    \n    const hours = Math.floor(remainder / 3600);\n    remainder = remainder % 3600;\n    \n    const minutes = Math.floor(remainder / 60);\n    const secs = remainder % 60;\n\n    const parts = [];\n    parts.push(`${weeks} hafta`);\n    parts.push(`${days} gÃ¼n`);\n    parts.push(`${hours} saat`);\n    parts.push(`${minutes} dakika`);\n    parts.push(`${secs} saniye`);\n\n    return parts.join(' ');\n  };\n\n  // Calculate percentages\n  const totalMatches = player?.matchesPlayed || 0;\n  const winPercentage = totalMatches > 0 ? ((player?.wins || 0) / totalMatches * 100).toFixed(1) : '0.0';\n  const lossPercentage = totalMatches > 0 ? ((player?.losses || 0) / totalMatches * 100).toFixed(1) : '0.0';\n  const drawPercentage = totalMatches > 0 ? ((player?.draws || 0) / totalMatches * 100).toFixed(1) : '0.0';\n\n  // Prepare pie chart data\n  const pieChartData = [\n    { \n      name: 'Galibiyet', \n      value: player?.wins || 0, \n      percentage: winPercentage,\n      color: '#22c55e' // green-500\n    },\n    { \n      name: 'Yenilgi', \n      value: player?.losses || 0, \n      percentage: lossPercentage,\n      color: '#ef4444' // red-500\n    },\n    { \n      name: 'Beraberlik', \n      value: player?.draws || 0, \n      percentage: drawPercentage,\n      color: '#eab308' // yellow-500\n    },\n  ];\n\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header user={user} onLogout={logout} />\n      \n      <main className=\"flex-1 bg-background\">\n        <div className=\"max-w-7xl mx-auto px-4 py-8 space-y-8\">\n          {/* Player Header */}\n          <Card>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between flex-wrap gap-4\">\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center\">\n                        <User className=\"w-8 h-8 text-primary\" />\n                      </div>\n                      <div>\n                        <CardTitle className=\"text-3xl\" data-testid=\"text-player-username\">{player.username}</CardTitle>\n                        <p className=\"text-muted-foreground\" data-testid=\"text-player-rank\">{player.rank}</p>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"text-sm text-muted-foreground\">SÄ±ralama</p>\n                      <p className=\"text-2xl font-bold\" data-testid=\"text-player-ranking\">\n                        {player.ranking}. / {player.totalPlayers}\n                      </p>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"flex items-center gap-2\">\n                    <TrendingUp className=\"w-5 h-5 text-primary\" />\n                    <span className=\"text-lg\">Puan: </span>\n                    <span className=\"text-2xl font-bold text-primary\" data-testid=\"text-player-points\">{player.points}</span>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Match Statistics */}\n              <div>\n                <h2 className=\"text-2xl font-bold mb-4\">MaÃ§ Ä°statistikleri</h2>\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  {/* Stats Cards */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground\">Toplam MaÃ§</CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-3xl font-bold\" data-testid=\"text-matches-played\">{player.matchesPlayed}</p>\n                      </CardContent>\n                    </Card>\n\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                          <Trophy className=\"w-4 h-4 text-green-500\" />\n                          Galibiyet\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-3xl font-bold text-green-500\" data-testid=\"text-wins\">{player.wins}</p>\n                        <p className=\"text-sm text-muted-foreground\">%{winPercentage}</p>\n                      </CardContent>\n                    </Card>\n\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                          <Target className=\"w-4 h-4 text-red-500\" />\n                          Yenilgi\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-3xl font-bold text-red-500\" data-testid=\"text-losses\">{player.losses}</p>\n                        <p className=\"text-sm text-muted-foreground\">%{lossPercentage}</p>\n                      </CardContent>\n                    </Card>\n\n                    <Card>\n                      <CardHeader className=\"pb-3\">\n                        <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                          <Award className=\"w-4 h-4 text-yellow-500\" />\n                          Beraberlik\n                        </CardTitle>\n                      </CardHeader>\n                      <CardContent>\n                        <p className=\"text-3xl font-bold text-yellow-500\" data-testid=\"text-draws\">{player.draws}</p>\n                        <p className=\"text-sm text-muted-foreground\">%{drawPercentage}</p>\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  {/* 3D Pie Chart */}\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">MaÃ§ OranlarÄ±</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"flex items-center justify-center\">\n                      <ResponsiveContainer width=\"100%\" height={300}>\n                        <PieChart>\n                          <Pie\n                            data={pieChartData}\n                            cx=\"50%\"\n                            cy=\"50%\"\n                            startAngle={0}\n                            endAngle={360}\n                            innerRadius={0}\n                            outerRadius={95}\n                            paddingAngle={0}\n                            dataKey=\"value\"\n                            animationBegin={0}\n                            animationDuration={800}\n                            label={false}\n                            labelLine={false}\n                            blendStroke\n                            style={{ cursor: 'pointer' }}\n                            activeIndex={activeIndex}\n                            activeShape={renderActiveShape}\n                            onMouseEnter={(_, index) => setActiveIndex(index)}\n                            onMouseLeave={() => setActiveIndex(undefined)}\n                          >\n                            {pieChartData.map((entry, index) => (\n                              <Cell \n                                key={`cell-${index}`} \n                                fill={entry.color} \n                                stroke={entry.color}\n                              />\n                            ))}\n                          </Pie>\n                          <Legend \n                            verticalAlign=\"bottom\" \n                            height={36}\n                            formatter={(value: string) => <span className=\"text-sm\" style={{ color: '#e5e5e5' }}>{value}</span>}\n                          />\n                        </PieChart>\n                      </ResponsiveContainer>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n\n              {/* Performance Statistics */}\n              <div>\n                <h2 className=\"text-2xl font-bold mb-4\">Performans Ä°statistikleri</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                        âš½ Goller\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-3xl font-bold\" data-testid=\"text-goals\">{player.goals}</p>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                        ðŸŽ¯ Asistler\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-3xl font-bold\" data-testid=\"text-assists\">{player.assists}</p>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                        ðŸ§¤ KurtarÄ±ÅŸlar\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-3xl font-bold\" data-testid=\"text-saves\">{player.saves}</p>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                        â±ï¸ Oyun SÃ¼resi\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-xl font-bold\" data-testid=\"text-match-time\">{formatTime(player.matchTime)}</p>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                        ðŸ›¡ï¸ DM\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-3xl font-bold\" data-testid=\"text-dm\">0</p>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader className=\"pb-3\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n                        ðŸ¥… CS\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <p className=\"text-3xl font-bold\" data-testid=\"text-cs\">0</p>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n","size_bytes":15114}},"version":2}